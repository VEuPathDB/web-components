(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return LIGHT_RED})),__webpack_require__.d(__webpack_exports__,"f",(function(){return LIGHT_ORANGE})),__webpack_require__.d(__webpack_exports__,"i",(function(){return LIGHT_YELLOW})),__webpack_require__.d(__webpack_exports__,"e",(function(){return LIGHT_GREEN})),__webpack_require__.d(__webpack_exports__,"c",(function(){return LIGHT_BLUE})),__webpack_require__.d(__webpack_exports__,"g",(function(){return LIGHT_PURPLE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DARK_GREEN})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DARK_GRAY})),__webpack_require__.d(__webpack_exports__,"j",(function(){return MEDIUM_GRAY})),__webpack_require__.d(__webpack_exports__,"d",(function(){return LIGHT_GRAY}));__webpack_require__(18);var LIGHT_RED="#CC3030",LIGHT_ORANGE="#DD6E36",LIGHT_YELLOW="#F8CC1B",LIGHT_GREEN="#40A853",LIGHT_BLUE="#5586BE",LIGHT_PURPLE="#6B6AA9",DARK_GREEN="#338541",DARK_GRAY=([].concat([LIGHT_RED,LIGHT_ORANGE,LIGHT_YELLOW,LIGHT_GREEN,LIGHT_BLUE,LIGHT_PURPLE]).reverse(),"rgb(100, 100, 100)"),MEDIUM_GRAY="rgb(150, 150, 150)",LIGHT_GRAY="rgb(240, 240, 240)"},117:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return geohashAnimation}));__webpack_require__(18),__webpack_require__(57),__webpack_require__(14),__webpack_require__(24);var react=__webpack_require__(0);function updateMarkers(toChangeMarkers,sourceMarkers,hashDif){return toChangeMarkers.map((function(markerObj){var sourceHash=markerObj.key.slice(0,-hashDif),matchingMarkers=sourceMarkers.filter((function(obj){return obj.key===sourceHash})),markerCloneProps={};return 1==matchingMarkers.length&&(markerCloneProps={position:matchingMarkers[0].props.position}),Object(react.cloneElement)(markerObj,markerCloneProps)}))}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function geohashAnimation(_ref){var zoomType,consolidatedMarkers,prevMarkers=_ref.prevMarkers,markers=_ref.markers,prevGeoHash=prevMarkers[0].key,currentGeohash=markers[0].key;if(prevGeoHash.length>currentGeohash.length){zoomType="out";var cloneArray=updateMarkers(prevMarkers,markers,prevGeoHash.length-currentGeohash.length);consolidatedMarkers=[].concat(_toConsumableArray(markers),_toConsumableArray(cloneArray))}else if(prevGeoHash.length<currentGeohash.length){zoomType="in",consolidatedMarkers=updateMarkers(markers,prevMarkers,currentGeohash.length-prevGeoHash.length)}else zoomType=null,consolidatedMarkers=_toConsumableArray(markers);return{zoomType:zoomType,markers:consolidatedMarkers}}try{geohash.displayName="geohash",geohash.__docgenInfo={description:"",displayName:"geohash",props:{prevMarkers:{defaultValue:null,description:"",name:"prevMarkers",required:!0,type:{name:"ReactElement<MarkerProps, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<...>)>[]"}},markers:{defaultValue:null,description:"",name:"markers",required:!0,type:{name:"ReactElement<MarkerProps, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<...>)>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/animation_functions/geohash.tsx#geohash"]={docgenInfo:geohash.__docgenInfo,name:"geohash",path:"src/map/animation_functions/geohash.tsx#geohash"})}catch(__react_docgen_typescript_loader_error){}},118:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return getSpeciesDonuts})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getSpeciesBasicMarkers})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCollectionDateChartMarkers})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getCollectionDateBasicMarkers}));__webpack_require__(18),__webpack_require__(57),__webpack_require__(48),__webpack_require__(38),__webpack_require__(29),__webpack_require__(14),__webpack_require__(65),__webpack_require__(407),__webpack_require__(296),__webpack_require__(15),__webpack_require__(104),__webpack_require__(30),__webpack_require__(51),__webpack_require__(31);var jsx_runtime=__webpack_require__(1),map=(__webpack_require__(76),__webpack_require__(0),__webpack_require__(44)),leaflet_src=(__webpack_require__(78),__webpack_require__(1363),__webpack_require__(1365),__webpack_require__(27),__webpack_require__(12)),leaflet_src_default=__webpack_require__.n(leaflet_src),BoundsDriftMarker=__webpack_require__(168),PiePlot=__webpack_require__(152);function toCartesian(centerX,centerY,radius,angleInRadianInput){var angleInRadians=angleInRadianInput-Math.PI/2;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)}}function DonutMarker(props){for(var fullStat={slices:[]},defaultColor="",i=0;i<props.data.length;i++){var datum=props.data[i];defaultColor=datum.color?datum.color:"silver",fullStat.slices.push({color:defaultColor,label:datum.label,value:datum.value})}var svgHTML="";svgHTML+='<svg width="40" height="40">';var sumValues=fullStat.slices.map((function(o){return o.value})).reduce((function(a,c){return a+c})),sumLabel=function kFormatter(num){return Math.abs(num)>9999?(Math.sign(num)*(Math.abs(num)/1e3)).toFixed(0)+"k":Math.sign(num)*Math.abs(num)}(sumValues);svgHTML+='<circle cx="20" cy="20" r="20" stroke="green" stroke-width="0" fill="white" />';var startValue=0;if(fullStat.slices.forEach((function(el){if(sumValues>0){var arcValue=el.value/sumValues;svgHTML+='<path fill="none" stroke="'+el.color+'" stroke-width="4" d="'+function makeArc(x,y,radius,startAngle,endAngle){var endAngleOriginal=endAngle;endAngleOriginal-startAngle==2*Math.PI&&(endAngle=359*Math.PI/180);var start=toCartesian(x,y,radius,endAngle),end=toCartesian(x,y,radius,startAngle),arcSweep=endAngle-startAngle<=Math.PI?"0":"1";return endAngleOriginal-startAngle==2*Math.PI?["M",start.x,start.y,"A",radius,radius,0,arcSweep,0,end.x,end.y,"z"].join(" "):["M",start.x,start.y,"A",radius,radius,0,arcSweep,0,end.x,end.y].join(" ")}(20,20,18,startValue,startValue+2*arcValue*Math.PI)+'" />',startValue+=2*arcValue*Math.PI}})),svgHTML+='<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" opacity="1" fill="#505050" font-family="Arial, Helvetica, sans-serif" font-weight="bold" font-size="1em">'+sumLabel+"</text>",props.isAtomic){svgHTML+='<text x="86%" y="14%" dominant-baseline="middle" text-anchor="middle" opacity="0.75" font-weight="bold" font-size="1.2em">&#128392;</text>'}svgHTML+="</svg>";var SVGDonutIcon=leaflet_src_default.a.divIcon({className:"leaflet-canvas-icon",iconSize:new leaflet_src_default.a.Point(40,40),iconAnchor:new leaflet_src_default.a.Point(20,20),html:svgHTML}),duration=props.duration?props.duration:300,popupPlot=Object(jsx_runtime.jsx)(PiePlot.a,{data:fullStat,donutOptions:{size:.5,text:sumLabel,fontSize:18},width:150,height:150,spacingOptions:{marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},displayLegend:!1,showHoverInfo:!1,displayLibraryControls:!1,textOptions:{displayPosition:"inside",displayOption:"text",sliceOverrides:fullStat.slices.map((function(datum){return datum.value/sumValues>=.015?datum.value.toString():""}))}});return Object(jsx_runtime.jsx)(BoundsDriftMarker.a,{id:props.id,position:props.position,bounds:props.bounds,icon:SVGDonutIcon,duration:duration,popupContent:{content:popupPlot,size:{width:150,height:150}},showPopup:props.showPopup,popupClass:"donut-popup"})}DonutMarker.displayName="DonutMarker";try{DonutMarker.displayName="DonutMarker",DonutMarker.__docgenInfo={description:"DKDK this is a SVG donut marker icon",displayName:"DonutMarker",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ value: number; label: string; color?: string | undefined; }[]"}},isAtomic:{defaultValue:null,description:"",name:"isAtomic",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: LeafletMouseEvent) => void) | undefined"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},duration:{defaultValue:null,description:"",name:"duration",required:!0,type:{name:"number"}},popupClass:{defaultValue:null,description:"",name:"popupClass",required:!1,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"LatLngLiteral"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"Icon<IconOptions>"}},showPopup:{defaultValue:null,description:"",name:"showPopup",required:!1,type:{name:"boolean"}},popupContent:{defaultValue:null,description:"",name:"popupContent",required:!1,type:{name:"{ content: ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<any, any, any>)>; size: { ...; }; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/DonutMarker.tsx#DonutMarker"]={docgenInfo:DonutMarker.__docgenInfo,name:"DonutMarker",path:"src/map/DonutMarker.tsx#DonutMarker"})}catch(__react_docgen_typescript_loader_error){}var Histogram=__webpack_require__(170);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ChartMarker(props){for(var _props$dependentAxisR,fullStat=[],defaultColor="",defaultLineColor="",i=0;i<props.values.length;i++)props.colors?(defaultColor=props.colors[i],defaultLineColor="#00000088"):(defaultColor="#7cb5ec",defaultLineColor="#7cb5ec"),fullStat.push({color:defaultColor,label:props.labels[i],value:props.values[i]});defaultLineColor=props.borderColor||defaultLineColor;var borderWidth=props.borderWidth||1,svgHTML="";svgHTML+='<svg width="'+(50+2*borderWidth)+'" height="'+(50+2*borderWidth)+'">';var count=fullStat.length,sumValues=fullStat.map((function(o){return o.value})).reduce((function(a,c){return a+c})),maxValues=Math.max.apply(Math,_toConsumableArray(fullStat.map((function(o){return o.value}))));0==maxValues&&(maxValues=1);svgHTML+='<rect x="0" y="0" rx=10 ry=10 width='+(50+2*borderWidth)+" height="+(50+2*borderWidth)+' fill="white" stroke="'+defaultLineColor+'" stroke-width="0" opacity="1.0" />',svgHTML+="<rect x="+borderWidth/2+" y="+borderWidth/2+' rx="9" ry="9" width="'+(50+borderWidth)+'" height="'+(50+borderWidth)+'" fill="white" opacity="1" stroke="'+defaultLineColor+'" stroke-width="'+borderWidth+'"/>';var barWidth,startingX,barHeight,globalMaxValue=0;if(props.dependentAxisRange&&(globalMaxValue=props.dependentAxisRange.max-props.dependentAxisRange.min),globalMaxValue?fullStat.forEach((function(el,index){startingX=5+borderWidth+(barWidth=40/count)*index,barHeight=el.value/globalMaxValue*30,svgHTML+="<rect x="+startingX+" y="+(35-barHeight+borderWidth)+" width="+barWidth+" height="+barHeight+" fill="+el.color+" />"})):fullStat.forEach((function(el,index){startingX=5+borderWidth+(barWidth=40/count)*index,barHeight=el.value/maxValues*30,svgHTML+="<rect x="+startingX+" y="+(35-barHeight+borderWidth)+" width="+barWidth+" height="+barHeight+" fill="+el.color+" />"})),svgHTML+="<line x1="+borderWidth+' y1="'+(38+borderWidth)+'" x2="'+(50+borderWidth)+'" y2="'+(38+borderWidth)+'" style="stroke:'+defaultLineColor+';stroke-width:1" />',svgHTML+='<text x="50%" y='+(38+borderWidth+7)+' dominant-baseline="middle" text-anchor="middle" opacity="1">'+sumValues+"</text>",props.isAtomic){svgHTML+='<text x="89%" y="11%" dominant-baseline="middle" text-anchor="middle" opacity="0.75" font-weight="bold" font-size="1.2em">&#128392;</text>'}svgHTML+="</svg>";var totalSize=55+borderWidth,HistogramIcon=leaflet_src_default.a.divIcon({className:"leaflet-canvas-icon",iconSize:new leaflet_src_default.a.Point(totalSize,totalSize),iconAnchor:new leaflet_src_default.a.Point(totalSize/2,totalSize/2),html:svgHTML}),duration=props.duration?props.duration:300,popupPlot=Object(jsx_runtime.jsx)(Histogram.a,{data:{series:props.labels.map((function(label,i){return{name:label,color:props.colors?props.colors[i]:void 0,bins:[{binStart:i,binEnd:i+1,binLabel:label,count:props.values[i]}]}}))},orientation:"vertical",barLayout:"group",width:200,height:200,spacingOptions:{marginLeft:5,marginRight:5,marginTop:5,marginBottom:5},displayLegend:!1,displayLibraryControls:!1,interactive:!1,dependentAxisLabel:"",independentAxisLabel:"Total: ".concat(sumValues.toString()),dependentAxisRange:null!==(_props$dependentAxisR=props.dependentAxisRange)&&void 0!==_props$dependentAxisR?_props$dependentAxisR:void 0,showBarValues:!0});return Object(jsx_runtime.jsx)(BoundsDriftMarker.a,{id:props.id,position:props.position,bounds:props.bounds,icon:HistogramIcon,duration:duration,popupContent:{content:popupPlot,size:{height:210,width:210}},showPopup:props.showPopup,popupClass:"histogram-popup"})}ChartMarker.displayName="ChartMarker";try{ChartMarker.displayName="ChartMarker",ChartMarker.__docgenInfo={description:"this is a SVG histogram/chart marker icon\n- no (drop) shadow\n- no gap between bars\n- accordingly icon size could be reduced",displayName:"ChartMarker",props:{borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"string"}},borderWidth:{defaultValue:null,description:"",name:"borderWidth",required:!1,type:{name:"number"}},labels:{defaultValue:null,description:"",name:"labels",required:!0,type:{name:"string[]"}},values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"number[]"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[] | null"}},isAtomic:{defaultValue:null,description:"",name:"isAtomic",required:!1,type:{name:"boolean"}},dependentAxisRange:{defaultValue:null,description:"",name:"dependentAxisRange",required:!1,type:{name:"NumberRange | null"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: LeafletMouseEvent) => void) | undefined"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},duration:{defaultValue:null,description:"",name:"duration",required:!0,type:{name:"number"}},popupClass:{defaultValue:null,description:"",name:"popupClass",required:!1,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"LatLngLiteral"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"Icon<IconOptions>"}},showPopup:{defaultValue:null,description:"",name:"showPopup",required:!1,type:{name:"boolean"}},popupContent:{defaultValue:null,description:"",name:"popupContent",required:!1,type:{name:"{ content: ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<any, any, any>)>; size: { ...; }; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/ChartMarker.tsx#ChartMarker"]={docgenInfo:ChartMarker.__docgenInfo,name:"ChartMarker",path:"src/map/ChartMarker.tsx#ChartMarker"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function getMarkersFromFixtureData_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return getMarkersFromFixtureData_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return getMarkersFromFixtureData_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function getMarkersFromFixtureData_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function sleep(ms){return new Promise((function(resolve){return setTimeout(resolve,ms)}))}var getSpeciesDonuts=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref,duration,setLegendData,handleMarkerClick){var bounds,zoomLevel,delay,geohash_level,response,speciesData,buckets,speciesToCount,speciesToColor,legendData,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(bounds=_ref.bounds,zoomLevel=_ref.zoomLevel,delay=_args.length>4&&void 0!==_args[4]?_args[4]:0,geohash_level=map.d[zoomLevel],_context.t0=delay,!_context.t0){_context.next=7;break}return _context.next=7,sleep(delay);case 7:return _context.next=9,fetch("data/geoclust-species-testing-all-levels.json");case 9:return response=_context.sent,_context.next=12,response.json();case 12:return speciesData=_context.sent,buckets=speciesData["geohash_".concat(geohash_level)].facets.geo.buckets.filter((function(bucket){var lat=bucket.ltAvg,long=bucket.lnAvg,south=bounds.southWest.lat,north=bounds.northEast.lat,west=bounds.southWest.lng,east=bounds.northEast.lng;return lat>south&&lat<north&&(west<east-1e-8?long>west&&long<east:!(west>east+1e-8)||!(long>east&&long<west))})),speciesToCount=new Map,buckets.forEach((function(bucket){bucket.term.buckets.forEach((function(bucket){var species=bucket.val,prevCount=speciesToCount.get(species);void 0===prevCount&&(prevCount=0),speciesToCount.set(species,prevCount+bucket.count)}))})),speciesToCount=new Map(Array.from(speciesToCount).sort((function(_ref3,_ref4){var _ref5=_slicedToArray(_ref3,2),v1=(_ref5[0],_ref5[1]),_ref6=_slicedToArray(_ref4,2),v2=(_ref6[0],_ref6[1]);return v1>v2?-1:v2>v1?1:0}))),speciesToColor=new Map(Array.from(speciesToCount).map((function(_ref7,index){var _ref8=_slicedToArray(_ref7,2),k=_ref8[0];_ref8[1];return index<10?[k,map.a[index]]:[k,"silver"]}))),legendData=Array.from(speciesToCount.keys()).map((function(key){return{label:key,value:speciesToCount.get(key)||-1,color:speciesToColor.get(key)||"silver"}})),setLegendData(legendData),_context.abrupt("return",buckets.map((function(bucket){var lat=bucket.ltAvg,lng=bucket.lnAvg,bounds={southWest:{lat:bucket.ltMin,lng:bucket.lnMin},northEast:{lat:bucket.ltMax,lng:bucket.lnMax}},data=[];bucket.term.buckets.forEach((function(bucket){var species=bucket.val;data.push({label:species,value:bucket.count,color:speciesToColor.get(species)||"silver"})}));var atomicValue=!(!bucket.atomicCount||1!==bucket.atomicCount),key=bucket.val;return Object(jsx_runtime.jsx)(DonutMarker,{id:key,position:{lat:lat,lng:lng},bounds:bounds,data:data,isAtomic:atomicValue,onClick:handleMarkerClick,duration:duration},key)})));case 21:case"end":return _context.stop()}}),_callee)})));return function getSpeciesDonuts(_x,_x2,_x3,_x4){return _ref2.apply(this,arguments)}}(),getSpeciesBasicMarkers=function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref9,duration,handleMarkerClick){var bounds,zoomLevel,geohash_level,response,speciesData,buckets;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return bounds=_ref9.bounds,zoomLevel=_ref9.zoomLevel,geohash_level=map.d[zoomLevel],_context2.next=4,fetch("data/geoclust-species-testing-all-levels.json");case 4:return response=_context2.sent,_context2.next=7,response.json();case 7:return speciesData=_context2.sent,buckets=speciesData["geohash_".concat(geohash_level)].facets.geo.buckets.filter((function(bucket){var lat=bucket.ltAvg,long=bucket.lnAvg,south=bounds.southWest.lat,north=bounds.northEast.lat,west=bounds.southWest.lng,east=bounds.northEast.lng;return lat>south&&lat<north&&(west<east-1e-8?long>west&&long<east:!(west>east+1e-8)||!(long>east&&long<west))})),_context2.abrupt("return",buckets.map((function(bucket){var lat=bucket.ltAvg,lng=bucket.lnAvg,bounds={southWest:{lat:bucket.ltMin,lng:bucket.lnMin},northEast:{lat:bucket.ltMax,lng:bucket.lnMax}},data=[{label:"unknown",value:bucket.count,color:"white"}],atomicValue=!(!bucket.atomicCount||1!==bucket.atomicCount),key=bucket.val;return Object(jsx_runtime.jsx)(DonutMarker,{id:key,position:{lat:lat,lng:lng},bounds:bounds,data:data,isAtomic:atomicValue,onClick:handleMarkerClick,duration:duration},key)})));case 10:case"end":return _context2.stop()}}),_callee2)})));return function getSpeciesBasicMarkers(_x5,_x6,_x7){return _ref10.apply(this,arguments)}}(),getCollectionDateChartMarkers=function(){var _ref12=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(_ref11,duration,setLegendData,handleMarkerClick,legendRadioValue,setDependentAxisRange){var bounds,zoomLevel,delay,geohash_level,response,collectionDateData,legendSums,legendLabels,legendColors,yAxisRange,yAxisRangeAll,buckets,markers,legendData,_args3=arguments;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(bounds=_ref11.bounds,zoomLevel=_ref11.zoomLevel,delay=_args3.length>6&&void 0!==_args3[6]?_args3[6]:0,geohash_level=map.d[zoomLevel],_context3.t0=delay,!_context3.t0){_context3.next=7;break}return _context3.next=7,sleep(delay);case 7:return _context3.next=9,fetch("data/geoclust-date-binning-testing-all-levels.json");case 9:return response=_context3.sent,_context3.next=12,response.json();case 12:return collectionDateData=_context3.sent,legendSums=[],legendLabels=[],legendColors=[],yAxisRange=[],yAxisRangeAll=[],buckets=collectionDateData["geohash_".concat(geohash_level)].facets.geo.buckets.filter((function(bucket){var lat=bucket.ltAvg,long=bucket.lnAvg,south=bounds.southWest.lat,north=bounds.northEast.lat,west=bounds.southWest.lng,east=bounds.northEast.lng;return lat>south&&lat<north&&(west<east-1e-8?long>west&&long<east:!(west>east+1e-8)||!(long>east&&long<west))})),yAxisRangeAll=[0,buckets.reduce((function(currentMax,bucket){return Math.max(currentMax,bucket.count-bucket.term.before.count-bucket.term.after.count-bucket.term.between.count,bucket.term.buckets.reduce((function(currentMax,bucket){return Math.max(currentMax,bucket.count)}),0))}),0)],"Regional"===legendRadioValue&&(yAxisRange=yAxisRangeAll),setDependentAxisRange(yAxisRangeAll),markers=buckets.map((function(bucket){var noDataValue,lat=bucket.ltAvg,lng=bucket.lnAvg,bounds={southWest:{lat:bucket.ltMin,lng:bucket.lnMin},northEast:{lat:bucket.ltMax,lng:bucket.lnMax}},labels=[],values=[],colors=[];bucket.term.buckets.forEach((function(bucket,index){var start=bucket.val.substring(0,4),end=parseInt(start,10)+3,label="".concat(start,"-").concat(end);labels.push(label),values.push(bucket.count),colors.push(map.b[index]),void 0===legendSums[index]&&(legendSums[index]=0,legendLabels[index]=label,legendColors[index]=map.b[index]),legendSums[index]+=bucket.count})),noDataValue=bucket.count-bucket.term.between.count,labels.push("noDataOrOutOfBounds"),values.push(noDataValue),colors.push("silver"),legendLabels[5]="no data/out of bounds",void 0===legendSums[5]&&(legendSums[5]=0),legendSums[5]+=noDataValue,legendColors[5]="silver";var atomicValue=!(!bucket.atomicCount||1!==bucket.atomicCount),key=bucket.val,yAxisRangeValue=yAxisRange||null;return Object(jsx_runtime.jsx)(ChartMarker,{borderColor:"#AAAAAA",borderWidth:3.5,id:key,position:{lat:lat,lng:lng},bounds:bounds,labels:labels,values:values,colors:colors,isAtomic:atomicValue,dependentAxisRange:yAxisRangeValue?{min:yAxisRangeValue[0],max:yAxisRangeValue[1]}:null,duration:duration,onClick:handleMarkerClick},key)})),legendData=legendSums.map((function(count,index){return{label:legendLabels[index],value:count,color:legendColors[index]}})),setLegendData(legendData),_context3.abrupt("return",markers);case 26:case"end":return _context3.stop()}}),_callee3)})));return function getCollectionDateChartMarkers(_x8,_x9,_x10,_x11,_x12,_x13){return _ref12.apply(this,arguments)}}(),getCollectionDateBasicMarkers=function(){var _ref14=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(_ref13,duration,handleMarkerClick){var bounds,zoomLevel,geohash_level,response,collectionDateData,buckets,markers;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return bounds=_ref13.bounds,zoomLevel=_ref13.zoomLevel,geohash_level=map.d[zoomLevel],_context4.next=4,fetch("data/geoclust-date-binning-testing-all-levels.json");case 4:return response=_context4.sent,_context4.next=7,response.json();case 7:return collectionDateData=_context4.sent,buckets=collectionDateData["geohash_".concat(geohash_level)].facets.geo.buckets.filter((function(bucket){var lat=bucket.ltAvg,long=bucket.lnAvg,south=bounds.southWest.lat,north=bounds.northEast.lat,west=bounds.southWest.lng,east=bounds.northEast.lng;return lat>south&&lat<north&&(west<east-1e-8?long>west&&long<east:!(west>east+1e-8)||!(long>east&&long<west))})),markers=buckets.map((function(bucket){var lat=bucket.ltAvg,lng=bucket.lnAvg,bounds={southWest:{lat:bucket.ltMin,lng:bucket.lnMin},northEast:{lat:bucket.ltMax,lng:bucket.lnMax}},values=[bucket.count],atomicValue=!(!bucket.atomicCount||1!==bucket.atomicCount),key=bucket.val;return Object(jsx_runtime.jsx)(ChartMarker,{borderColor:"#AAAAAA",borderWidth:3.5,id:key,position:{lat:lat,lng:lng},bounds:bounds,labels:["count"],values:values,colors:["white"],isAtomic:atomicValue,dependentAxisRange:null,duration:duration,onClick:handleMarkerClick},key)})),_context4.abrupt("return",markers);case 11:case"end":return _context4.stop()}}),_callee4)})));return function getCollectionDateBasicMarkers(_x14,_x15,_x16){return _ref14.apply(this,arguments)}}()},1293:function(module,exports,__webpack_require__){"use strict";__webpack_require__(8),__webpack_require__(57),__webpack_require__(48),__webpack_require__(1294),__webpack_require__(1295),__webpack_require__(17),__webpack_require__(51);var _clientApi=__webpack_require__(107),_clientLogger=__webpack_require__(64),_configFilename=__webpack_require__(1296);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1296:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));__webpack_require__(1297);var parameters={controls:{expanded:!0},layout:"fullscreen"}},1299:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(529).configure)([__webpack_require__(1300)],module,!1)}).call(this,__webpack_require__(161)(module))},1300:function(module,exports,__webpack_require__){var map={"./EntityDiagram/EntityDiagram.stories.tsx":1433,"./map/PopupError.stories.tsx":1313,"./stories/AnimatedMarkers.stories.tsx":1314,"./stories/ChartMarkers.stories.tsx":1362,"./stories/DonutMarkers.stories.tsx":1434,"./stories/MultipleWorlds.stories.tsx":1405,"./stories/SidebarResize.stories.tsx":1435,"./stories/SidebarStandAlone.stories.tsx":1409,"./stories/plotControls/HistogramControls.stories.tsx":1410,"./stories/plotControls/PieControls.stories.tsx":1415,"./stories/plots/Boxplot.stories.tsx":1436,"./stories/plots/Heatmap.stories.tsx":1437,"./stories/plots/Histogram.stories.tsx":1432,"./stories/plots/MosaicPlot.stories.tsx":1438,"./stories/plots/PiePlot.stories.tsx":1417,"./stories/plots/ScatterAndLinePlotGeneral.stories.tsx":1439,"./stories/widgets/ButtonGroup.stories.tsx":1418,"./stories/widgets/DateInput.stories.tsx":1419,"./stories/widgets/DateRangeInput.stories.tsx":1420,"./stories/widgets/NumberInput.stories.tsx":1421,"./stories/widgets/NumberRangeInput.stories.tsx":1422,"./stories/widgets/OpacitySlider.stories.tsx":1423,"./stories/widgets/OrientationToggle.stories.tsx":1424,"./stories/widgets/PopoverButton.stories.tsx":1440,"./stories/widgets/Slider.stories.tsx":1425,"./stories/widgets/Switch.stories.tsx":1426};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1300},1311:function(module,exports,__webpack_require__){var api=__webpack_require__(209),content=__webpack_require__(1312);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1312:function(module,exports,__webpack_require__){(exports=__webpack_require__(210)(!1)).push([module.i,".mini-diagram {\n  position: absolute;\n}\n\n.expanded-diagram-enter {\n  opacity: 0;\n  transform: scale(-0.5);\n  transform-origin: top left;\n  margin-top: 60px;\n  margin-left: 60px;\n}\n\n.expanded-diagram-enter-active {\n  opacity: 1;\n  transition: 1000ms;\n  transform: initial;\n  margin-top: 0;\n  margin-left: 0;\n}\n\n.expanded-diagram-exit {\n  opacity: 1;\n}\n.expanded-diagram-exit-active {\n  opacity: 0;\n  transition: 1000ms;\n  transform: scale(-0.2);\n  transform-origin: top left;\n}\n",""]),module.exports=exports},1313:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"PopupError",(function(){return PopupError}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),react_leaflet__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(338),react_leaflet__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(473),react_leaflet__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(474),react_leaflet__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(339);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Popup Errors",component:react_leaflet__WEBPACK_IMPORTED_MODULE_3__.a};var position=[51.505,-.09],PopupError=function PopupError(){var _React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(!1),2),showPopup=_React$useState2[0],setShowPopup=_React$useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("button",{onClick:function onClick(){return setShowPopup((function(val){return!val}))},children:"Toggle popups"})," ","(show: ",showPopup?"true":"false",")",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_leaflet__WEBPACK_IMPORTED_MODULE_3__.a,{style:{height:500,width:500},viewport:{center:position,zoom:12},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_4__.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_5__.a,{position:position,children:showPopup&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_6__.a,{children:"Hello, world"})})]})]})};PopupError.parameters=Object.assign({storySource:{source:"() => {\n  const [showPopup, setShowPopup] = React.useState(false);\n  return (\n    <>\n      <button onClick={() => setShowPopup((val) => !val)}>Toggle popups</button>{' '}\n      (show: {showPopup ? 'true' : 'false'})\n      <Map\n        style={{ height: 500, width: 500 }}\n        viewport={{ center: position, zoom: 12 }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        <Marker position={position}>\n          {showPopup && <Popup>Hello, world</Popup>}\n        </Marker>\n      </Map>\n    </>\n  );\n}"}},PopupError.parameters)},1314:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"DifferentSpeeds",(function(){return DifferentSpeeds})),__webpack_require__.d(__webpack_exports__,"NoAnimation",(function(){return NoAnimation}));__webpack_require__(1315),__webpack_require__(38),__webpack_require__(29),__webpack_require__(14),__webpack_require__(296),__webpack_require__(4),__webpack_require__(15),__webpack_require__(30),__webpack_require__(31);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0),_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(81),latlon_geohash__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(341),_map_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__(648),__webpack_require__(168)),_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(117),_map_config_map_json__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(44);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Map/Zoom animation"};var defaultAnimation={method:"geohash",animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_15__.a,duration:_map_config_map_json__WEBPACK_IMPORTED_MODULE_16__.c},getMarkerElements=function getMarkerElements(_ref,numMarkers,duration){var bounds=_ref.bounds,zoomLevel=_ref.zoomLevel;console.log("I've been triggered with longitude bounds=["+bounds.southWest.lng+" TO "+bounds.northEast.lng+"] and zoom="+zoomLevel);var seed,aggsByGeohash=new Map,myRandom=(seed=49734321,function(){return(268435455&(seed=4294967295&(3042594569^(seed=4251993797+(seed=4294967295&(3550635116+(seed=374761393+(seed=4294967295&(3345072700^(seed=seed+2127912214+(seed<<12)&4294967295)^seed>>>19))+(seed<<5)&4294967295)^seed<<9))+(seed<<3)&4294967295)^seed>>>16)))/268435456}),lats=[],longs=[],geohashLevel=_map_config_map_json__WEBPACK_IMPORTED_MODULE_16__.d[zoomLevel];return console.log("geohashlevel ".concat(geohashLevel)),Array(numMarkers).fill(void 0).map((function(){var lat=180*myRandom()-90,long=360*myRandom()-180;if(lats.length>0&&myRandom()<.75){var idx=Math.floor(myRandom()*lats.length);lat+=.999*(lats[idx]-lat),long+=.999*(longs[idx]-long)}var south=bounds.southWest.lat,north=bounds.northEast.lat,west=bounds.southWest.lng,east=bounds.northEast.lng;if(lat>south&&lat<north&&(west<east-1e-8?long>west&&long<east:!(west>east+1e-8)||!(long>east&&long<west))){var geohash=latlon_geohash__WEBPACK_IMPORTED_MODULE_12__.a.encode(lat,long,geohashLevel),agg=aggsByGeohash.get(geohash);void 0===agg&&(agg={lat:0,long:0,latMin:void 0,latMax:void 0,longMin:void 0,longMax:void 0,count:0,geohash:geohash},aggsByGeohash.set(geohash,agg)),agg.lat=agg.lat+lat,agg.long=agg.long+long,(void 0===agg.latMin||lat<agg.latMin)&&(agg.latMin=lat),(void 0===agg.longMin||long<agg.longMin)&&(agg.longMin=long),(void 0===agg.latMax||lat>agg.latMax)&&(agg.latMax=lat),(void 0===agg.longMax||long>agg.longMax)&&(agg.longMax=long),agg.count++}lats.push(lat),longs.push(long)})),Array.from(aggsByGeohash.values()).map((function(agg){var meanLat=agg.lat/agg.count,meanLong=agg.long/agg.count,key=agg.geohash;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_map_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_14__.a,{duration:duration,id:key,position:{lat:meanLat,lng:meanLong},bounds:{southWest:{lat:agg.latMin,lng:agg.longMin},northEast:{lat:agg.latMax,lng:agg.longMax}}},key)}))},Default=function Default(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_10__.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],duration=_map_config_map_json__WEBPACK_IMPORTED_MODULE_16__.c,handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(bvp){setMarkerElements(getMarkerElements(bvp,1e5,duration))}),[setMarkerElements]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_11__.a,Object.assign({},args,{viewport:{center:[20,-3],zoom:5},onViewportChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation}))};Default.displayName="Default",Default.args={showGrid:!0,height:"100vh",width:"100vw"};var DifferentSpeeds=function DifferentSpeeds(args){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_10__.useState)([]),2),markerElements=_useState4[0],setMarkerElements=_useState4[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(bvp){setMarkerElements(getMarkerElements(bvp,1e5,args.animationDuration))}),[setMarkerElements,args.animationDuration]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_11__.a,Object.assign({},args,{viewport:{center:[20,-3],zoom:5},onViewportChanged:handleViewportChanged,markers:markerElements,animation:{method:"geohash",animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_15__.a,duration:args.animationDuration}}))};DifferentSpeeds.displayName="DifferentSpeeds",DifferentSpeeds.args={animationDuration:2e3,showGrid:!0,height:"100vh",width:"100vw"};var NoAnimation=function NoAnimation(args){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_10__.useState)([]),2),markerElements=_useState6[0],setMarkerElements=_useState6[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(bvp){setMarkerElements(getMarkerElements(bvp,1e5,1))}),[setMarkerElements]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_11__.a,Object.assign({},args,{viewport:{center:[20,-3],zoom:5},onViewportChanged:handleViewportChanged,markers:markerElements,animation:null}))};NoAnimation.displayName="NoAnimation",NoAnimation.args={showGrid:!0,height:"100vh",width:"100vw"},Default.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const duration = defaultAnimationDuration;\n  const handleViewportChanged = useCallback(\n    (bvp: BoundsViewport) => {\n      setMarkerElements(getMarkerElements(bvp, 100000, duration));\n    },\n    [setMarkerElements]\n  );\n\n  return (\n    <MapVEuMap\n      {...args}\n      viewport={{ center: [20, -3], zoom: 5 }}\n      onViewportChanged={handleViewportChanged}\n      markers={markerElements}\n      animation={defaultAnimation}\n    />\n  );\n}"}},Default.parameters),DifferentSpeeds.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const handleViewportChanged = useCallback(\n    (bvp: BoundsViewport) => {\n      setMarkerElements(getMarkerElements(bvp, 100000, args.animationDuration));\n    },\n    [setMarkerElements, args.animationDuration]\n  );\n\n  return (\n    <MapVEuMap\n      {...args}\n      viewport={{ center: [20, -3], zoom: 5 }}\n      onViewportChanged={handleViewportChanged}\n      markers={markerElements}\n      animation={{\n        method: 'geohash',\n        animationFunction: geohashAnimation,\n        duration: args.animationDuration,\n      }}\n    />\n  );\n}"}},DifferentSpeeds.parameters),NoAnimation.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const handleViewportChanged = useCallback(\n    (bvp: BoundsViewport) => {\n      setMarkerElements(getMarkerElements(bvp, 100000, 1));\n    },\n    [setMarkerElements]\n  );\n\n  return (\n    <MapVEuMap\n      {...args}\n      viewport={{ center: [20, -3], zoom: 5 }}\n      onViewportChanged={handleViewportChanged}\n      markers={markerElements}\n      animation={null}\n    />\n  );\n}"}},NoAnimation.parameters)},1321:function(module,exports,__webpack_require__){(exports=__webpack_require__(210)(!1)).push([module.i,".parent-leaflet-tile .leaflet-tile {\n  border: solid gray 1px;\n}\n\n.cursor-zoom-in {\n  cursor: zoom-in;\n}\n\n.mouse-toolbar {\n  position: relative;\n  right: 6rem;\n}\n\n.mapveu-hori-bar > a {\n  display: inline-block !important;\n}\n\n.mapveu-hori-bar a:first-child {\n  border-radius: 4px 0 0 4px !important;\n}\n\n.mapveu-hori-bar a:last-child {\n  border-radius: 0 4px 4px 0 !important;\n}\n\n.mouse-toolbar > a:hover {\n  background-color: #f4f4f4;\n}\n\n.mapveu-button :not(.mapveu-button-selected) :hover {\n  background-color: rgb(78, 78, 78) !important;\n}\n\n.mapveu-button-selected {\n  background-color: rgb(1, 1, 144) !important;\n}\n\n.mapveu-button > i {\n  background: none;\n  border: inherit;\n  border-radius: inherit;\n}\n\n.mapveu-button-selected > i {\n  color: white;\n}\n\n.plot-marker-popup.popup-right,\n.plot-marker-popup.popup-left,\n.plot-marker-popup.popup-down {\n  transform-origin: center bottom;\n}\n\n.plot-marker-popup.popup-right,\n.plot-marker-popup.popup-left {\n  margin-bottom: 7px;\n}\n\n.plot-marker-popup.histogram-popup.popup-up {\n  margin-bottom: 36px;\n}\n\n.plot-marker-popup.histogram-popup.popup-right {\n  margin-left: 30px;\n}\n\n.plot-marker-popup.histogram-popup.popup-left {\n  margin-left: -30px;\n}\n\n.plot-marker-popup.histogram-popup.popup-down {\n  margin-bottom: -22px;\n}\n\n.plot-marker-popup.donut-popup.popup-up {\n  margin-bottom: 27px;\n}\n\n.plot-marker-popup.donut-popup.popup-right {\n  margin-left: 20px;\n}\n\n.plot-marker-popup.donut-popup.popup-left {\n  margin-left: -20px;\n}\n\n.plot-marker-popup.donut-popup.popup-down {\n  margin-bottom: -12px;\n}\n\n.plot-marker-popup.popup-up .leaflet-popup-content {\n  transform: rotate(0deg);\n}\n\n.plot-marker-popup.popup-right .leaflet-popup-content {\n  transform: rotate(-90deg);\n}\n\n.plot-marker-popup.popup-left .leaflet-popup-content {\n  transform: rotate(90deg);\n}\n\n.plot-marker-popup.popup-down .leaflet-popup-content {\n  transform: rotate(180deg);\n}\n",""]),module.exports=exports},1349:function(module,exports){},1351:function(module,exports){},1362:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AllInOneRequest",(function(){return AllInOneRequest})),__webpack_require__.d(__webpack_exports__,"TwoRequests",(function(){return TwoRequests}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(76),__webpack_require__(0)),_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(81),_map_config_map_json__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(44),_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(118),_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(197),_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(117);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Map/Chart Markers",component:_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_4__.a};var defaultAnimation={method:"geohash",animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_8__.a,duration:_map_config_map_json__WEBPACK_IMPORTED_MODULE_5__.c},handleMarkerClick=function handleMarkerClick(){},dropDownProps={dropdownTitle:"Collection Date",dropdownHref:["#/link-1","#/link-2","#/link-3","#/link-4","#/link-5"],dropdownItemText:["Year","Month","Date","Hour","Minute"]},variableProps={variableLabel:"<b>Collection date</b>",quantityLabel:"<b>Record count</b>",legendInfoNumberText:"Collections"},AllInOneRequest=function AllInOneRequest(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),2),legendData=_useState4[0],setLegendData=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)("Individual"),2),legendRadioValue=_useState6[0],setLegendRadioValue=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([0,0]),2),dependentAxisRange=_useState8[0],setDependentAxisRange=_useState8[1],duration=_map_config_map_json__WEBPACK_IMPORTED_MODULE_5__.c,handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(bvp){var markers;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_6__.b)(bvp,duration,setLegendData,handleMarkerClick,legendRadioValue,setDependentAxisRange);case 2:markers=_context.sent,setMarkerElements(markers);case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[setMarkerElements,legendRadioValue]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args,{viewport:{center:[13,0],zoom:6},onViewportChanged:handleViewportChanged,markers:markerElements,showGrid:!0,showMouseToolbar:!0,animation:defaultAnimation})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_7__.a,Object.assign({legendType:"numeric",data:legendData},dropDownProps,variableProps,{onChange:function legendRadioChange(e){setLegendRadioValue(e.target.value)},selectedOption:legendRadioValue,dependentAxisRange:dependentAxisRange}))]})};AllInOneRequest.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!1};var TwoRequests=function TwoRequests(args){var _useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),2),markerElements=_useState10[0],setMarkerElements=_useState10[1],_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),2),legendData=_useState12[0],setLegendData=_useState12[1],_useState14=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)("Individual"),2),legendRadioValue=_useState14[0],setLegendRadioValue=_useState14[1],_useState16=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(null),2),bvp=_useState16[0],setBvp=_useState16[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(bvp){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:setBvp(bvp);case 1:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}(),[setBvp]),_useState18=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([0,0]),2),dependentAxisRange=_useState18[0],setDependentAxisRange=_useState18[1],duration=_map_config_map_json__WEBPACK_IMPORTED_MODULE_5__.c;return Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){var isCancelled=!1;if(null!=bvp)return _asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var markers,fullMarkers;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_6__.a)(bvp,duration,handleMarkerClick);case 2:if(markers=_context3.sent,isCancelled||setMarkerElements(markers),!isCancelled){_context3.next=6;break}return _context3.abrupt("return");case 6:return _context3.next=8,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_6__.b)(bvp,duration,setLegendData,handleMarkerClick,legendRadioValue,setDependentAxisRange,2e3);case 8:fullMarkers=_context3.sent,isCancelled||setMarkerElements(fullMarkers);case 10:case"end":return _context3.stop()}}),_callee3)})))(),function(){isCancelled=!0}}),[bvp,legendRadioValue]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args,{viewport:{center:[13,0],zoom:6},onViewportChanged:handleViewportChanged,markers:markerElements,showGrid:!0,showMouseToolbar:!0,animation:defaultAnimation})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_7__.a,Object.assign({legendType:"numeric",data:legendData},dropDownProps,variableProps,{onChange:function legendRadioChange(e){setLegendRadioValue(e.target.value)},selectedOption:legendRadioValue,dependentAxisRange:dependentAxisRange}))]})};TwoRequests.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!1},AllInOneRequest.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [legendRadioValue, setLegendRadioValue] = useState<string>(\n    'Individual'\n  );\n\n  const legendRadioChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setLegendRadioValue(e.target.value);\n  };\n  const [dependentAxisRange, setDependentAxisRange] = useState<number[]>([\n    0,\n    0,\n  ]);\n\n  const legendType = 'numeric';\n\n  const duration = defaultAnimationDuration;\n\n  // send legendRadioValue instead of knob_YAxisRangeMethod: also send setYAxisRangeValue\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      // anim add duration & scrambleKeys\n      const markers = await getCollectionDateChartMarkers(\n        bvp,\n        duration,\n        setLegendData,\n        handleMarkerClick,\n        legendRadioValue,\n        setDependentAxisRange\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements, legendRadioValue]\n  );\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={{ center: [13, 0], zoom: 6 }}\n        onViewportChanged={handleViewportChanged}\n        markers={markerElements}\n        showGrid={true}\n        showMouseToolbar={true}\n        animation={defaultAnimation}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        {...dropDownProps}\n        {...variableProps}\n        onChange={legendRadioChange}\n        selectedOption={legendRadioValue}\n        dependentAxisRange={dependentAxisRange}\n      />\n    </>\n  );\n}"}},AllInOneRequest.parameters),TwoRequests.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [legendRadioValue, setLegendRadioValue] = useState<string>(\n    'Individual'\n  );\n  const legendRadioChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setLegendRadioValue(e.target.value);\n  };\n\n  const [bvp, setBvp] = useState<BoundsViewport | null>(null);\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      setBvp(bvp);\n    },\n    [setBvp]\n  );\n\n  const [dependentAxisRange, setDependentAxisRange] = useState<number[]>([\n    0,\n    0,\n  ]);\n\n  const legendType = 'numeric';\n  const duration = defaultAnimationDuration;\n\n  useEffect(() => {\n    // track if effect has been cancelled\n    let isCancelled = false;\n    if (bvp == null) return;\n    // Create an anonymous async function, and call it immediately.\n    // This way we can use async-await\n    (async () => {\n      const markers = await getCollectionDateBasicMarkers(\n        bvp,\n        duration,\n        handleMarkerClick\n      );\n      if (!isCancelled) setMarkerElements(markers);\n      if (isCancelled) return; // avoid the next request if this effect has already been cancelled\n      const fullMarkers = await getCollectionDateChartMarkers(\n        bvp,\n        duration,\n        setLegendData,\n        handleMarkerClick,\n        legendRadioValue,\n        setDependentAxisRange,\n        2000\n      );\n      if (!isCancelled) setMarkerElements(fullMarkers);\n    })();\n    // Cleanup function to set `isCancelled` to `true`\n    return () => {\n      isCancelled = true;\n    };\n  }, [bvp, legendRadioValue]);\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={{ center: [13, 0], zoom: 6 }}\n        onViewportChanged={handleViewportChanged}\n        markers={markerElements}\n        showGrid={true}\n        showMouseToolbar={true}\n        animation={defaultAnimation}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        {...dropDownProps}\n        {...variableProps}\n        onChange={legendRadioChange}\n        selectedOption={legendRadioValue}\n        dependentAxisRange={dependentAxisRange}\n      />\n    </>\n  );\n}"}},TwoRequests.parameters)},1371:function(module,exports,__webpack_require__){(exports=__webpack_require__(210)(!1)).push([module.i,"/* DKDK legend positioning */\n.legend {\n  position: absolute;\n  /* DKDK change from 40 to 50 to have show/hide button */\n  bottom: 50px;\n  right: 10px;\n  /* z-index:10000; */\n}\n\n/* DKDK reduce min-height for numeric (range data) - copy from .legend-contents at vb-popbio-maps.css */\n.legend-contents-numeric {\n  text-align: left;\n  line-height: 15px;\n  color: #555555;\n  /* DKDK changed margin-bottom from 5 to 0 */\n  margin-bottom: 0px !important;\n  border-radius: 0 !important;\n  /* DKDK change these for mapveu v2\n    width         : 280px;\n    min-height    : 300px; */\n  width: 250px;\n  /* DKDK change min-height for numeric data */\n  min-height: 210px;\n  /* DKDK combine with other CSS defined */\n  /* padding: 6px 8px 6px 8px; */\n  padding: 0px 0px 0px 0px;\n  background: white;\n  /*max-width     : 230px;\n    position: absolute;\n    right: 0px;\n    top: 30%;*/\n  /* DKDK add margin-top for numeric - may not be necessary when using dropdown menu */\n  /* margin-top: 10px; */\n}\n\n/* DKDK override bootstrap css for legend dropdown menu */\n\n.legend .btn-success {\n  color: #000;\n  background-color: #fff;\n  border-color: silver;\n}\n\n.legend .btn-success:hover {\n  color: #000;\n  background-color: #fff;\n  border-color: silver;\n}\n\n.legend .btn-success:focus,\n.legend .btn-success.focus {\n  color: #000;\n  background-color: #fff;\n  border-color: silver;\n  box-shadow: 0 0 0 0rem rgba(151, 141, 141, 0.425);\n}\n\n.legend .btn-success.disabled,\n.legend .btn-success:disabled {\n  color: #000;\n  background-color: #fff;\n  border-color: silver;\n}\n\n.legend .btn-success:not(:disabled):not(.disabled):active,\n.legend .btn-success:not(:disabled):not(.disabled).active,\n.legend .show > .btn-success.dropdown-toggle {\n  color: #333333;\n  background-color: #cecece;\n  border-color: #adadad;\n}\n\n.legend .btn-success:not(:disabled):not(.disabled):active:focus,\n.legend .btn-success:not(:disabled):not(.disabled).active:focus,\n.legend .show > .btn-success.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0rem rgba(151, 141, 141, 0.425);\n}\n\n.legend .dropdown button {\n  border: 1px solid #e5e5e5;\n  border-color: silver;\n  border-radius: 0px;\n  background-color: white;\n  font-size: 1em;\n  color: black;\n  /* DKDK set the size of dropdown button */\n  /* width: 100%;\n  text-align: left; */\n}\n\n.legend-dropdown-item {\n  display: block;\n  width: 100%;\n  padding: 12px 15px;\n  clear: both;\n  font-weight: 400;\n  color: #222;\n  text-align: inherit;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 0;\n}\n\n.legend-dropdown-item:hover,\n.legend-dropdown-item:focus {\n  color: #16181b;\n  text-decoration: none;\n  background-color: #f8f9fa;\n}\n\n.legend-dropdown-item.active,\n.legend-dropdown-item:active {\n  color: #16181b;\n  text-decoration: none;\n  background-color: #f8f9fa;\n}\n\n.legend-dropdown-menu {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  z-index: 1000;\n  display: none;\n  float: left;\n  min-width: 10rem;\n  padding: 0.5rem 0;\n  margin: 0.125rem 0 0;\n  font-size: 0.9375rem;\n  color: #222;\n  text-align: left;\n  list-style: none;\n  background-color: #eee;\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  border-radius: 0px;\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\n}\n\n#legend-dropdown-chart {\n  padding: 0.6rem 0.75rem 0.375rem 0.75rem; /* Artificially center text inside dropdown button */\n}\n\n/* DKDK for the case when full width of dropdown button is used\n * set different value for categorical and bar chart legends due to margin in plotly\n*/\n\n.legend .dropdown button {\n  width: 100%;\n  text-align: left;\n}\n#legend-dropdown-category.dropdown-toggle::after {\n  position: relative;\n  right: -75%;\n}\n\n#legend-dropdown-chart.dropdown-toggle::after {\n  position: relative;\n  right: -55%;\n}\n\n/* DKDK add square icon case with the presence of legend-square-icon className */\n.legend .legend-square-icon i {\n  border-radius: 0px;\n}\n\n/* DKDK add legend-field-text */\n.legend .legend-field-text {\n  text-align: right;\n  margin-bottom: -12px;\n}\n\n/* DKDK add legend-marker-description */\n.legend .legend-marker-description {\n  text-align: center;\n}\n\n.legend .legend-marker-description img {\n  margin: 12px auto;\n}\n\n/* DKDK legend-list-radio-button */\n.legend .legend-list-radio-button .legend-list-radio-button-title {\n  /* margin-top: 24px; */\n  margin: 12px auto 5px auto;\n  line-height: 15px;\n}\n\n.legend .legend-list-radio-button Label {\n  /* margin-top: 24px; */\n  /* margin: 12px auto 5px auto; */\n  line-height: 5px;\n}\n\n/* DKDK legend info contents */\n/* DKDK add legend-donut-marker-description */\n.legend .legend-donut-marker-description {\n  /* text-align: center; */\n  text-align: left;\n  margin-top: 40px;\n}\n\n.legend .legend-donut-marker-description img {\n  /* margin: 12px auto; */\n  /* margin-top: 12px; */\n  margin-bottom: 12px;\n}\n\n/* DKDK add legend-chart-marker-description */\n.legend .legend-chart-marker-description {\n  /* text-align: center; */\n  text-align: left;\n  margin-top: 12px;\n}\n\n.legend .legend-chart-marker-description img {\n  /* margin: 12px auto; */\n  /* margin-top: 12px; */\n  margin-bottom: 0px;\n}\n\n.legend .legend-info-contents {\n  width: 100%;\n}\n\n.legend .legend-info-image {\n  float: left;\n  width: 40%;\n}\n\n.legend .legend-info-text {\n  width: 60%;\n  float: left;\n  /* DKDK for legend-chart-arrow.png */\n  /* margin-top: 1px;\n  margin-left: -7px;\n  font-size: 0.75em;\n  line-height: 15px; */\n  /* DKDK for legend-chart-arrow-new.png */\n  margin-top: 1px;\n  margin-left: -18px;\n  font-size: 0.84em;\n  /* font-weight: bold; */\n  line-height: 16px;\n}\n\n/* DKDK a right side button */\n.legend-display-button {\n  position: absolute;\n  z-index: 1000;\n  bottom: 0px;\n  height: 50px;\n  border-radius: 5px;\n}\n\n/* DKDK set button width so that it remains the same with the text change (show/hide) */\n.legend-display-button button {\n  width: 120px;\n  display: inline-block;\n}\n\n.legend-display-button.active {\n  right: 10px;\n}\n\n/* DKDK legend wrapper to show and hide */\n.legend-wrapper {\n  display: flex;\n  width: 300px;\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n}\n\n.legend-wrapper.hiding-legend {\n  display: none;\n}\n\n.legend-nav {\n  position: relative;\n  width: 300px;\n}\n\n.legend-nav-icon {\n  cursor: pointer;\n  transition: color 0.3s;\n  /* DKDK set button's background-color for firefox (due to button:hover below) */\n  background-color: #e7e7e7;\n}\n\n.legend-nav-icon:hover {\n  /* color: #5eb2ff; */\n  color: red;\n}\n",""]),module.exports=exports},138:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Switch}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(355),_material_ui_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(687),_material_ui_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(172),_material_ui_core_Switch__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1445),_constants_colors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Switch(_ref){var label=_ref.label,state=_ref.state,onStateChange=_ref.onStateChange,_ref$color=_ref.color,color=void 0===_ref$color?_constants_colors__WEBPACK_IMPORTED_MODULE_7__.c:_ref$color,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),2),focused=_useState2[0],setFocused=_useState2[1],theme=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.a)({palette:{primary:{main:color}}});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"row",alignItems:"center"},containerStyles),onMouseOver:function onMouseOver(){return setFocused(!0)},onMouseOut:function onMouseOut(){return setFocused(!1)},children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a,{variant:"button",style:{color:focused?_constants_colors__WEBPACK_IMPORTED_MODULE_7__.a:_constants_colors__WEBPACK_IMPORTED_MODULE_7__.j,paddingRight:5},children:label}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_styles__WEBPACK_IMPORTED_MODULE_4__.a,{theme:theme,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core_Switch__WEBPACK_IMPORTED_MODULE_6__.a,{checked:state,onChange:onStateChange,size:"small",color:"primary"})})]})}Switch.displayName="Switch";try{Switch.displayName="Switch",Switch.__docgenInfo={description:"A simple switch UI widget.\n\nShould be used when you want to toggle something\nbetween two distinct options.",displayName:"Switch",props:{label:{defaultValue:null,description:"Optional label for widget.",name:"label",required:!1,type:{name:"string"}},state:{defaultValue:null,description:"If the switch is on or off.",name:"state",required:!0,type:{name:"boolean"}},onStateChange:{defaultValue:null,description:"What action to take when state changes.",name:"onStateChange",required:!0,type:{name:"(event: { target: HTMLInputElement; }) => void"}},color:{defaultValue:null,description:"Color to use. Will accept any valid CSS color definition.\nDefaults to LIGHT_BLUE",name:"color",required:!1,type:{name:"string"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to the widget container.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/Switch.tsx#Switch"]={docgenInfo:Switch.__docgenInfo,name:"Switch",path:"src/components/widgets/Switch.tsx#Switch"})}catch(__react_docgen_typescript_loader_error){}},1391:function(module,exports){},1404:function(module,exports){},1405:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DatelineData",(function(){return DatelineData}));__webpack_require__(18),__webpack_require__(57),__webpack_require__(14),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(81),_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(117),_fixture_data_geoclust_date_dateline_straddling_all_levels_json__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(478),_map_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(168),_map_config_map_json__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(44);__webpack_require__(648);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Map/Dateline Example",component:_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_6__.a};var getDatelineArgs=function getDatelineArgs(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],duration=_map_config_map_json__WEBPACK_IMPORTED_MODULE_10__.c;return{viewport:{center:[0,0],zoom:2},height:"100vh",width:"100vw",onViewportChanged:Object(react__WEBPACK_IMPORTED_MODULE_5__.useCallback)((function(bvp){setMarkerElements(function getMarkerElements(_ref,duration){var bounds=_ref.bounds,zoomLevel=_ref.zoomLevel,data=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_fixture_data_geoclust_date_dateline_straddling_all_levels_json__WEBPACK_IMPORTED_MODULE_8__,_bounds$southWest=bounds.southWest,south=_bounds$southWest.lat,west=_bounds$southWest.lng,_bounds$northEast=bounds.northEast,north=_bounds$northEast.lat,east=_bounds$northEast.lng;console.log("I've been triggered with long bounds=[".concat(west," TO ").concat(east,"] and zoom=").concat(zoomLevel));var geohashLevel=_map_config_map_json__WEBPACK_IMPORTED_MODULE_10__.d[zoomLevel],buckets=data["geohash_".concat(geohashLevel)].facets.geo.buckets.filter((function(bucket){var ltAvg=bucket.ltAvg,lnAvg=bucket.lnAvg;return west<east-1e-8?ltAvg>south&&ltAvg<north&&lnAvg>west&&lnAvg<east:!(west>east+1e-8)||ltAvg>south&&ltAvg<north&&!(lnAvg>east&&lnAvg<west)}));return buckets.map((function(bucket){if(bucket.val.length==geohashLevel)return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_map_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_9__.a,{duration:duration,bounds:{southWest:{lat:bucket.ltMin,lng:bucket.lnMin},northEast:{lat:bucket.ltMax,lng:bucket.lnMax}},position:{lat:bucket.ltAvg,lng:bucket.lnAvg},id:bucket.val},bucket.val)}))}(bvp,duration,_fixture_data_geoclust_date_dateline_straddling_all_levels_json__WEBPACK_IMPORTED_MODULE_8__))}),[setMarkerElements]),markers:markerElements,animation:{method:"geohash",duration:_map_config_map_json__WEBPACK_IMPORTED_MODULE_10__.c,animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_7__.a},showGrid:!0}},Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_6__.a,Object.assign({},getDatelineArgs(),args))};Template.displayName="Template";var DatelineData=Template.bind({});DatelineData.parameters=Object.assign({storySource:{source:"(args: MapVEuMapProps) => (\n  <MapVEuMap {...getDatelineArgs()} {...args} />\n)"}},DatelineData.parameters)},1407:function(module,exports,__webpack_require__){var api=__webpack_require__(209),content=__webpack_require__(1408);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1408:function(module,exports,__webpack_require__){(exports=__webpack_require__(210)(!1)).push([module.i,"/* override overflow from auto to visible for reziable */\n.leaflet-sidebar {\n  overflow: visible;\n}\n\n/* remove border as it does not work well with resize & no bordr in popbio map either */\n.leaflet-sidebar.leaflet-touch {\n  border: 0px solid rgba(0, 0, 0, 0.2);\n}\n\n/* add border for sidebar tabs */\n.leaflet-sidebar-left .leaflet-sidebar-tabs {\n  /* left: 0; */\n  border: 1px solid rgba(0, 0, 0, 0.2);\n}\n\n.sidebar-resize.horizontal {\n  resize: horizontal;\n}\n.sidebar-resize.vertical {\n  resize: vertical;\n}\n.sidebar-resize.both {\n  resize: both;\n}\n\n/* from vb-popbio-maps.css - overriding */\n.ui-resizable-e {\n  font-size: 30px;\n  width: 15px;\n  height: 30px;\n  right: -2px;\n  top: 50%;\n  bottom: 50%;\n  color: #bcbcbc;\n  position: absolute;\n  cursor: none;\n}\n\n/* centering all plotly plots */\ndiv.leaflet-sidebar-content .plot-container.plotly .svg-container {\n  margin: 0 auto;\n}\n\n/* changing sidebar header style */\n.leaflet-sidebar-header {\n  color: gray;\n  background-color: white;\n}\n",""]),module.exports=exports},1409:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SidebarBasic",(function(){return SidebarBasic}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(49),_map_TabHomeContent__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(342);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Sidebar/Sidebar standalone"};var SidebarBasic=function SidebarBasic(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!0),2),sidebarCollapsed=_useState2[0],setSidebarCollapsed=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),2),tabSelected=_useState4[0],setTabSelected=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.a,{id:"leaflet-sidebar",collapsed:sidebarCollapsed,position:"left",selected:tabSelected,closeIcon:"fas fa-times",onOpen:function sidebarOnOpen(id){var el=document.getElementsByClassName("leaflet-sidebar-content")[0]?document.getElementsByClassName("leaflet-sidebar-content")[0]:null,tabStyle=null==el?void 0:el.getAttributeNode("style");tabStyle&&(null==el||el.removeAttributeNode(tabStyle)),tabSelected!=id?(setSidebarCollapsed(!1),setTabSelected(id)):(setSidebarCollapsed(!0),setTabSelected(""))},onClose:function sidebarOnClose(){setSidebarCollapsed(!0),setTabSelected("");var el=document.getElementsByClassName("leaflet-sidebar-content")[0]?document.getElementsByClassName("leaflet-sidebar-content")[0]:null,tabStyle=null==el?void 0:el.getAttributeNode("style");tabStyle&&(null==el||el.removeAttributeNode(tabStyle))},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.b,{id:"home",header:"Home",icon:"fas fa-home",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_TabHomeContent__WEBPACK_IMPORTED_MODULE_4__.a,{id:"home",header:"this is Home"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.b,{id:"settings",header:"Settings",icon:"fas fa-cog",disabled:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"Change settings"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.b,{id:"gap1",header:"",icon:"",disabled:!0,divider:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"gap1"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.b,{id:"marker-table",header:"Details for selected samples",icon:"fas fa-table",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"Detailed table???"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.b,{id:"export",header:"Export Data",icon:"fas fa-download",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"Download data"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.b,{id:"gap2",header:"",icon:"",disabled:!0,divider:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"gap2"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.b,{id:"plot",header:"Summary",icon:"fas fa-chart-pie",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"Donut Plot"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.b,{id:"boxplot",header:"Box Plot",icon:"fas fa-percent",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"Box Plot"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.b,{id:"graph",header:"Chart",icon:"fas fa-chart-bar",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"This is for chart"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_3__.b,{id:"help",header:"Tutorial",icon:"fas fa-question",anchor:"bottom",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"Help/Tutorial"})})]})})};SidebarBasic.parameters=Object.assign({storySource:{source:'() => {\n  //Sidebar state managements\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(true);\n  const [tabSelected, setTabSelected] = useState(\'\'); //could be used to set default active tab, e.g., \'Home\', but leave blank\n\n  //this is X button/icon behavior considering sidebar resize\n  const sidebarOnClose = () => {\n    setSidebarCollapsed(true);\n    //add this to fix a bug\n    setTabSelected(\'\');\n\n    //this works!\n    let el: Element | null = document.getElementsByClassName(\n      \'leaflet-sidebar-content\'\n    )[0]\n      ? document.getElementsByClassName(\'leaflet-sidebar-content\')[0]\n      : null;\n    // let el: any = document.getElementById("leaflet-sidebar-content")? document.getElementById("leaflet-sidebar-content"): \'\';\n    let tabStyle = el?.getAttributeNode(\'style\');\n    if (tabStyle) {\n      el?.removeAttributeNode(tabStyle);\n    }\n  };\n\n  //this is sidebar opening considering sidebar resize\n  const sidebarOnOpen = (id: string) => {\n    //removing style for re-resizable here may help for 1st click bug - yes\n    let el: Element | null = document.getElementsByClassName(\n      \'leaflet-sidebar-content\'\n    )[0]\n      ? document.getElementsByClassName(\'leaflet-sidebar-content\')[0]\n      : null;\n    // let el: any = document.getElementById("leaflet-sidebar-content")? document.getElementById("leaflet-sidebar-content"): \'\';\n    let tabStyle = el?.getAttributeNode(\'style\');\n    if (tabStyle) {\n      el?.removeAttributeNode(tabStyle);\n    }\n\n    //add a function to close drawer by clicking the same icon\n    if (tabSelected != id) {\n      setSidebarCollapsed(false);\n      setTabSelected(id);\n    } else {\n      setSidebarCollapsed(true);\n      //clear tabSelected so that the tab can be reopen\n      setTabSelected(\'\');\n    }\n  };\n\n  let testText = \'this is Home\';\n\n  return (\n    //add fragment\n    <>\n      <Sidebar\n        id="leaflet-sidebar"\n        collapsed={sidebarCollapsed}\n        position="left"\n        selected={tabSelected}\n        closeIcon="fas fa-times"\n        onOpen={sidebarOnOpen}\n        onClose={sidebarOnClose}\n      >\n        <Tab id="home" header="Home" icon="fas fa-home">\n          {/* a test to separate tab contents into a component, TabHomeContent */}\n          <TabHomeContent id={\'home\'} header={testText} />\n        </Tab>\n        {/* testing disabled - greyish icon*/}\n        <Tab id="settings" header="Settings" icon="fas fa-cog" disabled>\n          <p>Change settings</p>\n        </Tab>\n        {/* add disabled tap - no header & icon, use both diabled and divider */}\n        <Tab id="gap1" header="" icon="" disabled divider>\n          <p>gap1</p>\n        </Tab>\n        <Tab\n          id="marker-table"\n          header="Details for selected samples"\n          icon="fas fa-table"\n        >\n          <p>Detailed table???</p>\n        </Tab>\n        <Tab id="export" header="Export Data" icon="fas fa-download">\n          <p>Download data</p>\n        </Tab>\n        {/* add disabled tap - no header & icon, use both diabled and divider */}\n        <Tab id="gap2" header="" icon="" disabled divider>\n          <p>gap2</p>\n        </Tab>\n        <Tab id="plot" header="Summary" icon="fas fa-chart-pie">\n          <p>Donut Plot</p>\n        </Tab>\n        {/* no box plot icon exists in fontawesome */}\n        <Tab id="boxplot" header="Box Plot" icon="fas fa-percent">\n          <p>Box Plot</p>\n        </Tab>\n        <Tab id="graph" header="Chart" icon="fas fa-chart-bar">\n          <p>This is for chart</p>\n        </Tab>\n        {/* placing bottom side using  anchor="bottom" attribute */}\n        <Tab id="help" header="Tutorial" icon="fas fa-question" anchor="bottom">\n          <p>Help/Tutorial</p>\n        </Tab>\n      </Sidebar>\n    </>\n  );\n}'}},SidebarBasic.parameters)},1410:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"RequiredControls",(function(){return RequiredControls})),__webpack_require__.d(__webpack_exports__,"AdditionalOptions",(function(){return AdditionalOptions})),__webpack_require__.d(__webpack_exports__,"YAxisControls",(function(){return YAxisControls}));__webpack_require__(4),__webpack_require__(76);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_components_plotControls_HistogramControls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(153),_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(97),_constants_colors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_exports__.default={title:"Plot Controls/Histogram",component:_components_plotControls_HistogramControls__WEBPACK_IMPORTED_MODULE_4__.a};var _onBinWidthChange,RequiredControls=function RequiredControls(args){var controls=Object(_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__.a)({data:{series:[{name:"dummy data",bins:[]}]},histogram:args.histogram});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_plotControls_HistogramControls__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},controls,controls.histogram,{valueType:"number"}))};RequiredControls.displayName="RequiredControls",RequiredControls.args={histogram:{binWidthRange:{min:5,max:100},binWidthStep:5,onBinWidthChange:(_onBinWidthChange=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{series:[{name:"dummy data",bins:[]}]});case 1:case"end":return _context.stop()}}),_callee)}))),function onBinWidthChange(){return _onBinWidthChange.apply(this,arguments)})}};var AdditionalOptions=function AdditionalOptions(args){var controls=Object(_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__.a)({data:args.data,onSelectedUnitChange:args.onSelectedUnitChange,histogram:args.histogram});return Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){console.log("Story got new binWidth ".concat(controls.data.binWidth))}),[controls.data.binWidth]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_plotControls_HistogramControls__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({label:"Customizable Control Panel Label",accentColor:_constants_colors__WEBPACK_IMPORTED_MODULE_6__.g},controls,controls.histogram))};AdditionalOptions.displayName="AdditionalOptions";var _onBinWidthChange2,_onSelectedUnitChange,dummyData=function dummyData(args){var _args$selectedUnit,_args$binWidth,_args$selectedUnit2,_args$selectedUnit3;return{series:[{name:"dummy data",bins:[]}],availableUnits:["day","hours"],selectedUnit:null!==(_args$selectedUnit=args.selectedUnit)&&void 0!==_args$selectedUnit?_args$selectedUnit:"hours",binWidth:null!==(_args$binWidth=args.binWidth)&&void 0!==_args$binWidth?_args$binWidth:[6,null!==(_args$selectedUnit2=args.selectedUnit)&&void 0!==_args$selectedUnit2?_args$selectedUnit2:"hours"],binWidthRange:{min:1,max:24,unit:null!==(_args$selectedUnit3=args.selectedUnit)&&void 0!==_args$selectedUnit3?_args$selectedUnit3:"hours"},binWidthStep:1}};AdditionalOptions.args={data:dummyData({binWidth:[6,"hours"],selectedUnit:"hours"}),onSelectedUnitChange:(_onSelectedUnitChange=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(newUnit){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",dummyData({selectedUnit:newUnit}));case 1:case"end":return _context2.stop()}}),_callee2)}))),function onSelectedUnitChange(_x){return _onSelectedUnitChange.apply(this,arguments)}),histogram:{valueType:"date",binWidthRange:{min:1,max:24,unit:"hours"},binWidthStep:1,onBinWidthChange:(_onBinWidthChange2=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(args){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",dummyData({binWidth:args.binWidth,selectedUnit:args.selectedUnit}));case 1:case"end":return _context3.stop()}}),_callee3)}))),function onBinWidthChange(_x2){return _onBinWidthChange2.apply(this,arguments)})}};var _onBinWidthChange3,YAxisControls=function YAxisControls(args){var controls=Object(_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__.a)({data:args.data,histogram:args.histogram});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_plotControls_HistogramControls__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},controls,controls.histogram,{valueType:"number"}))};YAxisControls.displayName="YAxisControls",YAxisControls.args={data:{series:[{name:"dummy data",bins:[]}]},histogram:{binWidthRange:{min:5,max:100},binWidthStep:5,onBinWidthChange:(_onBinWidthChange3=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",{series:[{name:"dummy data",bins:[]}]});case 1:case"end":return _context4.stop()}}),_callee4)}))),function onBinWidthChange(){return _onBinWidthChange3.apply(this,arguments)}),dependentAxisLogScale:!1,dependentAxisMode:"absolute"}},RequiredControls.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  const controls = usePlotControls<HistogramData>({\n    data: { series: [{ name: 'dummy data', bins: [] }] },\n    histogram: args.histogram,\n  });\n\n  return (\n    <HistogramControls\n      {...controls}\n      {...controls.histogram}\n      valueType=\"number\"\n    />\n  );\n}"}},RequiredControls.parameters),AdditionalOptions.parameters=Object.assign({storySource:{source:'(\n  args\n) => {\n  const controls = usePlotControls<HistogramData>({\n    data: args.data,\n    onSelectedUnitChange: args.onSelectedUnitChange,\n    histogram: args.histogram,\n  });\n\n  useEffect(() => {\n    console.log(`Story got new binWidth ${controls.data.binWidth}`);\n  }, [controls.data.binWidth]);\n\n  return (\n    <HistogramControls\n      label="Customizable Control Panel Label"\n      accentColor={LIGHT_PURPLE}\n      {...controls}\n      {...controls.histogram}\n    />\n  );\n}'}},AdditionalOptions.parameters),YAxisControls.parameters=Object.assign({storySource:{source:'(\n  args\n) => {\n  const controls = usePlotControls<HistogramData>({\n    data: args.data,\n    histogram: args.histogram,\n  });\n\n  return (\n    <HistogramControls\n      // label="Customizable Control Panel Label"\n      {...controls}\n      {...controls.histogram}\n      valueType="number"\n    />\n  );\n}'}},YAxisControls.parameters)},1415:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"RequiredControls",(function(){return RequiredControls})),__webpack_require__.d(__webpack_exports__,"AdditionalOptions",(function(){return AdditionalOptions}));__webpack_require__(4),__webpack_require__(76);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_components_plotControls_PieControls__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(0),__webpack_require__(196)),_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(97),_constants_colors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}__webpack_exports__.default={title:"Plot Controls/PieControls",component:_components_plotControls_PieControls__WEBPACK_IMPORTED_MODULE_4__.a};var RequiredControls=function RequiredControls(args){var controls=Object(_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__.a)({data:args.data});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_plotControls_PieControls__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},controls,controls.histogram,{containerStyles:{margin:25}}))};RequiredControls.displayName="RequiredControls",RequiredControls.args={data:{slices:[]}};var _onSelectedUnitChange,AdditionalOptions=function AdditionalOptions(args){var controls=Object(_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__.a)({data:args.data,onSelectedUnitChange:args.onSelectedUnitChange});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_plotControls_PieControls__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({label:"Customizable Pie Plot Panel",accentColor:_constants_colors__WEBPACK_IMPORTED_MODULE_6__.g},controls,{containerStyles:{margin:25}}))};AdditionalOptions.displayName="AdditionalOptions",AdditionalOptions.args={data:{slices:[{label:"dummy value",value:1}],availableUnits:["Celsius","Farenheit"],selectedUnit:"Celsius"},onSelectedUnitChange:(_onSelectedUnitChange=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(unit){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{slices:[{label:"dummy value",value:1}]});case 1:case"end":return _context.stop()}}),_callee)}))),function onSelectedUnitChange(_x){return _onSelectedUnitChange.apply(this,arguments)})},RequiredControls.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  const controls = usePlotControls<PiePlotData>({\n    data: args.data,\n  });\n\n  return (\n    <PieControls\n      {...controls}\n      {...controls.histogram}\n      containerStyles={{ margin: 25 }}\n    />\n  );\n}"}},RequiredControls.parameters),AdditionalOptions.parameters=Object.assign({storySource:{source:'(\n  args\n) => {\n  const controls = usePlotControls<PiePlotData>({\n    data: args.data,\n    onSelectedUnitChange: args.onSelectedUnitChange,\n  });\n\n  return (\n    <PieControls\n      label="Customizable Pie Plot Panel"\n      accentColor={LIGHT_PURPLE}\n      {...controls}\n      containerStyles={{ margin: 25 }}\n    />\n  );\n}'}},AdditionalOptions.parameters)},1417:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"CustomSliceColors",(function(){return CustomSliceColors})),__webpack_require__.d(__webpack_exports__,"BasicDonut",(function(){return BasicDonut})),__webpack_require__.d(__webpack_exports__,"DonutText",(function(){return DonutText})),__webpack_require__.d(__webpack_exports__,"FilledDonut",(function(){return FilledDonut})),__webpack_require__.d(__webpack_exports__,"BasicControlPanel",(function(){return BasicControlPanel})),__webpack_require__.d(__webpack_exports__,"ControlPanelWithAvailableUnits",(function(){return ControlPanelWithAvailableUnits}));__webpack_require__(4),__webpack_require__(76);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_plots_PiePlot__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(0),__webpack_require__(152)),_constants_colors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(97),_components_plotControls_PieControls__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(196);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}__webpack_exports__.default={title:"Plots/Pie & Donut",component:_plots_PiePlot__WEBPACK_IMPORTED_MODULE_4__.a,parameters:{redmine:"https://redmine.apidb.org/issues/41799"}};var coloredData={slices:[{value:10,label:"Light Green",color:_constants_colors__WEBPACK_IMPORTED_MODULE_5__.e},{value:2,label:"Dark Green",color:_constants_colors__WEBPACK_IMPORTED_MODULE_5__.b},{value:30,color:_constants_colors__WEBPACK_IMPORTED_MODULE_5__.c,label:"Light Blue"}]},dataWithAvailableUnits={slices:[{value:10,label:"Purple",color:_constants_colors__WEBPACK_IMPORTED_MODULE_5__.g},{value:2,label:"Green",color:_constants_colors__WEBPACK_IMPORTED_MODULE_5__.e},{value:30,color:_constants_colors__WEBPACK_IMPORTED_MODULE_5__.c,label:"Blue"}],availableUnits:["Not Yet","Implemented"],selectedUnit:"Not Yet"},NoControlsTemplate=function NoControlsTemplate(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_plots_PiePlot__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};NoControlsTemplate.displayName="NoControlsTemplate";var Basic=NoControlsTemplate.bind({});Basic.args={data:{slices:[{value:10,label:"Foo"},{value:2,label:"Bar"},{value:30,label:"Baz"}]},width:600,height:450,title:"Pie Plot",legendOptions:{horizontalPosition:"right",horizontalPaddingAdjustment:.1,verticalPosition:"top",verticalPaddingAdjustment:0,orientation:"vertical"},spacingOptions:{marginBottom:80,marginLeft:50,marginRight:80,marginTop:100,padding:0}};var CustomSliceColors=NoControlsTemplate.bind({});CustomSliceColors.args=Object.assign({},Basic.args,{data:coloredData,title:"Pie Plot w/ Custom Colors"});var BasicDonut=NoControlsTemplate.bind({});BasicDonut.args=Object.assign({},Basic.args,{title:"Basic Donut Plot",donutOptions:{size:.3}});var DonutText=NoControlsTemplate.bind({});DonutText.args=Object.assign({},Basic.args,{title:"Donut Plot w/Text",donutOptions:{size:.4,text:"Donut Text"}});var FilledDonut=NoControlsTemplate.bind({});FilledDonut.args=Object.assign({},Basic.args,{title:"Filled Donut",donutOptions:{size:.4,backgroundColor:_constants_colors__WEBPACK_IMPORTED_MODULE_5__.a,text:"Text",textColor:"white"}});var BasicControlPanel=function BasicControlPanel(args){var plotControls=Object(_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_6__.a)({data:args.data});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:{display:"flex",flexDirection:"column",margin:25},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_plots_PiePlot__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args,{spacingOptions:{marginBottom:0,marginLeft:0,marginRight:0,marginTop:10}},plotControls)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{height:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_plotControls_PieControls__WEBPACK_IMPORTED_MODULE_7__.a,Object.assign({label:"Pie Plot Controls"},plotControls,{containerStyles:{maxWidth:args.width}}))]})};BasicControlPanel.displayName="BasicControlPanel",BasicControlPanel.args={data:coloredData,width:500,height:300};var ControlPanelWithAvailableUnits=function ControlPanelWithAvailableUnits(args){var _onSelectedUnitChange,plotControls=Object(_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_6__.a)({data:args.data,onSelectedUnitChange:(_onSelectedUnitChange=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(unit){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",args.data);case 1:case"end":return _context.stop()}}),_callee)}))),function onSelectedUnitChange(_x){return _onSelectedUnitChange.apply(this,arguments)})});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:{display:"flex",flexDirection:"column",margin:25},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_plots_PiePlot__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args,{spacingOptions:{marginBottom:0,marginLeft:0,marginRight:0,marginTop:10}},plotControls)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{height:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_plotControls_PieControls__WEBPACK_IMPORTED_MODULE_7__.a,Object.assign({label:"Pie Plot Controls W/ Available Units"},plotControls,{containerStyles:{maxWidth:args.width}}))]})};ControlPanelWithAvailableUnits.displayName="ControlPanelWithAvailableUnits",ControlPanelWithAvailableUnits.args={data:dataWithAvailableUnits,width:500,height:300},Basic.parameters=Object.assign({storySource:{source:"(args) => <PiePlot {...args} />"}},Basic.parameters),CustomSliceColors.parameters=Object.assign({storySource:{source:"(args) => <PiePlot {...args} />"}},CustomSliceColors.parameters),BasicDonut.parameters=Object.assign({storySource:{source:"(args) => <PiePlot {...args} />"}},BasicDonut.parameters),DonutText.parameters=Object.assign({storySource:{source:"(args) => <PiePlot {...args} />"}},DonutText.parameters),FilledDonut.parameters=Object.assign({storySource:{source:"(args) => <PiePlot {...args} />"}},FilledDonut.parameters),BasicControlPanel.parameters=Object.assign({storySource:{source:"(args) => {\n  const plotControls = usePlotControls<PiePlotData>({ data: args.data });\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', margin: 25 }}>\n      <PiePlot\n        {...args}\n        spacingOptions={{\n          marginBottom: 0,\n          marginLeft: 0,\n          marginRight: 0,\n          marginTop: 10,\n        }}\n        {...plotControls}\n      />\n      <div style={{ height: 25 }} />\n      <PieControls\n        label=\"Pie Plot Controls\"\n        {...plotControls}\n        containerStyles={{\n          maxWidth: args.width,\n        }}\n      />\n    </div>\n  );\n}"}},BasicControlPanel.parameters),ControlPanelWithAvailableUnits.parameters=Object.assign({storySource:{source:"(args) => {\n  const plotControls = usePlotControls<PiePlotData>({\n    data: args.data,\n    onSelectedUnitChange: async (unit) => {\n      return args.data;\n    },\n  });\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', margin: 25 }}>\n      <PiePlot\n        {...args}\n        spacingOptions={{\n          marginBottom: 0,\n          marginLeft: 0,\n          marginRight: 0,\n          marginTop: 10,\n        }}\n        {...plotControls}\n      />\n      <div style={{ height: 25 }} />\n      <PieControls\n        label=\"Pie Plot Controls W/ Available Units\"\n        {...plotControls}\n        containerStyles={{\n          maxWidth: args.width,\n        }}\n      />\n    </div>\n  );\n}"}},ControlPanelWithAvailableUnits.parameters)},1418:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"WithLabel",(function(){return WithLabel})),__webpack_require__.d(__webpack_exports__,"VerticalOrientation",(function(){return VerticalOrientation})),__webpack_require__.d(__webpack_exports__,"CustomStyling",(function(){return CustomStyling}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_components_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(151);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/ButtonGroup",component:_components_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_3__.a};var Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)("Vertical"),2),selectedOption=_useState2[0],setSelectedOption=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args,{onOptionSelected:setSelectedOption,selectedOption:selectedOption,containerStyles:Object.assign({},args.containerStyles,{margin:25})}))};Template.displayName="Template";var Basic=Template.bind({});Basic.args={options:["Vertical","Horizontal"]};var WithLabel=Template.bind({});WithLabel.args=Object.assign({},Basic.args,{label:"Custom Label"});var VerticalOrientation=Template.bind({});VerticalOrientation.args=Object.assign({},Basic.args,{orientation:"vertical"});var CustomStyling=Template.bind({});CustomStyling.args=Object.assign({},Basic.args,{label:"Custom Container Styling",containerStyles:{padding:10,borderRadius:5,background:"linear-gradient(#ffffff, #ffffff), linear-gradient(to right, red, purple)",backgroundOrigin:"padding-box, border-box",backgroundRepeat:"no-repeat",border:"2px solid transparent",maxWidth:200}}),Basic.parameters=Object.assign({storySource:{source:"(args) => {\n  const [selectedOption, setSelectedOption] = useState('Vertical');\n\n  return (\n    <ButtonGroup\n      {...args}\n      onOptionSelected={setSelectedOption}\n      selectedOption={selectedOption}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},Basic.parameters),WithLabel.parameters=Object.assign({storySource:{source:"(args) => {\n  const [selectedOption, setSelectedOption] = useState('Vertical');\n\n  return (\n    <ButtonGroup\n      {...args}\n      onOptionSelected={setSelectedOption}\n      selectedOption={selectedOption}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},WithLabel.parameters),VerticalOrientation.parameters=Object.assign({storySource:{source:"(args) => {\n  const [selectedOption, setSelectedOption] = useState('Vertical');\n\n  return (\n    <ButtonGroup\n      {...args}\n      onOptionSelected={setSelectedOption}\n      selectedOption={selectedOption}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},VerticalOrientation.parameters),CustomStyling.parameters=Object.assign({storySource:{source:"(args) => {\n  const [selectedOption, setSelectedOption] = useState('Vertical');\n\n  return (\n    <ButtonGroup\n      {...args}\n      onOptionSelected={setSelectedOption}\n      selectedOption={selectedOption}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},CustomStyling.parameters)},1419:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Controlled",(function(){return Controlled})),__webpack_require__.d(__webpack_exports__,"ControlledBounded",(function(){return ControlledBounded})),__webpack_require__.d(__webpack_exports__,"ControlledLinkedPair",(function(){return ControlledLinkedPair})),__webpack_require__.d(__webpack_exports__,"ControlledBounds",(function(){return ControlledBounds}));__webpack_require__(18),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(52);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Date Input",component:_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.a};var ControlledTemplate=function ControlledTemplate(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)("2005-01-01"),2),value=_useState2[0],setValue=_useState2[1],onValueChange=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(newValue){console.log("new value = ".concat(newValue)),setValue(newValue)}),[setValue]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args,{value:value,onValueChange:onValueChange,containerStyles:Object.assign({},args.containerStyles,{margin:25})}))};ControlledTemplate.displayName="ControlledTemplate";var Controlled=ControlledTemplate.bind({});Controlled.args={label:"Controlled"};var ControlledBounded=ControlledTemplate.bind({});ControlledBounded.args={label:"Controlled (2000-01-01 to 2009-12-31)",minValue:"2000-01-01",maxValue:"2009-12-31"};var ControlledLinkedPair=function ControlledLinkedPair(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)("2020-02-20"),2),linkedValue=_useState4[0],setLinkedValue=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.a,{value:linkedValue,label:"A",onValueChange:function onValueChange(newValue){console.log("A new value = ".concat(newValue)),setLinkedValue(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.a,{value:linkedValue,label:"B",onValueChange:function onValueChange(newValue){console.log("B new value = ".concat(newValue)),setLinkedValue(newValue)},containerStyles:{margin:25}})]})},ControlledBounds=function ControlledBounds(){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)("2020-01-04"),2),value=_useState6[0],setValue=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)("2020-01-01"),2),min=_useState8[0],setMin=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)("2020-01-09"),2),max=_useState10[0],setMax=_useState10[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.a,{value:value,label:"Value (".concat(min," <= x <= ").concat(max,")"),minValue:min,maxValue:max,onValueChange:function onValueChange(newValue){console.log("new value = ".concat(newValue)),void 0!==newValue&&setValue(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.a,{value:min,maxValue:max,label:"Min",onValueChange:function onValueChange(newValue){void 0!==newValue&&setMin(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.a,{value:max,minValue:min,label:"Max",onValueChange:function onValueChange(newValue){void 0!==newValue&&setMax(newValue)},containerStyles:{margin:25}})]})};Controlled.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<string>('2005-01-01');\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as string);\n    },\n    [setValue]\n  );\n\n  return (\n    <DateInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},Controlled.parameters),ControlledBounded.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<string>('2005-01-01');\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as string);\n    },\n    [setValue]\n  );\n\n  return (\n    <DateInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},ControlledBounded.parameters),ControlledLinkedPair.parameters=Object.assign({storySource:{source:'() => {\n  const [linkedValue, setLinkedValue] = useState<string>(\'2020-02-20\');\n\n  return (\n    <>\n      <DateInput\n        value={linkedValue}\n        label="A"\n        onValueChange={(newValue) => {\n          console.log(`A new value = ${newValue}`);\n          setLinkedValue(newValue as string);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <DateInput\n        value={linkedValue}\n        label="B"\n        onValueChange={(newValue) => {\n          console.log(`B new value = ${newValue}`);\n          setLinkedValue(newValue as string);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n    </>\n  );\n}'}},ControlledLinkedPair.parameters),ControlledBounds.parameters=Object.assign({storySource:{source:"() => {\n  const [value, setValue] = useState<string>('2020-01-04');\n  const [min, setMin] = useState<string>('2020-01-01');\n  const [max, setMax] = useState<string>('2020-01-09');\n\n  return (\n    <>\n      <DateInput\n        value={value}\n        label={`Value (${min} <= x <= ${max})`}\n        minValue={min}\n        maxValue={max}\n        onValueChange={(newValue) => {\n          console.log(`new value = ${newValue}`);\n          // for some reason the `newValue !== undefined` is needed because\n          // the `useState<string>(0)` has an initial value provided\n          if (newValue !== undefined) setValue(newValue as string);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <DateInput\n        value={min}\n        maxValue={max}\n        label=\"Min\"\n        onValueChange={(newValue) => {\n          if (newValue !== undefined) setMin(newValue as string);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <DateInput\n        value={max}\n        minValue={min}\n        label=\"Max\"\n        onValueChange={(newValue) => {\n          if (newValue !== undefined) setMax(newValue as string);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n    </>\n  );\n}"}},ControlledBounds.parameters)},1420:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ControlledLinked",(function(){return ControlledLinked}));__webpack_require__(18),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Date Range Input",component:_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_4__.a};var ControlledLinked=function ControlledLinked(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)({min:"2001-01-01",max:"2001-01-31"}),2),range=_useState2[0],setRange=_useState2[1],handleChangeA=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(newRange){console.log("A: new range = ".concat(newRange.min," to ").concat(newRange.max)),setRange(newRange)}),[setRange]),handleChangeB=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(newRange){console.log("B: new range = ".concat(newRange.min," to ").concat(newRange.max)),setRange(newRange)}),[setRange]),SharedDateRangeInputArgs={rangeBounds:{min:"2001-01-01",max:"2001-12-31"},range:range,containerStyles:{margin:25}};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({label:"A",onRangeChange:handleChangeA},SharedDateRangeInputArgs)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({label:"B",onRangeChange:handleChangeB},SharedDateRangeInputArgs))]})};ControlledLinked.parameters=Object.assign({storySource:{source:"() => {\n  const [range, setRange] = useState<DateRange>({\n    min: '2001-01-01',\n    max: '2001-01-31',\n  });\n\n  // there must be a cleverer way to do this\n  // avoiding the cut and paste\n  const handleChangeA = useCallback(\n    (newRange) => {\n      console.log(`A: new range = ${newRange.min} to ${newRange.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n\n  const handleChangeB = useCallback(\n    (newRange) => {\n      console.log(`B: new range = ${newRange.min} to ${newRange.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n\n  const SharedDateRangeInputArgs = {\n    rangeBounds: { min: '2001-01-01', max: '2001-12-31' },\n    range: range,\n    containerStyles: { margin: 25 },\n  };\n\n  return (\n    <>\n      <DateRangeInput\n        label=\"A\"\n        onRangeChange={handleChangeA}\n        {...SharedDateRangeInputArgs}\n      />\n      <DateRangeInput\n        label=\"B\"\n        onRangeChange={handleChangeB}\n        {...SharedDateRangeInputArgs}\n      />\n    </>\n  );\n}"}},ControlledLinked.parameters)},1421:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NoBounds",(function(){return NoBounds})),__webpack_require__.d(__webpack_exports__,"NoLabel",(function(){return NoLabel})),__webpack_require__.d(__webpack_exports__,"Bounded",(function(){return Bounded})),__webpack_require__.d(__webpack_exports__,"RequiredBounded",(function(){return RequiredBounded})),__webpack_require__.d(__webpack_exports__,"ExternallyOutOfBounds",(function(){return ExternallyOutOfBounds})),__webpack_require__.d(__webpack_exports__,"BoundedNonZero",(function(){return BoundedNonZero})),__webpack_require__.d(__webpack_exports__,"SilentBoundsCheck",(function(){return SilentBoundsCheck})),__webpack_require__.d(__webpack_exports__,"LinkedPair",(function(){return LinkedPair})),__webpack_require__.d(__webpack_exports__,"LinkedRequiredPair",(function(){return LinkedRequiredPair})),__webpack_require__.d(__webpack_exports__,"ControlledBounds",(function(){return ControlledBounds}));__webpack_require__(18),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(52);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Number Input",component:_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.b};var ControlledTemplate=function ControlledTemplate(args){var _args$value,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(null!==(_args$value=args.value)&&void 0!==_args$value?_args$value:1),2),value=_useState2[0],setValue=_useState2[1],onValueChange=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(newValue){console.log("new value = ".concat(newValue)),setValue(newValue)}),[setValue]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.b,Object.assign({},args,{value:value,onValueChange:onValueChange,containerStyles:Object.assign({},args.containerStyles,{margin:25})}))};ControlledTemplate.displayName="ControlledTemplate";var NoBounds=ControlledTemplate.bind({});NoBounds.args={label:"Controlled"};var NoLabel=ControlledTemplate.bind({});NoLabel.args={};var Bounded=ControlledTemplate.bind({});Bounded.args={label:"Controlled (0 <= x <= 5)",minValue:0,maxValue:5};var RequiredBounded=ControlledTemplate.bind({});RequiredBounded.args={label:"Controlled (0 <= x <= 5)",minValue:0,maxValue:5,required:!0};var ExternallyOutOfBounds=ControlledTemplate.bind({});ExternallyOutOfBounds.args={label:"Controlled (0 <= x <= 5)",minValue:0,maxValue:5,value:10};var BoundedNonZero=ControlledTemplate.bind({});BoundedNonZero.args={label:"Controlled (3 <= x <= 9)",value:6,minValue:3,maxValue:9};var SilentBoundsCheck=ControlledTemplate.bind({});SilentBoundsCheck.args={label:"Controlled (10 <= x <= 12)",value:11,minValue:10,maxValue:12,displayRangeViolationWarnings:!1};var LinkedPair=function LinkedPair(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(0),2),linkedValue=_useState4[0],setLinkedValue=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.b,{value:linkedValue,label:"A",onValueChange:function onValueChange(newValue){console.log("A new value = ".concat(newValue)),setLinkedValue(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.b,{value:linkedValue,label:"B",onValueChange:function onValueChange(newValue){console.log("B new value = ".concat(newValue)),setLinkedValue(newValue)},containerStyles:{margin:25}})]})},LinkedRequiredPair=function LinkedRequiredPair(){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(0),2),linkedValue=_useState6[0],setLinkedValue=_useState6[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.b,{value:linkedValue,label:"A",onValueChange:function onValueChange(newValue){console.log("A new value = ".concat(newValue)),setLinkedValue(newValue)},required:!0,containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.b,{value:linkedValue,label:"B",onValueChange:function onValueChange(newValue){console.log("B new value = ".concat(newValue)),setLinkedValue(newValue)},required:!0,containerStyles:{margin:25}})]})},ControlledBounds=function ControlledBounds(){var _useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(0),2),value=_useState8[0],setValue=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(-5),2),min=_useState10[0],setMin=_useState10[1],_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(5),2),max=_useState12[0],setMax=_useState12[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.b,{value:value,label:"Value (".concat(min," <= x <= ").concat(max,")"),minValue:min,maxValue:max,onValueChange:function onValueChange(newValue){console.log("new value = ".concat(newValue)),void 0!==newValue&&setValue(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.b,{value:min,maxValue:max,label:"Min",onValueChange:function onValueChange(newValue){void 0!==newValue&&setMin(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_4__.b,{value:max,minValue:min,label:"Max",onValueChange:function onValueChange(newValue){void 0!==newValue&&setMax(newValue)},containerStyles:{margin:25}})]})};NoBounds.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},NoBounds.parameters),NoLabel.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},NoLabel.parameters),Bounded.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},Bounded.parameters),RequiredBounded.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},RequiredBounded.parameters),ExternallyOutOfBounds.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},ExternallyOutOfBounds.parameters),BoundedNonZero.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},BoundedNonZero.parameters),SilentBoundsCheck.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},SilentBoundsCheck.parameters),LinkedPair.parameters=Object.assign({storySource:{source:'() => {\n  const [linkedValue, setLinkedValue] = useState<number>(0);\n\n  return (\n    <>\n      <NumberInput\n        value={linkedValue}\n        label="A"\n        onValueChange={(newValue) => {\n          console.log(`A new value = ${newValue}`);\n          setLinkedValue(newValue as number);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <NumberInput\n        value={linkedValue}\n        label="B"\n        onValueChange={(newValue) => {\n          console.log(`B new value = ${newValue}`);\n          setLinkedValue(newValue as number);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n    </>\n  );\n}'}},LinkedPair.parameters),LinkedRequiredPair.parameters=Object.assign({storySource:{source:'() => {\n  const [linkedValue, setLinkedValue] = useState<number>(0);\n\n  return (\n    <>\n      <NumberInput\n        value={linkedValue}\n        label="A"\n        onValueChange={(newValue) => {\n          console.log(`A new value = ${newValue}`);\n          setLinkedValue(newValue as number);\n        }}\n        required={true}\n        containerStyles={{ margin: 25 }}\n      />\n      <NumberInput\n        value={linkedValue}\n        label="B"\n        onValueChange={(newValue) => {\n          console.log(`B new value = ${newValue}`);\n          setLinkedValue(newValue as number);\n        }}\n        required={true}\n        containerStyles={{ margin: 25 }}\n      />\n    </>\n  );\n}'}},LinkedRequiredPair.parameters),ControlledBounds.parameters=Object.assign({storySource:{source:'() => {\n  const [value, setValue] = useState<number>(0);\n  const [min, setMin] = useState<number>(-5);\n  const [max, setMax] = useState<number>(5);\n\n  return (\n    <>\n      <NumberInput\n        value={value}\n        label={`Value (${min} <= x <= ${max})`}\n        minValue={min}\n        maxValue={max}\n        onValueChange={(newValue) => {\n          console.log(`new value = ${newValue}`);\n          // for some reason the `newValue !== undefined` is needed because\n          // the `useState<number>(0)` has an initial value provided\n          if (newValue !== undefined) setValue(newValue as number);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <NumberInput\n        value={min}\n        maxValue={max}\n        label="Min"\n        onValueChange={(newValue) => {\n          if (newValue !== undefined) setMin(newValue as number);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <NumberInput\n        value={max}\n        minValue={min}\n        label="Max"\n        onValueChange={(newValue) => {\n          if (newValue !== undefined) setMax(newValue as number);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n    </>\n  );\n}'}},ControlledBounds.parameters)},1422:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ControlledLinked",(function(){return ControlledLinked}));__webpack_require__(18),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Number Range Input",component:_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_4__.b};var ControlledLinked=function ControlledLinked(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)({min:1,max:9}),2),range=_useState2[0],setRange=_useState2[1],handleChangeA=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(newRange){console.log("A: new range = ".concat(newRange.min," to ").concat(newRange.max)),setRange(newRange)}),[setRange]),handleChangeB=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(newRange){console.log("B: new range = ".concat(newRange.min," to ").concat(newRange.max)),setRange(newRange)}),[setRange]),SharedNumberRangeInputArgs={rangeBounds:{min:0,max:10},range:range,containerStyles:{margin:25}};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_4__.b,Object.assign({label:"A",onRangeChange:handleChangeA},SharedNumberRangeInputArgs)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_4__.b,Object.assign({label:"B (no min and max labels, required=true )",onRangeChange:handleChangeB,lowerLabel:"",upperLabel:"",required:!0},SharedNumberRangeInputArgs))]})};ControlledLinked.parameters=Object.assign({storySource:{source:'() => {\n  const [range, setRange] = useState<NumberRange>({ min: 1, max: 9 });\n\n  // there must be a cleverer way to do this\n  // avoiding the cut and paste\n  const handleChangeA = useCallback(\n    (newRange) => {\n      console.log(`A: new range = ${newRange.min} to ${newRange.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n\n  const handleChangeB = useCallback(\n    (newRange) => {\n      console.log(`B: new range = ${newRange.min} to ${newRange.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n\n  const SharedNumberRangeInputArgs = {\n    rangeBounds: { min: 0, max: 10 },\n    range: range,\n    containerStyles: { margin: 25 },\n  };\n\n  return (\n    <>\n      <NumberRangeInput\n        label="A"\n        onRangeChange={handleChangeA}\n        {...SharedNumberRangeInputArgs}\n      />\n      <NumberRangeInput\n        label="B (no min and max labels, required=true )"\n        onRangeChange={handleChangeB}\n        lowerLabel=""\n        upperLabel=""\n        required={true}\n        {...SharedNumberRangeInputArgs}\n      />\n    </>\n  );\n}'}},ControlledLinked.parameters)},1423:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_constants_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_components_widgets_OpacitySlider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(193);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Slider/Opacity",component:_components_widgets_OpacitySlider__WEBPACK_IMPORTED_MODULE_4__.a};var Basic=function Basic(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(args.value),2),opacity=_useState2[0],setOpacity=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components_widgets_OpacitySlider__WEBPACK_IMPORTED_MODULE_4__.a,{value:opacity,onValueChange:function onValueChange(value){args.onValueChange(value),setOpacity(value)},color:args.color,containerStyles:Object.assign({},args.containerStyles,{padding:25})})};Basic.displayName="Basic",Basic.args={value:1,containerStyles:{width:250},color:_constants_colors__WEBPACK_IMPORTED_MODULE_3__.e},Basic.argTypes={onValueChange:{action:"Opacity Value Changed"}},Basic.parameters=Object.assign({storySource:{source:"(args) => {\n  const [opacity, setOpacity] = useState<number>(args.value);\n  return (\n    <OpacitySlider\n      value={opacity}\n      onValueChange={(value) => {\n        args.onValueChange(value);\n        setOpacity(value);\n      }}\n      color={args.color}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},Basic.parameters)},1424:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BasicOrientationToggle",(function(){return BasicOrientationToggle})),__webpack_require__.d(__webpack_exports__,"CustomStyling",(function(){return CustomStyling}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_components_widgets_OrientationToggle__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(266);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Orientation Toggle",component:_components_widgets_OrientationToggle__WEBPACK_IMPORTED_MODULE_3__.a};var BasicOrientationToggle=function BasicOrientationToggle(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(args.orientation),2),orientation=_useState2[0],setOrientation=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){setOrientation(args.orientation)}),[args.orientation]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components_widgets_OrientationToggle__WEBPACK_IMPORTED_MODULE_3__.a,{orientation:orientation,onOrientationChange:function onOrientationChange(){args.onOrientationChange("vertical"===orientation?"horizontal":"vertical"),setOrientation("vertical"===orientation?"horizontal":"vertical")},containerStyles:Object.assign({},args.containerStyles,{padding:25})})};BasicOrientationToggle.displayName="BasicOrientationToggle",BasicOrientationToggle.args={orientation:"vertical"},BasicOrientationToggle.argTypes={onOrientationChange:{action:"Value Changed"}};var CustomStyling=BasicOrientationToggle.bind({});CustomStyling.args={containerStyles:{padding:10,borderRadius:5,background:"linear-gradient(#ffffff, #ffffff), linear-gradient(to right, red, purple)",backgroundOrigin:"padding-box, border-box",backgroundRepeat:"no-repeat",border:"2px solid transparent",maxWidth:200},orientation:"horizontal"},CustomStyling.argTypes={onOrientationChange:{action:"Value Changed"}},BasicOrientationToggle.parameters=Object.assign({storySource:{source:"(args) => {\n  const [orientation, setOrientation] = useState<OrientationOptions>(\n    args.orientation\n  );\n\n  // Play nice with storybook.\n  useEffect(() => {\n    setOrientation(args.orientation);\n  }, [args.orientation]);\n\n  return (\n    <OrientationToggle\n      orientation={orientation}\n      onOrientationChange={() => {\n        args.onOrientationChange(\n          orientation === 'vertical' ? 'horizontal' : 'vertical'\n        );\n        setOrientation(orientation === 'vertical' ? 'horizontal' : 'vertical');\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},BasicOrientationToggle.parameters),CustomStyling.parameters=Object.assign({storySource:{source:"(args) => {\n  const [orientation, setOrientation] = useState<OrientationOptions>(\n    args.orientation\n  );\n\n  // Play nice with storybook.\n  useEffect(() => {\n    setOrientation(args.orientation);\n  }, [args.orientation]);\n\n  return (\n    <OrientationToggle\n      orientation={orientation}\n      onOrientationChange={() => {\n        args.onOrientationChange(\n          orientation === 'vertical' ? 'horizontal' : 'vertical'\n        );\n        setOrientation(orientation === 'vertical' ? 'horizontal' : 'vertical');\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},CustomStyling.parameters)},1425:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"Labelled",(function(){return Labelled})),__webpack_require__.d(__webpack_exports__,"FormattedTooltip",(function(){return FormattedTooltip})),__webpack_require__.d(__webpack_exports__,"CustomColors",(function(){return CustomColors})),__webpack_require__.d(__webpack_exports__,"CustomGradientColors",(function(){return CustomGradientColors})),__webpack_require__.d(__webpack_exports__,"AuxiliaryTextInput",(function(){return AuxiliaryTextInput})),__webpack_require__.d(__webpack_exports__,"AuxiliaryTextInputBigNum",(function(){return AuxiliaryTextInputBigNum})),__webpack_require__.d(__webpack_exports__,"AuxiliaryTextInputHugeNum",(function(){return AuxiliaryTextInputHugeNum}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(194),_constants_colors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Slider",component:_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_3__.a};var Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(args.value),2),value=_useState2[0],setValue=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){setValue(args.value)}),[args.value]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args,{value:value,onChange:function onChange(value){args.onChange(value),setValue(value)},containerStyles:Object.assign({},args.containerStyles,{padding:25})}))};Template.displayName="Template";var Basic=Template.bind({});Basic.args={minimum:0,maximum:255,value:1,containerStyles:{height:100,width:150},debounceRateMs:100},Basic.argTypes={onChange:{action:"Slider Value Changed"}};var Labelled=Template.bind({});Labelled.args=Object.assign({},Basic.args,{containerStyles:{height:100,width:300},label:"Widget Label"}),Labelled.argTypes=Object.assign({},Basic.argTypes);var FormattedTooltip=Template.bind({});FormattedTooltip.args=Object.assign({},Labelled.args,{valueFormatter:function valueFormatter(value){return"#".concat(value)}}),FormattedTooltip.argTypes=Object.assign({},Basic.argTypes);var CustomColors=Template.bind({});CustomColors.args=Object.assign({},Labelled.args,{label:"Widget Label",colorSpec:{type:"singleColor",trackColor:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.i,knobColor:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.f,tooltip:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.g}}),CustomColors.argTypes=Object.assign({},Basic.argTypes);var CustomGradientColors=Template.bind({});CustomGradientColors.args=Object.assign({},Labelled.args,{label:"Widget Label",colorSpec:{type:"gradient",trackGradientStart:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.e,trackGradientEnd:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.h,knobColor:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.j,tooltip:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.g}}),CustomGradientColors.argTypes=Object.assign({},Basic.argTypes);var AuxiliaryTextInput=Template.bind({});AuxiliaryTextInput.args=Object.assign({},Labelled.args,{minimum:0,maximum:11,containerStyles:{height:100,width:600},label:"Special Number",showTextInput:!0}),AuxiliaryTextInput.argTypes=Object.assign({},Basic.argTypes);var AuxiliaryTextInputBigNum=Template.bind({});AuxiliaryTextInputBigNum.args=Object.assign({},Labelled.args,{minimum:-1e4,maximum:1e4,containerStyles:{height:100,width:600},label:"Special Number",showTextInput:!0}),AuxiliaryTextInputBigNum.argTypes=Object.assign({},Basic.argTypes);var AuxiliaryTextInputHugeNum=Template.bind({});AuxiliaryTextInputHugeNum.args=Object.assign({},Labelled.args,{minimum:-1e8,maximum:1e8,containerStyles:{height:100,width:600},label:"Special Number",showTextInput:!0}),AuxiliaryTextInputHugeNum.argTypes=Object.assign({},Basic.argTypes),Basic.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},Basic.parameters),Labelled.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},Labelled.parameters),FormattedTooltip.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},FormattedTooltip.parameters),CustomColors.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},CustomColors.parameters),CustomGradientColors.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},CustomGradientColors.parameters),AuxiliaryTextInput.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},AuxiliaryTextInput.parameters),AuxiliaryTextInputBigNum.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},AuxiliaryTextInputBigNum.parameters),AuxiliaryTextInputHugeNum.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},AuxiliaryTextInputHugeNum.parameters)},1426:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"Labelled",(function(){return Labelled})),__webpack_require__.d(__webpack_exports__,"VerticalOrientation",(function(){return VerticalOrientation}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_components_widgets_Switch__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(138),_constants_colors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Switch",component:_components_widgets_Switch__WEBPACK_IMPORTED_MODULE_3__.a};var Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(args.state),2),value=_useState2[0],setValue=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components_widgets_Switch__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args,{state:value,onStateChange:function onStateChange(event){args.onStateChange(event),setValue(!value)},containerStyles:Object.assign({},args.containerStyles,{margin:25})}))};Template.displayName="Template";var Basic=Template.bind({});Basic.args={state:!1,onStateChange:function onStateChange(event){return console.log("Switch Toggled")}};var Labelled=Template.bind({});Labelled.args=Object.assign({},Basic.args,{label:"Labelled"});var VerticalOrientation=Template.bind({});VerticalOrientation.args=Object.assign({},Basic.args,{label:"Custom Color",color:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.h}),Basic.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState(args.state);\n\n  return (\n    <Switch\n      {...args}\n      state={value}\n      onStateChange={(event) => {\n        args.onStateChange(event);\n        setValue(!value);\n      }}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},Basic.parameters),Labelled.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState(args.state);\n\n  return (\n    <Switch\n      {...args}\n      state={value}\n      onStateChange={(event) => {\n        args.onStateChange(event);\n        setValue(!value);\n      }}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},Labelled.parameters),VerticalOrientation.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState(args.state);\n\n  return (\n    <Switch\n      {...args}\n      state={value}\n      onStateChange={(event) => {\n        args.onStateChange(event);\n        setValue(!value);\n      }}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},VerticalOrientation.parameters)},1432:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BinWidthRangeGeneratedFromData",(function(){return BinWidthRangeGeneratedFromData})),__webpack_require__.d(__webpack_exports__,"OverrideBinWidthRangeAndStep",(function(){return OverrideBinWidthRangeAndStep})),__webpack_require__.d(__webpack_exports__,"BackendProvidedBinWidthRangeAndStep",(function(){return BackendProvidedBinWidthRangeAndStep})),__webpack_require__.d(__webpack_exports__,"RangeSelection",(function(){return RangeSelection})),__webpack_require__.d(__webpack_exports__,"EventHoursNoControls",(function(){return EventHoursNoControls})),__webpack_require__.d(__webpack_exports__,"RepoMonthsNoControls",(function(){return RepoMonthsNoControls})),__webpack_require__.d(__webpack_exports__,"DateRangeSelection",(function(){return DateRangeSelection}));__webpack_require__(18),__webpack_require__(4),__webpack_require__(15),__webpack_require__(104);var jsx_runtime=__webpack_require__(1),react=(__webpack_require__(76),__webpack_require__(0)),Histogram=__webpack_require__(170),usePlotControls=__webpack_require__(97),HistogramControls=__webpack_require__(153);__webpack_require__(668),__webpack_require__(14),__webpack_require__(65);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var getDailyCovidStats=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var response,json;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch("https://api.covidactnow.org/v2/states.json?apiKey=c85ebdd1b2ad497cb8349e777867933d");case 2:return response=_context.sent,_context.next=5,response.json();case 5:return json=_context.sent,_context.abrupt("return",json);case 7:case"end":return _context.stop()}}),_callee)})));return function getDailyCovidStats(){return _ref.apply(this,arguments)}}(),binDailyCovidStats=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(binWidth){var selectedUnit,throwSampleErrors,includeExtraDirectives,statisticsByState,calculatedBinWidth,newCasesStats,lowNewCases,highNewCases,newCasesBins,index,binEnd,hospitalizedStats,lowHospitalized,highHospitalized,hospitalizationBins,_index,_binEnd,reducer,binnedData,objectToReturn,_args2=arguments;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return selectedUnit=_args2.length>1&&void 0!==_args2[1]?_args2[1]:"default",throwSampleErrors=_args2.length>2&&void 0!==_args2[2]&&_args2[2],includeExtraDirectives=_args2.length>3&&void 0!==_args2[3]&&_args2[3],_context2.next=5,getDailyCovidStats();case 5:if(statisticsByState=_context2.sent,calculatedBinWidth=binWidth||("Count per 100000 Residents"===selectedUnit?1:1e3),!throwSampleErrors||9e3!==calculatedBinWidth){_context2.next=11;break}throw new Error("Pretend error of not being able retrieve data from the backend.");case 11:if(!throwSampleErrors||4e3!==calculatedBinWidth){_context2.next=13;break}throw new Error("Pretend error of some random error with a moderately long message associated to it.");case 13:for(newCasesStats=statisticsByState.map((function(state){return"Count per 100000 Residents"===selectedUnit?state.actuals.newCases/(state.population/1e5):state.actuals.newCases})),lowNewCases=Math.min.apply(Math,_toConsumableArray(newCasesStats).concat([0])),highNewCases=Math.max.apply(Math,_toConsumableArray(newCasesStats)),newCasesBins=[],index=lowNewCases;index<highNewCases;index+=calculatedBinWidth)binEnd=index+calculatedBinWidth,newCasesBins.push({binStart:index,binEnd:binEnd,binLabel:"".concat(index," - ").concat(binEnd),count:0});for(hospitalizedStats=statisticsByState.map((function(state){return"Count per 100000 Residents"===selectedUnit?state.actuals.hospitalBeds.currentUsageCovid/(state.population/1e5):state.actuals.hospitalBeds.currentUsageCovid})),lowHospitalized=Math.min.apply(Math,_toConsumableArray(hospitalizedStats)),highHospitalized=Math.max.apply(Math,_toConsumableArray(hospitalizedStats)),hospitalizationBins=[],_index=lowHospitalized;_index<highHospitalized;_index+=calculatedBinWidth)_binEnd=_index+calculatedBinWidth,hospitalizationBins.push({binStart:_index,binEnd:_binEnd,binLabel:"".concat(_index," - ").concat(_binEnd),count:0});return reducer=function reducer(accumulator,currentValue){var stateNewCasesData="Count per 100000 Residents"===selectedUnit?currentValue.actuals.newCases/(currentValue.population/1e5):currentValue.actuals.newCases,matchingCasesBinIndex=newCasesBins.findIndex((function(bin){return bin.binStart>=stateNewCasesData}));-1!==matchingCasesBinIndex?newCasesBins[matchingCasesBinIndex].count=newCasesBins[matchingCasesBinIndex].count+1:newCasesBins[newCasesBins.length-1].count=newCasesBins[newCasesBins.length-1].count+1;var stateHospitalUsageData="Count per 100000 Residents"===selectedUnit?currentValue.actuals.hospitalBeds.currentUsageCovid/(currentValue.population/1e5):currentValue.actuals.hospitalBeds.currentUsageCovid,matchingBinIndex=hospitalizationBins.findIndex((function(bin){return bin.binStart>=stateHospitalUsageData}));return-1!==matchingBinIndex?hospitalizationBins[matchingBinIndex].count=hospitalizationBins[matchingBinIndex].count+1:hospitalizationBins[hospitalizationBins.length-1].count=hospitalizationBins[hospitalizationBins.length-1].count+1,accumulator},binnedData=statisticsByState.reduce(reducer,[{name:"Current Hospitalizations",bins:hospitalizationBins},{name:"New Cases",bins:newCasesBins}]),objectToReturn=Object.assign({series:binnedData},includeExtraDirectives?{availableUnits:["Count","Count per 100000 Residents"],selectedUnit:"Count",binWidth:"Count per 100000 Residents"===selectedUnit?1:1e3,binWidthRange:"Count per 100000 Residents"===selectedUnit?{min:1,max:15}:{min:1e3,max:15e3},binWidthStep:"Count per 100000 Residents"===selectedUnit?1:500}:{}),_context2.abrupt("return",objectToReturn);case 27:case"end":return _context2.stop()}}),_callee2)})));return function binDailyCovidStats(_x){return _ref2.apply(this,arguments)}}(),date_arithmetic=(__webpack_require__(48),__webpack_require__(51),__webpack_require__(98));function githubDates_toConsumableArray(arr){return function githubDates_arrayWithoutHoles(arr){if(Array.isArray(arr))return githubDates_arrayLikeToArray(arr)}(arr)||function githubDates_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function githubDates_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return githubDates_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return githubDates_arrayLikeToArray(o,minLen)}(arr)||function githubDates_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function githubDates_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function githubDates_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function githubDates_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){githubDates_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){githubDates_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var getCreatedDateData=function(){var _ref=githubDates_asyncToGenerator(regeneratorRuntime.mark((function _callee(url){var response,json;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.json();case 5:return json=_context.sent,_context.abrupt("return",json.map((function(item){return{id:item.id,date:new Date(item.created_at)}})));case 7:case"end":return _context.stop()}}),_callee)})));return function getCreatedDateData(_x){return _ref.apply(this,arguments)}}(),binGithubEventDates=function(){var _ref3=githubDates_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref2){var url,unit,binWidth,numBins,eventData,dates,rawFirstDate,firstDate,lastDate,bins,calculatedBinWidth,date,binEnd,objectToReturn;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return url=_ref2.url,unit=_ref2.unit,binWidth=_ref2.binWidth,numBins=_ref2.numBins,_context2.next=3,getCreatedDateData(url);case 3:for(eventData=_context2.sent,dates=eventData.map((function(event){return event.date})),rawFirstDate=dates[dates.length-1],firstDate="week"===unit?date_arithmetic.startOf(rawFirstDate,unit,0):date_arithmetic.startOf(rawFirstDate,unit),lastDate=dates[0],bins=[],calculatedBinWidth=binWidth||(numBins?[Math.max(1,Math.floor(date_arithmetic.diff(firstDate,lastDate,unit,!0)/numBins)),unit]:[1,unit]),date=firstDate;date<lastDate;date=date_arithmetic.add.apply(date_arithmetic,[date].concat(githubDates_toConsumableArray(calculatedBinWidth))))binEnd=date_arithmetic.add.apply(date_arithmetic,[date].concat(githubDates_toConsumableArray(calculatedBinWidth))),bins.push({binStart:date.toISOString(),binEnd:binEnd.toISOString(),binLabel:"".concat(date," - ").concat(binEnd),count:0});return dates.forEach((function(date){var matchingBinIndex=bins.findIndex((function(bin){return date.toISOString()<bin.binStart}));matchingBinIndex<0?bins[bins.length-1].count+=1:bins[matchingBinIndex-1].count+=1})),objectToReturn={series:[{name:"Count of events",bins:bins}],valueType:"date"},console.log(objectToReturn),_context2.abrupt("return",objectToReturn);case 15:case"end":return _context2.stop()}}),_callee2)})));return function binGithubEventDates(_x2){return _ref3.apply(this,arguments)}}();function Histogram_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Histogram_stories_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Histogram_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){Histogram_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_exports__.default={title:"Plots/Histogram",component:Histogram.a};var defaultActions={onSelectedRangeChange:function onSelectedRangeChange(newRange){console.log("made a selection of ".concat(newRange.min," to ").concat(newRange.max))}},Histogram_stories_TemplateWithControls=function TemplateWithControls(args,_ref){var _onBinWidthChange,_onSelectedUnitChange,apiData=_ref.loaded.apiData,plotControls=Object(usePlotControls.a)({data:apiData,onSelectedUnitChange:(_onSelectedUnitChange=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee(newUnit){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,binDailyCovidStats(void 0,newUnit,args.throwSampleErrors,args.includeExtraDirectives);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}),_callee)}))),function onSelectedUnitChange(_x){return _onSelectedUnitChange.apply(this,arguments)}),histogram:{binWidthRange:args.binWidthRange,binWidthStep:args.binWidthStep,onBinWidthChange:(_onBinWidthChange=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref2){var binWidth,selectedUnit;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return binWidth=_ref2.binWidth,selectedUnit=_ref2.selectedUnit,_context2.next=3,binDailyCovidStats(binWidth,selectedUnit,args.throwSampleErrors,args.includeExtraDirectives);case 3:return _context2.abrupt("return",_context2.sent);case 4:case"end":return _context2.stop()}}),_callee2)}))),function onBinWidthChange(_x2){return _onBinWidthChange.apply(this,arguments)})}});return Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)(Histogram.a,Object.assign({},args,plotControls,plotControls.histogram,defaultActions)),Object(jsx_runtime.jsx)("div",{style:{height:25}}),Object(jsx_runtime.jsx)(HistogramControls.a,Object.assign({label:"Histogram Controls",valueType:"number"},plotControls,plotControls.histogram,{containerStyles:{maxWidth:"calc(".concat(toCSSLength(args.width)," - 25px)"),marginLeft:25}}))]})};Histogram_stories_TemplateWithControls.displayName="TemplateWithControls";var BinWidthRangeGeneratedFromData=Histogram_stories_TemplateWithControls.bind({});BinWidthRangeGeneratedFromData.args={title:"Some Current Covid Data in U.S. States",height:400,width:1e3},BinWidthRangeGeneratedFromData.loaders=[Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,binDailyCovidStats(2e3);case 2:return _context3.t0=_context3.sent,_context3.abrupt("return",{apiData:_context3.t0});case 4:case"end":return _context3.stop()}}),_callee3)})))];var OverrideBinWidthRangeAndStep=Histogram_stories_TemplateWithControls.bind({});OverrideBinWidthRangeAndStep.args={title:"Some Current Covid Data in U.S. States",height:400,width:1e3,binWidthRange:{min:2e3,max:1e4},binWidthStep:1e3},OverrideBinWidthRangeAndStep.loaders=[Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,binDailyCovidStats(2e3);case 2:return _context4.t0=_context4.sent,_context4.abrupt("return",{apiData:_context4.t0});case 4:case"end":return _context4.stop()}}),_callee4)})))];var BackendProvidedBinWidthRangeAndStep=Histogram_stories_TemplateWithControls.bind({});BackendProvidedBinWidthRangeAndStep.args={title:"Some Current Covid Data in U.S. States",height:400,width:1e3,includeExtraDirectives:!0},BackendProvidedBinWidthRangeAndStep.loaders=[Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,binDailyCovidStats(1e3,void 0,!1,!0);case 2:return _context5.t0=_context5.sent,_context5.abrupt("return",{apiData:_context5.t0});case 4:case"end":return _context5.stop()}}),_callee5)})))];var Histogram_stories_TemplateWithSelectedRangeControls=function TemplateWithSelectedRangeControls(args,_ref6){var _onBinWidthChange2,_onSelectedUnitChange2,apiData=_ref6.loaded.apiData,plotControls=Object(usePlotControls.a)({data:apiData,onSelectedUnitChange:(_onSelectedUnitChange2=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee6(newUnit){return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,binDailyCovidStats(void 0,newUnit,args.throwSampleErrors,args.includeExtraDirectives);case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}}),_callee6)}))),function onSelectedUnitChange(_x3){return _onSelectedUnitChange2.apply(this,arguments)}),histogram:{binWidthRange:args.binWidthRange,binWidthStep:args.binWidthStep,onBinWidthChange:(_onBinWidthChange2=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee7(_ref7){var binWidth,selectedUnit;return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return binWidth=_ref7.binWidth,selectedUnit=_ref7.selectedUnit,_context7.next=3,binDailyCovidStats(binWidth,selectedUnit,args.throwSampleErrors,args.includeExtraDirectives);case 3:return _context7.abrupt("return",_context7.sent);case 4:case"end":return _context7.stop()}}),_callee7)}))),function onBinWidthChange(_x4){return _onBinWidthChange2.apply(this,arguments)}),displaySelectedRangeControls:!0}});return Object(react.useEffect)((function(){var newRange=plotControls.histogram.selectedRange;newRange&&console.log("The story received a new range: ".concat(newRange.min," to ").concat(newRange.max))}),[plotControls.histogram.selectedRange]),Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)(Histogram.a,Object.assign({},args,plotControls,plotControls.histogram)),Object(jsx_runtime.jsx)("div",{style:{height:25}}),Object(jsx_runtime.jsx)(HistogramControls.a,Object.assign({label:"Histogram Controls"},plotControls,plotControls.histogram,{containerStyles:{maxWidth:"calc(".concat(toCSSLength(args.width)," - 25px)"),marginLeft:25}}))]})};Histogram_stories_TemplateWithSelectedRangeControls.displayName="TemplateWithSelectedRangeControls";var RangeSelection=Histogram_stories_TemplateWithSelectedRangeControls.bind({});RangeSelection.args={title:"Some Current Covid Data in U.S. States",height:400,width:1e3},RangeSelection.loaders=[Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee8(){return regeneratorRuntime.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,binDailyCovidStats(1e3);case 2:return _context8.t0=_context8.sent,_context8.abrupt("return",{apiData:_context8.t0});case 4:case"end":return _context8.stop()}}),_callee8)})))];var Histogram_stories_SimpleDateTemplate=function SimpleDateTemplate(args,_ref9){var apiData=_ref9.loaded.apiData;return Object(jsx_runtime.jsx)(Histogram.a,Object.assign({},args,{data:apiData}))};Histogram_stories_SimpleDateTemplate.displayName="SimpleDateTemplate";var EventHoursNoControls=Histogram_stories_SimpleDateTemplate.bind({});EventHoursNoControls.args={title:"Recent VEuPathDB github events",height:400,width:1e3},EventHoursNoControls.loaders=[Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee9(){return regeneratorRuntime.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,binGithubEventDates({numBins:10,url:"https://api.github.com/users/VEuPathDB/events?per_page=100",unit:"hours"});case 2:return _context9.t0=_context9.sent,_context9.abrupt("return",{apiData:_context9.t0});case 4:case"end":return _context9.stop()}}),_callee9)})))];var RepoMonthsNoControls=Histogram_stories_SimpleDateTemplate.bind({});RepoMonthsNoControls.args={title:"VEuPathDB github repo creation dates",height:400,width:1e3},RepoMonthsNoControls.loaders=[Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee10(){return regeneratorRuntime.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,binGithubEventDates({numBins:10,url:"https://api.github.com/users/VEuPathDB/repos?sort=created",unit:"month"});case 2:return _context10.t0=_context10.sent,_context10.abrupt("return",{apiData:_context10.t0});case 4:case"end":return _context10.stop()}}),_callee10)})))];var Histogram_stories_TemplateWithSelectedDateRangeControls=function TemplateWithSelectedDateRangeControls(args,_ref12){var _onBinWidthChange3,_onSelectedUnitChange3,apiData=_ref12.loaded.apiData,plotControls=Object(usePlotControls.a)({data:apiData,onSelectedUnitChange:(_onSelectedUnitChange3=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee11(newUnit){return regeneratorRuntime.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=2,binGithubEventDates({url:"https://api.github.com/users/VEuPathDB/repos?sort=created",unit:"month",numBins:10});case 2:return _context11.abrupt("return",_context11.sent);case 3:case"end":return _context11.stop()}}),_callee11)}))),function onSelectedUnitChange(_x5){return _onSelectedUnitChange3.apply(this,arguments)}),histogram:{valueType:"date",binWidthRange:args.binWidthRange,binWidthStep:args.binWidthStep,onBinWidthChange:(_onBinWidthChange3=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee12(_ref13){return regeneratorRuntime.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _ref13.binWidth,_ref13.selectedUnit,_context12.next=3,binGithubEventDates({url:"https://api.github.com/users/VEuPathDB/repos?sort=created",unit:"month",numBins:10});case 3:return _context12.abrupt("return",_context12.sent);case 4:case"end":return _context12.stop()}}),_callee12)}))),function onBinWidthChange(_x6){return _onBinWidthChange3.apply(this,arguments)}),displaySelectedRangeControls:!0}});return Object(react.useEffect)((function(){var newRange=plotControls.histogram.selectedRange;newRange&&console.log("The story received a new range: ".concat(newRange.min," to ").concat(newRange.max))}),[plotControls.histogram.selectedRange]),Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)(Histogram.a,Object.assign({},args,plotControls,plotControls.histogram)),Object(jsx_runtime.jsx)("div",{style:{height:25}}),Object(jsx_runtime.jsx)(HistogramControls.a,Object.assign({label:"Histogram Controls"},plotControls,plotControls.histogram,{binWidthRange:{min:1,max:12,unit:"month"},binWidthStep:1,selectedUnit:"month",containerStyles:{maxWidth:"calc(".concat(toCSSLength(args.width)," - 25px)"),marginLeft:25}})),Object(jsx_runtime.jsx)("div",{children:"Note: bin width slider is known to be broken."})]})};Histogram_stories_TemplateWithSelectedDateRangeControls.displayName="TemplateWithSelectedDateRangeControls";var DateRangeSelection=Histogram_stories_TemplateWithSelectedDateRangeControls.bind({});function toCSSLength(length){return"number"==typeof length?"".concat(length,"px"):length}DateRangeSelection.args={title:"VEuPathDB github repo creation dates",height:400,width:1e3},DateRangeSelection.loaders=[Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee13(){return regeneratorRuntime.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,binGithubEventDates({numBins:10,url:"https://api.github.com/users/VEuPathDB/repos?sort=created",unit:"month"});case 2:return _context13.t0=_context13.sent,_context13.abrupt("return",{apiData:_context13.t0});case 4:case"end":return _context13.stop()}}),_callee13)})))],BinWidthRangeGeneratedFromData.parameters=Object.assign({storySource:{source:"(args, { loaded: { apiData } }) => {\n  const plotControls = usePlotControls<HistogramData>({\n    data: apiData,\n    onSelectedUnitChange: async (newUnit: string) => {\n      return await binDailyCovidStats(\n        undefined,\n        newUnit,\n        args.throwSampleErrors,\n        args.includeExtraDirectives\n      );\n    },\n    histogram: {\n      binWidthRange: args.binWidthRange,\n      binWidthStep: args.binWidthStep,\n      onBinWidthChange: async ({ binWidth, selectedUnit }) => {\n        return await binDailyCovidStats(\n          binWidth as number,\n          selectedUnit,\n          args.throwSampleErrors,\n          args.includeExtraDirectives\n        );\n      },\n    },\n  });\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Histogram\n        {...args}\n        {...plotControls}\n        {...plotControls.histogram}\n        {...defaultActions}\n      />\n      <div style={{ height: 25 }} />\n      <HistogramControls\n        label=\"Histogram Controls\"\n        valueType=\"number\"\n        {...plotControls}\n        {...plotControls.histogram}\n        containerStyles={{\n          maxWidth: `calc(${toCSSLength(args.width)} - 25px)`,\n          marginLeft: 25,\n        }}\n      />\n    </div>\n  );\n}"}},BinWidthRangeGeneratedFromData.parameters),OverrideBinWidthRangeAndStep.parameters=Object.assign({storySource:{source:"(args, { loaded: { apiData } }) => {\n  const plotControls = usePlotControls<HistogramData>({\n    data: apiData,\n    onSelectedUnitChange: async (newUnit: string) => {\n      return await binDailyCovidStats(\n        undefined,\n        newUnit,\n        args.throwSampleErrors,\n        args.includeExtraDirectives\n      );\n    },\n    histogram: {\n      binWidthRange: args.binWidthRange,\n      binWidthStep: args.binWidthStep,\n      onBinWidthChange: async ({ binWidth, selectedUnit }) => {\n        return await binDailyCovidStats(\n          binWidth as number,\n          selectedUnit,\n          args.throwSampleErrors,\n          args.includeExtraDirectives\n        );\n      },\n    },\n  });\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Histogram\n        {...args}\n        {...plotControls}\n        {...plotControls.histogram}\n        {...defaultActions}\n      />\n      <div style={{ height: 25 }} />\n      <HistogramControls\n        label=\"Histogram Controls\"\n        valueType=\"number\"\n        {...plotControls}\n        {...plotControls.histogram}\n        containerStyles={{\n          maxWidth: `calc(${toCSSLength(args.width)} - 25px)`,\n          marginLeft: 25,\n        }}\n      />\n    </div>\n  );\n}"}},OverrideBinWidthRangeAndStep.parameters),BackendProvidedBinWidthRangeAndStep.parameters=Object.assign({storySource:{source:"(args, { loaded: { apiData } }) => {\n  const plotControls = usePlotControls<HistogramData>({\n    data: apiData,\n    onSelectedUnitChange: async (newUnit: string) => {\n      return await binDailyCovidStats(\n        undefined,\n        newUnit,\n        args.throwSampleErrors,\n        args.includeExtraDirectives\n      );\n    },\n    histogram: {\n      binWidthRange: args.binWidthRange,\n      binWidthStep: args.binWidthStep,\n      onBinWidthChange: async ({ binWidth, selectedUnit }) => {\n        return await binDailyCovidStats(\n          binWidth as number,\n          selectedUnit,\n          args.throwSampleErrors,\n          args.includeExtraDirectives\n        );\n      },\n    },\n  });\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Histogram\n        {...args}\n        {...plotControls}\n        {...plotControls.histogram}\n        {...defaultActions}\n      />\n      <div style={{ height: 25 }} />\n      <HistogramControls\n        label=\"Histogram Controls\"\n        valueType=\"number\"\n        {...plotControls}\n        {...plotControls.histogram}\n        containerStyles={{\n          maxWidth: `calc(${toCSSLength(args.width)} - 25px)`,\n          marginLeft: 25,\n        }}\n      />\n    </div>\n  );\n}"}},BackendProvidedBinWidthRangeAndStep.parameters),RangeSelection.parameters=Object.assign({storySource:{source:"(args, { loaded: { apiData } }) => {\n  const plotControls = usePlotControls<HistogramData>({\n    data: apiData,\n    onSelectedUnitChange: async (newUnit: string) => {\n      return await binDailyCovidStats(\n        undefined,\n        newUnit,\n        args.throwSampleErrors,\n        args.includeExtraDirectives\n      );\n    },\n    histogram: {\n      binWidthRange: args.binWidthRange,\n      binWidthStep: args.binWidthStep,\n      onBinWidthChange: async ({ binWidth, selectedUnit }) => {\n        return await binDailyCovidStats(\n          binWidth as number,\n          selectedUnit,\n          args.throwSampleErrors,\n          args.includeExtraDirectives\n        );\n      },\n      displaySelectedRangeControls: true,\n    },\n  });\n\n  /**\n   * Watch for changes on the histogram's selected range.\n   * Includes the initial setting (derived from the data).\n   */\n  useEffect(() => {\n    const newRange = plotControls.histogram.selectedRange;\n    if (newRange) {\n      console.log(\n        `The story received a new range: ${newRange.min} to ${newRange.max}`\n      );\n    }\n  }, [plotControls.histogram.selectedRange]);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Histogram {...args} {...plotControls} {...plotControls.histogram} />\n      <div style={{ height: 25 }} />\n      <HistogramControls\n        label=\"Histogram Controls\"\n        {...plotControls}\n        {...plotControls.histogram}\n        containerStyles={{\n          maxWidth: `calc(${toCSSLength(args.width)} - 25px)`,\n          marginLeft: 25,\n        }}\n      />\n    </div>\n  );\n}"}},RangeSelection.parameters),EventHoursNoControls.parameters=Object.assign({storySource:{source:"(\n  args,\n  { loaded: { apiData } }\n) => {\n  return <Histogram {...args} data={apiData} />;\n}"}},EventHoursNoControls.parameters),RepoMonthsNoControls.parameters=Object.assign({storySource:{source:"(\n  args,\n  { loaded: { apiData } }\n) => {\n  return <Histogram {...args} data={apiData} />;\n}"}},RepoMonthsNoControls.parameters),DateRangeSelection.parameters=Object.assign({storySource:{source:"(args, { loaded: { apiData } }) => {\n  const plotControls = usePlotControls<HistogramData>({\n    data: apiData,\n    onSelectedUnitChange: async (newUnit: string) => {\n      return await binGithubEventDates({\n        url: 'https://api.github.com/users/VEuPathDB/repos?sort=created',\n        unit: 'month',\n        numBins: 10,\n      });\n    },\n    histogram: {\n      valueType: 'date',\n      binWidthRange: args.binWidthRange,\n      binWidthStep: args.binWidthStep,\n      onBinWidthChange: async ({ binWidth, selectedUnit }) => {\n        return await binGithubEventDates({\n          url: 'https://api.github.com/users/VEuPathDB/repos?sort=created',\n          unit: 'month',\n          numBins: 10,\n        });\n      },\n      displaySelectedRangeControls: true,\n    },\n  });\n\n  /**\n   * Watch for changes on the histogram's selected range.\n   * Includes the initial setting (derived from the data).\n   */\n  useEffect(() => {\n    const newRange = plotControls.histogram.selectedRange;\n    if (newRange) {\n      console.log(\n        `The story received a new range: ${newRange.min} to ${newRange.max}`\n      );\n    }\n  }, [plotControls.histogram.selectedRange]);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Histogram {...args} {...plotControls} {...plotControls.histogram} />\n      <div style={{ height: 25 }} />\n      <HistogramControls\n        label=\"Histogram Controls\"\n        {...plotControls}\n        {...plotControls.histogram}\n        binWidthRange={{ min: 1, max: 12, unit: 'month' }}\n        binWidthStep={1}\n        selectedUnit={'month'}\n        containerStyles={{\n          maxWidth: `calc(${toCSSLength(args.width)} - 25px)`,\n          marginLeft: 25,\n        }}\n      />\n      <div>Note: bin width slider is known to be broken.</div>\n    </div>\n  );\n}"}},DateRangeSelection.parameters)},1433:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"EntityDiagramUnified",(function(){return EntityDiagram_stories_EntityDiagramUnified})),__webpack_require__.d(__webpack_exports__,"EntityDiagramControls",(function(){return EntityDiagramControls}));__webpack_require__(4);var jsx_runtime=__webpack_require__(1),react=__webpack_require__(0),hierarchy=(__webpack_require__(105),__webpack_require__(78),__webpack_require__(14),__webpack_require__(17),__webpack_require__(37),__webpack_require__(114),__webpack_require__(126),__webpack_require__(1302),__webpack_require__(684)),Tree=__webpack_require__(1497),Group=__webpack_require__(1489),Text=__webpack_require__(1498),Line=__webpack_require__(1490),LinearGradient=__webpack_require__(1491);function EntityDiagram(_ref){var treeData=_ref.treeData,orientation=_ref.orientation,isExpanded=_ref.isExpanded,highlightedEntityID=_ref.highlightedEntityID,filteredEntities=_ref.filteredEntities,shadingData=_ref.shadingData,renderNode=_ref.renderNode,size=_ref.size,_ref$selectedTextBold=_ref.selectedTextBold,selectedTextBold=void 0===_ref$selectedTextBold||_ref$selectedTextBold,_ref$selectedBorderWe=_ref.selectedBorderWeight,selectedBorderWeight=void 0===_ref$selectedBorderWe?1:_ref$selectedBorderWe,_ref$selectedHighligh=_ref.selectedHighlightWeight,selectedHighlightWeight=void 0===_ref$selectedHighligh?3:_ref$selectedHighligh,_ref$selectedHighligh2=_ref.selectedHighlightColor,selectedHighlightColor=void 0===_ref$selectedHighligh2?"rgba(60, 120, 216, 1)":_ref$selectedHighligh2,_ref$shadowDx=_ref.shadowDx,shadowDx=void 0===_ref$shadowDx?2:_ref$shadowDx,_ref$shadowDy=_ref.shadowDy,shadowDy=void 0===_ref$shadowDy?2:_ref$shadowDy,_ref$shadowDispersion=_ref.shadowDispersion,shadowDispersion=void 0===_ref$shadowDispersion?.2:_ref$shadowDispersion,_ref$shadowOpacity=_ref.shadowOpacity,shadowOpacity=void 0===_ref$shadowOpacity?.3:_ref$shadowOpacity,_ref$miniNodeWidth=_ref.miniNodeWidth,miniNodeWidth=void 0===_ref$miniNodeWidth?35:_ref$miniNodeWidth,_ref$miniNodeHeight=_ref.miniNodeHeight,miniNodeHeight=void 0===_ref$miniNodeHeight?20:_ref$miniNodeHeight,_ref$expandedNodeWidt=_ref.expandedNodeWidth,expandedNodeWidth=void 0===_ref$expandedNodeWidt?120:_ref$expandedNodeWidt,_ref$expandedNodeHeig=_ref.expandedNodeHeight,expandedNodeHeight=void 0===_ref$expandedNodeHeig?40:_ref$expandedNodeHeig,_ref$fontSize=_ref.fontSize,fontSize=void 0===_ref$fontSize?12:_ref$fontSize,_ref$shadingColor=_ref.shadingColor,shadingColor=void 0===_ref$shadingColor?"#e4c8c8":_ref$shadingColor,data=Object(hierarchy.b)(treeData),nodeWidth=isExpanded?expandedNodeWidth:miniNodeWidth,nodeHeight=isExpanded?expandedNodeHeight:miniNodeHeight,nodeHighlightWidth=selectedHighlightWeight,treeHeight=("horizontal"===orientation?size.width-nodeWidth:size.height-nodeHeight)-2*nodeHighlightWidth-shadowDy,treeWidth="horizontal"===orientation?size.height:size.width,treeLeft="horizontal"===orientation?nodeWidth/2+nodeHighlightWidth:0,treeTop=("horizontal"===orientation?0:nodeHeight/2)+nodeHighlightWidth;function CustomNode(_ref2){var _renderNode,displayText,node=_ref2.node,isHighlighted=highlightedEntityID==node.data.displayName;isExpanded?displayText=node.data.displayName:displayText=node.data.displayName.match(/\b(\w)/g).join("");var rectHeight=nodeHeight-4,rectWidth=nodeWidth-4,borderWidth=isHighlighted?selectedBorderWeight:2,backgroundRect=Object(jsx_runtime.jsx)("rect",{height:rectHeight+borderWidth,width:rectWidth+borderWidth,y:-rectHeight/2-borderWidth/2,x:-rectWidth/2-borderWidth/2,rx:".3em",fill:"white",strokeWidth:borderWidth,stroke:"transparent",style:{filter:0==shadowOpacity?void 0:"url(#shadow)"}},"bg-rect-".concat(node.data.id)),borderRect=Object(jsx_runtime.jsx)("rect",{height:rectHeight+borderWidth,width:rectWidth+borderWidth,y:-rectHeight/2-borderWidth/2,x:-rectWidth/2-borderWidth/2,rx:".3em",fill:"none",stroke:isHighlighted?selectedHighlightColor:"#666",strokeWidth:borderWidth},"bg-rect-".concat(node.data.id)),shadingRect=Object(jsx_runtime.jsx)("rect",{height:isExpanded?8:rectHeight,width:rectWidth,y:isExpanded?rectHeight/2-8:-rectHeight/2,x:-rectWidth/2,fill:null!=shadingData&&shadingData[node.data.id]?"url('#rect-gradient-".concat(node.data.id,"')"):"white",style:{overflowWrap:isExpanded?"normal":void 0}},"shading-rect-".concat(node.data.id)),text=Object(jsx_runtime.jsx)(Text.a,{fontSize:fontSize,textAnchor:"middle",verticalAnchor:"middle",style:{userSelect:"none",fontWeight:isHighlighted&&selectedTextBold?"bold":void 0},dy:-4,width:isExpanded?nodeWidth-40:void 0,children:displayText},"text-".concat(node.data.id)),children=[backgroundRect,shadingRect,null!=filteredEntities&&filteredEntities.includes(node.data.id)?Object(jsx_runtime.jsxs)(Group.a,{children:[Object(jsx_runtime.jsx)("title",{children:"This entity has filters"}),Object(jsx_runtime.jsx)(Text.a,{fontSize:14,fontFamily:"FontAwesome",fill:"green",textAnchor:"start",x:rectWidth/2-16,dy:-4,verticalAnchor:"middle",children:"ï°"},"filter-icon")]}):Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{}),text,borderRect];return Object(jsx_runtime.jsxs)(Group.a,{top:"horizontal"==orientation?node.x:node.y,left:"horizontal"==orientation?node.y:node.x,children:[null!==(_renderNode=null==renderNode?void 0:renderNode(node.data,children))&&void 0!==_renderNode?_renderNode:children,!isExpanded&&Object(jsx_runtime.jsx)("title",{children:node.data.displayName})]},node.x+node.y)}function OffsetLine(_ref3){var to,from,link=_ref3.link,nodeHeight=_ref3.nodeHeight,nodeWidth=_ref3.nodeWidth;return"horizontal"==_ref3.orientation?(to={x:link.target.y-nodeWidth/2-5-15,y:link.target.x},from={x:link.source.y+nodeWidth/2+15,y:link.source.x}):(to={x:link.target.x,y:link.target.y-nodeHeight/2-5},from={x:link.source.x,y:link.source.y}),Object(jsx_runtime.jsx)(Line.a,{to:to,from:from,stroke:"#777",strokeWidth:3,markerEnd:"url(#arrow)"})}return Object(jsx_runtime.jsx)("div",{className:isExpanded?"":"mini-diagram",children:Object(jsx_runtime.jsxs)("svg",{width:size.width,height:size.height,children:[Object(jsx_runtime.jsxs)("defs",{children:[Object(jsx_runtime.jsx)("marker",{id:"arrow",viewBox:"0 -5 10 10",markerWidth:isExpanded?"6":"3",markerHeight:isExpanded?"4":"3",orient:"auto",fill:"#777",refX:5,children:Object(jsx_runtime.jsx)("path",{d:"M0,-5L10,0L0,5"})}),Object(jsx_runtime.jsx)("filter",{id:"shadow",x:"-20%",y:"-40%",width:"150%",height:"200%",children:Object(jsx_runtime.jsx)("feDropShadow",{dx:shadowDx,dy:shadowDy,stdDeviation:shadowDispersion,floodOpacity:shadowOpacity})})]}),shadingData&&Object.keys(shadingData).map((function(key,index){return Object(jsx_runtime.jsx)(LinearGradient.a,{vertical:!1,x1:0,x2:shadingData[key],fromOffset:1,id:"rect-gradient-".concat(key),from:shadingColor,to:isExpanded?"#cccccc":"white"},index)})),Object(jsx_runtime.jsx)(Tree.a,{root:data,size:[treeWidth,treeHeight],children:function children(tree){return Object(jsx_runtime.jsxs)(Group.a,{left:treeLeft,top:treeTop,children:[tree.links().map((function(link,i){return Object(jsx_runtime.jsx)(OffsetLine,{link:link,nodeHeight:nodeHeight,nodeWidth:nodeWidth,orientation:orientation},"link-".concat(i))})),tree.descendants().map((function(node,i){return Object(jsx_runtime.jsx)(CustomNode,{node:node},"node-".concat(i))}))]})}})]})})}EntityDiagram.displayName="EntityDiagram";try{EntityDiagram.displayName="EntityDiagram",EntityDiagram.__docgenInfo={description:"",displayName:"EntityDiagram",props:{treeData:{defaultValue:null,description:"Data that defines the tree structure",name:"treeData",required:!0,type:{name:"StudyData"}},orientation:{defaultValue:null,description:"Which direction the tree is oriented",name:"orientation",required:!0,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},isExpanded:{defaultValue:null,description:"Whether the diagram is expanded",name:"isExpanded",required:!0,type:{name:"boolean"}},filteredEntities:{defaultValue:null,description:"Array of entity IDs that have filters applied",name:"filteredEntities",required:!1,type:{name:"string[]"}},size:{defaultValue:null,description:"The tree's dimensions. If the tree is horizontal, it may not take up the\nwhole height; if it's vertical, it may not take up the full width.",name:"size",required:!0,type:{name:"{ height: number; width: number; }"}},highlightedEntityID:{defaultValue:null,description:"Which entity to highlight",name:"highlightedEntityID",required:!0,type:{name:"string"}},shadingData:{defaultValue:null,description:"Data defining the background shading of each node",name:"shadingData",required:!1,type:{name:"ShadingData"}},renderNode:{defaultValue:null,description:"An optional function returning the element to render for a node given its\ndata",name:"renderNode",required:!1,type:{name:"((node: StudyData, children?: ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<...>)>[]) => ReactElement<...> | null) | undefined"}},selectedTextBold:{defaultValue:{value:!0},description:"",name:"selectedTextBold",required:!1,type:{name:"boolean"}},selectedBorderWeight:{defaultValue:{value:1},description:"",name:"selectedBorderWeight",required:!1,type:{name:"number"}},selectedHighlightWeight:{defaultValue:{value:3},description:"",name:"selectedHighlightWeight",required:!1,type:{name:"number"}},selectedHighlightColor:{defaultValue:{value:"rgba(60, 120, 216, 1)"},description:"",name:"selectedHighlightColor",required:!1,type:{name:"string"}},shadowDx:{defaultValue:{value:2},description:"",name:"shadowDx",required:!1,type:{name:"number"}},shadowDy:{defaultValue:{value:2},description:"",name:"shadowDy",required:!1,type:{name:"number"}},shadowDispersion:{defaultValue:{value:.2},description:"",name:"shadowDispersion",required:!1,type:{name:"number"}},shadowOpacity:{defaultValue:{value:.3},description:"",name:"shadowOpacity",required:!1,type:{name:"number"}},miniNodeWidth:{defaultValue:{value:35},description:"",name:"miniNodeWidth",required:!1,type:{name:"number"}},miniNodeHeight:{defaultValue:{value:20},description:"",name:"miniNodeHeight",required:!1,type:{name:"number"}},expandedNodeWidth:{defaultValue:{value:120},description:"",name:"expandedNodeWidth",required:!1,type:{name:"number"}},expandedNodeHeight:{defaultValue:{value:40},description:"",name:"expandedNodeHeight",required:!1,type:{name:"number"}},fontSize:{defaultValue:{value:12},description:"",name:"fontSize",required:!1,type:{name:"number"}},shadingColor:{defaultValue:{value:"#e4c8c8"},description:"",name:"shadingColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/EntityDiagram/EntityDiagram.tsx#EntityDiagram"]={docgenInfo:EntityDiagram.__docgenInfo,name:"EntityDiagram",path:"src/EntityDiagram/EntityDiagram.tsx#EntityDiagram"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(1311);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Entity Diagram",component:EntityDiagram};var studyData={id:"DS12385",rootEntity:{id:"GEMS_House",displayName:"Household",description:"Households from the study area",children:[{id:"GEMS_HouseObs",displayName:"Household Observation",description:"",children:[],variables:[{id:"var-19",providerLabel:"_watersupply",displayName:"Water supply",type:"string",isMultiValued:!1}]},{id:"GEMS_Part",displayName:"Participant",description:"Participants in the study",children:[{id:"GEMS_PartObs",displayName:"Participant Observation",description:"",children:[{id:"GEMS_Sample",displayName:"Sample",description:"",children:[],variables:[]},{id:"GEMS_Treat",displayName:"Treatment",description:"",children:[],variables:[]}],variables:[{id:"var-12",providerLabel:"_weight",displayName:"Weight",type:"number",isContinuous:!0,precision:2,units:"pounds",isMultiValued:!0},{id:"var-13",providerLabel:"_favnumber",displayName:"Favorite number",type:"number",isContinuous:!1,precision:0,units:"",isMultiValued:!1},{id:"var-14",providerLabel:"_startdate",displayName:"Start date",type:"date",isContinuous:!1,isMultiValued:!1},{id:"var-15",providerLabel:"_visitdate",displayName:"Visit date",type:"number",isContinuous:!1,precision:0,isMultiValued:!1},{id:"var-16",providerLabel:"_mood",displayName:"Mood",type:"string",isMultiValued:!1}]}],variables:[{id:"var-10",providerLabel:"_networth",displayName:"Net worth",type:"number",isContinuous:!0,precision:2,units:"dollars",isMultiValued:!0},{id:"var-11",providerLabel:"_shoesize",displayName:"Shoe size",type:"number",isContinuous:!0,precision:1,units:"shoe size",isMultiValued:!0},{id:"var-17",providerLabel:"_haircolor",displayName:"Hair color",type:"string",isMultiValued:!1},{id:"var-20",providerLabel:"_name",displayName:"Name",type:"string",isMultiValued:!1}]}],variables:[{id:"var-18",providerLabel:"_address",displayName:"City",type:"string",isMultiValued:!1}]}},EntityDiagram_stories_shadingData={GEMS_House:.05,GEMS_HouseObs:.2,GEMS_Part:.41,GEMS_PartObs:.66,GEMS_Treat:1,GEMS_Sample:.3},miniSize={height:300,width:150},expandedSize={height:500,width:600},miniDivSize={height:miniSize.height+3,width:miniSize.width+3},expandedDivSize={height:expandedSize.height+2,width:expandedSize.width+2},EntityDiagram_stories_EntityDiagramUnified=function EntityDiagramUnified(){var _useState2=_slicedToArray(Object(react.useState)("vertical"),2),orientation=_useState2[0],setOrientation=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),expanded=_useState4[0],setExpanded=_useState4[1],size=expanded?expandedSize:miniSize,divSize=expanded?expandedDivSize:miniDivSize;return Object(jsx_runtime.jsxs)("div",{style:{marginLeft:40,marginTop:40,width:1e3,height:700},children:[Object(jsx_runtime.jsx)("button",{onClick:function onClick(){return setOrientation("horizontal"==orientation?"vertical":"horizontal")},children:"Switch Orientation"}),Object(jsx_runtime.jsx)("button",{onClick:function onClick(){return setExpanded(!expanded)},children:"Switch Size"}),Object(jsx_runtime.jsx)("div",{style:Object.assign({},divSize,{border:"1px solid",padding:"1px"}),children:Object(jsx_runtime.jsx)(EntityDiagram,{treeData:studyData.rootEntity,orientation:orientation,isExpanded:expanded,highlightedEntityID:"Sample",shadingData:EntityDiagram_stories_shadingData,size:size,selectedBorderWeight:1,selectedHighlightColor:"yellow",selectedHighlightWeight:3,selectedTextBold:!1})})]})};EntityDiagram_stories_EntityDiagramUnified.displayName="EntityDiagramUnified";var EntityDiagram_stories_Template=function Template(_ref){var width=_ref.width,height=_ref.height,args=_objectWithoutProperties(_ref,["width","height"]);return Object(jsx_runtime.jsx)(EntityDiagram,Object.assign({},args,{size:{width:width,height:height}}))};EntityDiagram_stories_Template.displayName="Template";var EntityDiagramControls=EntityDiagram_stories_Template.bind({});EntityDiagramControls.args={width:miniSize.width,height:miniSize.height,orientation:"vertical",isExpanded:!1,selectedBorderWeight:1,selectedHighlightColor:"rgba(60, 120, 216, 1)",selectedHighlightWeight:3,selectedTextBold:!0,shadowDx:2,shadowDy:2,shadowDispersion:.2,shadowOpacity:.3,highlightedEntityID:"Sample",shadingColor:"#e4c8c8",shadingData:EntityDiagram_stories_shadingData,treeData:studyData.rootEntity,fontSize:12,miniNodeWidth:35,miniNodeHeight:20,expandedNodeWidth:120,expandedNodeHeight:40},EntityDiagramControls.argTypes={orientation:{control:{type:"radio",options:["vertical","horizontal"]}},shadingColor:{control:"color"},selectedHighlightColor:{control:"color",table:{category:"selected node style"}},selectedBorderWeight:{control:{type:"number",min:0,step:1},table:{category:"selected node style"}},selectedHighlightWeight:{control:{type:"number",min:0,step:1},table:{category:"selected node style"}},selectedTextBold:{table:{category:"selected node style"}},shadowDx:{control:{type:"number",min:0,step:1},table:{category:"drop shadow"}},shadowDy:{control:{type:"number",min:0,step:1},table:{category:"drop shadow"}},shadowDispersion:{control:{type:"number",min:0,step:.1},table:{category:"drop shadow"}},shadowOpacity:{control:{type:"number",min:0,max:1,step:.1},table:{category:"drop shadow"}},width:{control:{type:"number",min:0,step:50}},height:{control:{type:"number",min:0,step:50}},miniNodeWidth:{table:{category:"mini"}},miniNodeHeight:{table:{category:"mini"}},expandedNodeWidth:{table:{category:"expanded"}},expandedNodeHeight:{table:{category:"expanded"}}},EntityDiagram_stories_EntityDiagramUnified.parameters=Object.assign({storySource:{source:"() => {\n  const [orientation, setOrientation] = useState<'horizontal' | 'vertical'>(\n    'vertical'\n  );\n  const [expanded, setExpanded] = useState<boolean>(false);\n  const size = expanded ? expandedSize : miniSize;\n  const divSize = expanded ? expandedDivSize : miniDivSize;\n\n  return (\n    <div\n      style={{\n        marginLeft: 40,\n        marginTop: 40,\n        width: 1000,\n        height: 700,\n      }}\n    >\n      <button\n        onClick={() =>\n          orientation == 'horizontal'\n            ? setOrientation('vertical')\n            : setOrientation('horizontal')\n        }\n      >\n        Switch Orientation\n      </button>\n      <button\n        onClick={() => (expanded ? setExpanded(false) : setExpanded(true))}\n      >\n        Switch Size\n      </button>\n      <div style={{ ...divSize, border: '1px solid', padding: '1px' }}>\n        <EntityDiagram\n          treeData={studyData.rootEntity}\n          orientation={orientation}\n          isExpanded={expanded}\n          highlightedEntityID={'Sample'}\n          shadingData={shadingData}\n          size={size}\n          selectedBorderWeight={1}\n          selectedHighlightColor=\"yellow\"\n          selectedHighlightWeight={3}\n          selectedTextBold={false}\n        />\n      </div>\n    </div>\n  );\n}"}},EntityDiagram_stories_EntityDiagramUnified.parameters),EntityDiagramControls.parameters=Object.assign({storySource:{source:"({ width, height, ...args }) => (\n  <EntityDiagram {...args} size={{ width: width, height: height }} />\n)"}},EntityDiagramControls.parameters)},1434:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AllInOneRequest",(function(){return DonutMarkers_stories_AllInOneRequest})),__webpack_require__.d(__webpack_exports__,"FirstRequest",(function(){return DonutMarkers_stories_FirstRequest})),__webpack_require__.d(__webpack_exports__,"TwoRequests",(function(){return DonutMarkers_stories_TwoRequests}));__webpack_require__(4);var jsx_runtime=__webpack_require__(1),react=(__webpack_require__(76),__webpack_require__(0)),map=__webpack_require__(44),getMarkersFromFixtureData=__webpack_require__(118),MapVEuMap=__webpack_require__(81),LayersControl=__webpack_require__(463),Map=__webpack_require__(338),ZoomControl=__webpack_require__(651),ScaleControl=__webpack_require__(650),TileLayer=__webpack_require__(473),SemanticMarkers=__webpack_require__(340);__webpack_require__(632);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BaseLayer=LayersControl.b.BaseLayer;try{MapVEuMapSidebar.displayName="MapVEuMapSidebar",MapVEuMapSidebar.__docgenInfo={description:"",displayName:"MapVEuMapSidebar",props:{viewport:{defaultValue:null,description:"Center lat/long and zoom level",name:"viewport",required:!0,type:{name:"Viewport"}},height:{defaultValue:null,description:"Height and width of plot element",name:"height",required:!0,type:{name:"string | number | (string & {}) | undefined"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string | number | (string & {}) | undefined"}},onViewportChanged:{defaultValue:null,description:"",name:"onViewportChanged",required:!0,type:{name:"(bvp: BoundsViewport) => void"}},markers:{defaultValue:null,description:"",name:"markers",required:!0,type:{name:"ReactElement<BoundsDriftMarkerProps, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<...>)>[]"}},nudge:{defaultValue:null,description:"",name:"nudge",required:!1,type:{name:'"none" | "geohash"'}},sidebarOnClose:{defaultValue:null,description:"",name:"sidebarOnClose",required:!1,type:{name:"((value: SetStateAction<boolean>) => void)"}},animation:{defaultValue:null,description:"",name:"animation",required:!0,type:{name:"{ method: string; duration: number; animationFunction: AnimationFunction; } | null"}},showGrid:{defaultValue:null,description:"",name:"showGrid",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/MapVEuMapSidebar.tsx#MapVEuMapSidebar"]={docgenInfo:MapVEuMapSidebar.__docgenInfo,name:"MapVEuMapSidebar",path:"src/map/MapVEuMapSidebar.tsx#MapVEuMapSidebar"})}catch(__react_docgen_typescript_loader_error){}var MapVEuLegendSampleList=__webpack_require__(197),geohash=__webpack_require__(117);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function DonutMarkers_stories_slicedToArray(arr,i){return function DonutMarkers_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DonutMarkers_stories_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DonutMarkers_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DonutMarkers_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DonutMarkers_stories_arrayLikeToArray(o,minLen)}(arr,i)||function DonutMarkers_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DonutMarkers_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Map/Donut Markers",component:function MapVEuMapSidebarSibling(_ref){var viewport=_ref.viewport,height=_ref.height,width=_ref.width,onViewportChanged=_ref.onViewportChanged,markers=_ref.markers,animation=_ref.animation,sidebarOnClose=(_ref.nudge,_ref.sidebarOnClose),_useState2=_slicedToArray(Object(react.useState)(viewport),2),state=_useState2[0],setState=_useState2[1];return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsxs)(Map.a,{viewport:state,style:{height:height,width:width},onViewportChanged:function handleViewportChanged(viewport){setState(viewport)},zoomControl:!1,onClick:function mapClick(e){!function removeClassName(targetClass){var targetElement=document.getElementsByClassName(targetClass)[0];void 0!==targetElement&&targetElement.classList.remove(targetClass)}("highlight-marker"),sidebarOnClose&&sidebarOnClose(!0),function removeClassNameActive(targetClass){var targetElement=document.getElementsByClassName(targetClass)[0];void 0!==targetElement&&targetElement.classList.remove("active")}("sidebartabs active")},children:[Object(jsx_runtime.jsx)(ZoomControl.a,{position:"topright"}),Object(jsx_runtime.jsx)(ScaleControl.a,{position:"bottomright"}),Object(jsx_runtime.jsxs)(LayersControl.b,{position:"topright",children:[Object(jsx_runtime.jsx)(BaseLayer,{checked:!0,name:"street",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles Â© Esri â Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"})}),Object(jsx_runtime.jsx)(BaseLayer,{name:"terrain",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> â Map data Â© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd"})}),Object(jsx_runtime.jsx)(BaseLayer,{name:"satellite",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles Â© Esri â Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"})}),Object(jsx_runtime.jsx)(BaseLayer,{name:"light",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",attribution:'Â© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'})}),Object(jsx_runtime.jsx)(BaseLayer,{name:"dark",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}{r}.png",attribution:'Â© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> Â© <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd"})}),Object(jsx_runtime.jsx)(BaseLayer,{name:"OSM",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>'})})]}),Object(jsx_runtime.jsx)(SemanticMarkers.a,{onViewportChanged:onViewportChanged,markers:markers,animation:animation})]})})}};var defaultAnimation={method:"geohash",animationFunction:geohash.a,duration:map.c},dropdownHref=["#/link-1","#/link-2","#/link-3","#/link-4","#/link-5","#/link-6","#/link-7"],dropdownItemText=["Locus","Allele","Species","Sample type","Collection Protocol","Project","Protocol"];var handleMarkerClick=function handleMarkerClick(e){!function DonutMarkers_stories_removeClassName(targetClass){var targetElement=document.getElementsByClassName(targetClass)[0];void 0!==targetElement&&targetElement.classList.remove(targetClass)}("highlight-marker"),e.target._icon.classList.add("highlight-marker")},DonutMarkers_stories_AllInOneRequest=function AllInOneRequest(args){var _useState2=DonutMarkers_stories_slicedToArray(Object(react.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],_useState4=DonutMarkers_stories_slicedToArray(Object(react.useState)([]),2),legendData=_useState4[0],setLegendData=_useState4[1],handleViewportChanged=Object(react.useCallback)(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(bvp){var markers;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(getMarkersFromFixtureData.d)(bvp,map.c,setLegendData,handleMarkerClick);case 2:markers=_context.sent,setMarkerElements(markers);case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[setMarkerElements]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(MapVEuMap.a,Object.assign({},args,{viewport:{center:[13,16],zoom:4},onViewportChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation})),Object(jsx_runtime.jsx)(MapVEuLegendSampleList.a,{legendType:"categorical",data:legendData,dropdownTitle:"Species",dropdownHref:dropdownHref,dropdownItemText:dropdownItemText,legendInfoNumberText:"Species"})]})};DonutMarkers_stories_AllInOneRequest.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0};var DonutMarkers_stories_FirstRequest=function FirstRequest(args){var _useState6=DonutMarkers_stories_slicedToArray(Object(react.useState)([]),2),markerElements=_useState6[0],setMarkerElements=_useState6[1],legendData=DonutMarkers_stories_slicedToArray(Object(react.useState)([]),1)[0],handleViewportChanged=Object(react.useCallback)(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(bvp){var markers;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(getMarkersFromFixtureData.c)(bvp,map.c,handleMarkerClick);case 2:markers=_context2.sent,setMarkerElements(markers);case 4:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}(),[setMarkerElements]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(MapVEuMap.a,Object.assign({},args,{viewport:{center:[13,16],zoom:4},onViewportChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation})),Object(jsx_runtime.jsx)(MapVEuLegendSampleList.a,{legendType:"categorical",data:legendData,dropdownTitle:"Species",dropdownHref:dropdownHref,dropdownItemText:dropdownItemText,legendInfoNumberText:"Species"})]})};DonutMarkers_stories_FirstRequest.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0};var DonutMarkers_stories_TwoRequests=function TwoRequests(args){var _useState10=DonutMarkers_stories_slicedToArray(Object(react.useState)(null),2),bvp=_useState10[0],setBvp=_useState10[1],_useState12=DonutMarkers_stories_slicedToArray(Object(react.useState)([]),2),markerElements=_useState12[0],setMarkerElements=_useState12[1],_useState14=DonutMarkers_stories_slicedToArray(Object(react.useState)([]),2),legendData=_useState14[0],setLegendData=_useState14[1],handleViewportChanged=Object(react.useCallback)(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(bvp){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:setBvp(bvp);case 1:case"end":return _context3.stop()}}),_callee3)})));return function(_x3){return _ref3.apply(this,arguments)}}(),[setBvp]);return Object(react.useEffect)((function(){var isCancelled=!1;if(null!=bvp)return _asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var markers,fullMarkers;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,Object(getMarkersFromFixtureData.c)(bvp,map.c,handleMarkerClick);case 2:if(markers=_context4.sent,isCancelled||setMarkerElements(markers),!isCancelled){_context4.next=6;break}return _context4.abrupt("return");case 6:return _context4.next=8,Object(getMarkersFromFixtureData.d)(bvp,map.c,setLegendData,handleMarkerClick,2e3);case 8:fullMarkers=_context4.sent,isCancelled||setMarkerElements(fullMarkers);case 10:case"end":return _context4.stop()}}),_callee4)})))(),function(){isCancelled=!0}}),[bvp]),Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(MapVEuMap.a,Object.assign({},args,{viewport:{center:[13,16],zoom:4},onViewportChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation})),Object(jsx_runtime.jsx)(MapVEuLegendSampleList.a,{legendType:"categorical",data:legendData,dropdownTitle:"Species",dropdownHref:dropdownHref,dropdownItemText:dropdownItemText,legendInfoNumberText:"Species"})]})};DonutMarkers_stories_TwoRequests.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0},DonutMarkers_stories_AllInOneRequest.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={{ center: [13, 16], zoom: 4 }}\n        onViewportChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        dropdownTitle={dropdownTitle}\n        dropdownHref={dropdownHref}\n        dropdownItemText={dropdownItemText}\n        legendInfoNumberText={legendInfoNumberText}\n      />\n    </>\n  );\n}"}},DonutMarkers_stories_AllInOneRequest.parameters),DonutMarkers_stories_FirstRequest.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData] = useState<LegendProps['data']>([]);\n\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesBasicMarkers(\n        bvp,\n        defaultAnimationDuration,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={{ center: [13, 16], zoom: 4 }}\n        onViewportChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        dropdownTitle={dropdownTitle}\n        dropdownHref={dropdownHref}\n        dropdownItemText={dropdownItemText}\n        legendInfoNumberText={legendInfoNumberText}\n      />\n    </>\n  );\n}"}},DonutMarkers_stories_FirstRequest.parameters),DonutMarkers_stories_TwoRequests.parameters=Object.assign({storySource:{source:"(args) => {\n  // With this approach, the handler simply updates the state `bvp`.\n  // The `useEffect` hook runs when the value of `bvp` changes. Within this\n  // hook, we use the variable `isCancelled` to determine if `setMarkerElements`\n  // should be called. It's possible to get fancier and cancel any in-flight requests,\n  // but this will require a bit of refactoring and even more indirection.\n  const [bvp, setBvp] = useState<BoundsViewport | null>(null);\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      setBvp(bvp);\n    },\n    [setBvp]\n  );\n\n  useEffect(() => {\n    // track if effect has been cancelled\n    let isCancelled = false;\n    if (bvp == null) return;\n    // Create an anonymous async function, and call it immediately.\n    // This way we can use async-await\n    (async () => {\n      const markers = await getSpeciesBasicMarkers(\n        bvp,\n        defaultAnimationDuration,\n        handleMarkerClick\n      );\n      if (!isCancelled) setMarkerElements(markers);\n      if (isCancelled) return; // avoid the next request if this effect has already been cancelled\n      const fullMarkers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick,\n        2000\n      );\n      if (!isCancelled) setMarkerElements(fullMarkers);\n    })();\n    // Cleanup function to set `isCancelled` to `true`\n    return () => {\n      isCancelled = true;\n    };\n  }, [bvp]);\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={{ center: [13, 16], zoom: 4 }}\n        onViewportChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        dropdownTitle={dropdownTitle}\n        dropdownHref={dropdownHref}\n        dropdownItemText={dropdownItemText}\n        legendInfoNumberText={legendInfoNumberText}\n      />\n    </>\n  );\n}"}},DonutMarkers_stories_TwoRequests.parameters)},1435:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SidebarResize",(function(){return SidebarResize_stories_SidebarResize}));__webpack_require__(4);var jsx_runtime=__webpack_require__(1),react=(__webpack_require__(76),__webpack_require__(0)),map=__webpack_require__(44),getMarkersFromFixtureData=__webpack_require__(118),Sidebar=__webpack_require__(49),TabHomeContent=__webpack_require__(342),PiePlot=(__webpack_require__(14),__webpack_require__(65),__webpack_require__(15),__webpack_require__(27),__webpack_require__(152));function TabPieChartContent(props){var _sumValues,sumValues;sumValues=props.pieChartData?props.pieChartData.slices.map((function(o){return o.value})).reduce((function(a,c){return a+c})):null;var height=300+30*(props.pieChartData?props.pieChartData.slices.length:0);return Object(jsx_runtime.jsx)(PiePlot.a,{data:props.pieChartData?props.pieChartData:{slices:[]},donutOptions:{size:.4,text:null===(_sumValues=sumValues)||void 0===_sumValues?void 0:_sumValues.toString(),fontSize:20},width:300,height:height,spacingOptions:{marginTop:0,marginBottom:0,marginLeft:10,marginRight:20,padding:0},legendOptions:{orientation:"horizontal",horizontalPosition:"left",verticalPosition:"bottom",verticalPaddingAdjustment:-.5},displayLegend:void 0===props.showLegend||props.showLegend,displayLibraryControls:!1})}TabPieChartContent.displayName="TabPieChartContent";try{TabPieChartContent.displayName="TabPieChartContent",TabPieChartContent.__docgenInfo={description:"",displayName:"TabPieChartContent",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},pieChartData:{defaultValue:null,description:"",name:"pieChartData",required:!1,type:{name:"({ slices: PiePlotDatum[]; } & { availableUnits: string[]; selectedUnit: string; }) | ({ slices: PiePlotDatum[]; } & { availableUnits?: undefined; selectedUnit?: undefined; })"}},showLegend:{defaultValue:null,description:"",name:"showLegend",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/TabPieChartContent.tsx#TabPieChartContent"]={docgenInfo:TabPieChartContent.__docgenInfo,name:"TabPieChartContent",path:"src/map/TabPieChartContent.tsx#TabPieChartContent"})}catch(__react_docgen_typescript_loader_error){}var MapVEuMap=__webpack_require__(81),geohash=__webpack_require__(117);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Sidebar/Sidebar in map",component:Sidebar.a,subcomponents:{Tab:Sidebar.b}};var defaultAnimation={method:"geohash",animationFunction:geohash.a,duration:map.c};var handleMarkerClick=function handleMarkerClick(e){!function removeClassName(targetClass){var targetElement=document.getElementsByClassName(targetClass)[0];void 0!==targetElement&&targetElement.classList.remove(targetClass)}("highlight-marker"),e.target._icon.classList.add("highlight-marker")},SidebarResize_stories_SidebarResize=function SidebarResize(args){var _useState2=_slicedToArray(Object(react.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],noop=function noop(){},handleViewportChanged=Object(react.useCallback)(function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(bvp){var markers;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(getMarkersFromFixtureData.d)(bvp,map.c,noop,handleMarkerClick);case 2:markers=_context.sent,setMarkerElements(markers);case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[setMarkerElements]),_useState4=_slicedToArray(Object(react.useState)(!0),2),sidebarCollapsed=_useState4[0],setSidebarCollapsed=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(""),2),tabSelected=_useState6[0],setTabSelected=_useState6[1];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(Sidebar.a,{id:"leaflet-sidebar",collapsed:sidebarCollapsed,position:"left",selected:tabSelected,closeIcon:"fas fa-times",onOpen:function sidebarOnOpen(id){var el=document.getElementsByClassName("leaflet-sidebar-content")[0]?document.getElementsByClassName("leaflet-sidebar-content")[0]:null,tabStyle=null==el?void 0:el.getAttributeNode("style");tabStyle&&(null==el||el.removeAttributeNode(tabStyle)),tabSelected!=id?(setSidebarCollapsed(!1),setTabSelected(id)):(setSidebarCollapsed(!0),setTabSelected(""))},onClose:function sidebarOnClose(){setSidebarCollapsed(!0),setTabSelected("");var el=document.getElementsByClassName("leaflet-sidebar-content")[0]?document.getElementsByClassName("leaflet-sidebar-content")[0]:null,tabStyle=null==el?void 0:el.getAttributeNode("style");tabStyle&&(null==el||el.removeAttributeNode(tabStyle))},children:[Object(jsx_runtime.jsx)(Sidebar.b,{id:"home",header:"Home",icon:"fas fa-home",children:Object(jsx_runtime.jsx)(TabHomeContent.a,{id:"home",header:"this is Home"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"settings",header:"Settings",icon:"fas fa-cog",disabled:!0,children:Object(jsx_runtime.jsx)("p",{children:"Change settings"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"gap1",header:"",icon:"",disabled:!0,divider:!0,children:Object(jsx_runtime.jsx)("p",{children:"gap1"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"marker-table1",header:"Details for selected samples",icon:"fas fa-table",children:Object(jsx_runtime.jsx)("p",{children:"Detailed table???"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"export",header:"Export Data",icon:"fas fa-download",children:Object(jsx_runtime.jsx)("p",{children:"Download data"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"gap2",header:"",icon:"",disabled:!0,divider:!0,children:Object(jsx_runtime.jsx)("p",{children:"gap2"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"plot",header:"Summary",icon:"fas fa-chart-pie",children:Object(jsx_runtime.jsx)(TabPieChartContent,{id:"graph",header:"this is Home",pieChartData:{slices:[{color:"#FFB300",label:"Anopheles gambiae sensu stricto",value:130},{color:"#803E75",label:"Anopheles coluzzii",value:127},{color:"#C10020",label:"Anopheles gambiae sensu lato",value:47},{color:"silver",label:"Anopheles funestus",value:10},{color:"#FF7A5C",label:"Culex quinquefasciatus",value:6},{color:"#FFB300",label:"Anopheles gambiae sensu stricto1",value:130},{color:"#803E75",label:"Anopheles coluzzii1",value:127},{color:"#C10020",label:"Anopheles gambiae sensu lato1",value:47},{color:"silver",label:"Anopheles funestus1",value:10},{color:"#FF7A5C",label:"Culex quinquefasciatus1",value:6}]}})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"boxplot",header:"Box Plot",icon:"fas fa-percent",children:Object(jsx_runtime.jsx)("p",{children:"Box plot"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"graph",header:"Chart",icon:"fas fa-chart-bar",children:Object(jsx_runtime.jsx)("p",{children:"This is for chart"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"help",header:"Tutorial",icon:"fas fa-question",anchor:"bottom",children:Object(jsx_runtime.jsx)("p",{children:"Help/Tutorial"})})]}),Object(jsx_runtime.jsx)(MapVEuMap.a,Object.assign({},args,{viewport:{center:[13,16],zoom:4},onViewportChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation}))]})};SidebarResize_stories_SidebarResize.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0},SidebarResize_stories_SidebarResize.parameters=Object.assign({storySource:{source:'(args) => {\n  //MapVeuMap stuff\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n\n  //make a no-op function instead of setLegendData as this story does not use legend\n  // const [legendData, setLegendData] = useState<LegendProps[\'data\']>([]);\n  const noop = () => {};\n\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        noop,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n\n  //Sidebar state managements (for categorical)\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(true);\n  const [tabSelected, setTabSelected] = useState(\'\'); //could be used to set default active tab, e.g., \'Home\', but leave blank\n\n  //this is X button/icon behavior considering sidebar resize\n  const sidebarOnClose = () => {\n    setSidebarCollapsed(true);\n    //add this to fix a bug\n    setTabSelected(\'\');\n\n    //this works!\n    let el: Element | null = document.getElementsByClassName(\n      \'leaflet-sidebar-content\'\n    )[0]\n      ? document.getElementsByClassName(\'leaflet-sidebar-content\')[0]\n      : null;\n    // let el: any = document.getElementById("leaflet-sidebar-content")? document.getElementById("leaflet-sidebar-content"): \'\';\n    let tabStyle = el?.getAttributeNode(\'style\');\n    if (tabStyle) {\n      el?.removeAttributeNode(tabStyle);\n    }\n  };\n\n  //this is sidebar opening considering sidebar resize\n  const sidebarOnOpen = (id: string) => {\n    //removing style for re-resizable here may help for 1st click bug - yes\n    let el: Element | null = document.getElementsByClassName(\n      \'leaflet-sidebar-content\'\n    )[0]\n      ? document.getElementsByClassName(\'leaflet-sidebar-content\')[0]\n      : null;\n    // let el: any = document.getElementById("leaflet-sidebar-content")? document.getElementById("leaflet-sidebar-content"): \'\';\n    let tabStyle = el?.getAttributeNode(\'style\');\n    if (tabStyle) {\n      el?.removeAttributeNode(tabStyle);\n    }\n\n    //add a function to close drawer by clicking the same icon\n    if (tabSelected != id) {\n      setSidebarCollapsed(false);\n      setTabSelected(id);\n    } else {\n      setSidebarCollapsed(true);\n      //clear tabSelected so that the tab can be reopen\n      setTabSelected(\'\');\n    }\n  };\n\n  //5 data\n  // let pieChartData = [{color: "#FFB300", label: "Anopheles gambiae sensu stricto", value: 130},{color: "#803E75", label: "Anopheles coluzzii", value: 127},{color: "#C10020", label: "Anopheles gambiae sensu lato", value: 47},{color: "silver", label: "Anopheles funestus", value: 10},{color: "#FF7A5C", label: "Culex quinquefasciatus", value: 6}];\n  //test more data like 10\n  let pieChartData = {\n    slices: [\n      {\n        color: \'#FFB300\',\n        label: \'Anopheles gambiae sensu stricto\',\n        value: 130,\n      },\n      { color: \'#803E75\', label: \'Anopheles coluzzii\', value: 127 },\n      { color: \'#C10020\', label: \'Anopheles gambiae sensu lato\', value: 47 },\n      { color: \'silver\', label: \'Anopheles funestus\', value: 10 },\n      { color: \'#FF7A5C\', label: \'Culex quinquefasciatus\', value: 6 },\n      {\n        color: \'#FFB300\',\n        label: \'Anopheles gambiae sensu stricto1\',\n        value: 130,\n      },\n      { color: \'#803E75\', label: \'Anopheles coluzzii1\', value: 127 },\n      { color: \'#C10020\', label: \'Anopheles gambiae sensu lato1\', value: 47 },\n      { color: \'silver\', label: \'Anopheles funestus1\', value: 10 },\n      { color: \'#FF7A5C\', label: \'Culex quinquefasciatus1\', value: 6 },\n    ],\n  };\n\n  let testText = \'this is Home\';\n\n  return (\n    <>\n      <Sidebar\n        id="leaflet-sidebar"\n        collapsed={sidebarCollapsed}\n        position="left"\n        selected={tabSelected}\n        closeIcon="fas fa-times"\n        onOpen={sidebarOnOpen}\n        onClose={sidebarOnClose}\n      >\n        <Tab id="home" header="Home" icon="fas fa-home">\n          {/* a test to separate tab contents into a component, TabHomeContent */}\n          <TabHomeContent id={\'home\'} header={testText} />\n        </Tab>\n        {/* testing disabled - greyish icon*/}\n        <Tab id="settings" header="Settings" icon="fas fa-cog" disabled>\n          <p>Change settings</p>\n        </Tab>\n        {/* add disabled tap - no header & icon, use both diabled and divider */}\n        <Tab id="gap1" header="" icon="" disabled divider>\n          <p>gap1</p>\n        </Tab>\n        <Tab\n          id="marker-table1"\n          header="Details for selected samples"\n          icon="fas fa-table"\n        >\n          <p>Detailed table???</p>\n        </Tab>\n        <Tab id="export" header="Export Data" icon="fas fa-download">\n          <p>Download data</p>\n        </Tab>\n        {/* add disabled tap - no header & icon, use both diabled and divider */}\n        <Tab id="gap2" header="" icon="" disabled divider>\n          <p>gap2</p>\n        </Tab>\n        <Tab id="plot" header="Summary" icon="fas fa-chart-pie">\n          {/* a test to separate tab contents into a component, TabHomeContent */}\n          <TabPieChartContent\n            id={\'graph\'}\n            header={testText}\n            pieChartData={pieChartData}\n          />\n        </Tab>\n        {/* no box plot icon exists in fontawesome */}\n        <Tab id="boxplot" header="Box Plot" icon="fas fa-percent">\n          <p>Box plot</p>\n        </Tab>\n        <Tab id="graph" header="Chart" icon="fas fa-chart-bar">\n          <p>This is for chart</p>\n        </Tab>\n        {/* placing bottom side using  anchor="bottom" attribute */}\n        <Tab id="help" header="Tutorial" icon="fas fa-question" anchor="bottom">\n          <p>Help/Tutorial</p>\n        </Tab>\n      </Sidebar>\n      <MapVEuMap\n        {...args}\n        viewport={{ center: [13, 16], zoom: 4 }}\n        onViewportChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n      />\n    </>\n  );\n}'}},SidebarResize_stories_SidebarResize.parameters)},1436:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"NoOutliersGiven",(function(){return NoOutliersGiven})),__webpack_require__.d(__webpack_exports__,"WithMean",(function(){return WithMean})),__webpack_require__.d(__webpack_exports__,"BelowZero",(function(){return BelowZero})),__webpack_require__.d(__webpack_exports__,"NoWhiskers",(function(){return NoWhiskers})),__webpack_require__.d(__webpack_exports__,"YAxisLabel",(function(){return YAxisLabel})),__webpack_require__.d(__webpack_exports__,"XAndYAxisLabel",(function(){return XAndYAxisLabel})),__webpack_require__.d(__webpack_exports__,"FixedYAxisRange",(function(){return FixedYAxisRange})),__webpack_require__.d(__webpack_exports__,"FixedTooSmallYAxisRange",(function(){return FixedTooSmallYAxisRange})),__webpack_require__.d(__webpack_exports__,"Horizontal",(function(){return Horizontal})),__webpack_require__.d(__webpack_exports__,"HorizontalLongLabels",(function(){return HorizontalLongLabels})),__webpack_require__.d(__webpack_exports__,"WithRawData",(function(){return WithRawData})),__webpack_require__.d(__webpack_exports__,"HorizontalWithRawData",(function(){return HorizontalWithRawData})),__webpack_require__.d(__webpack_exports__,"HorizontalWithOneRawDataOneMean",(function(){return HorizontalWithOneRawDataOneMean})),__webpack_require__.d(__webpack_exports__,"TwoColors",(function(){return TwoColors})),__webpack_require__.d(__webpack_exports__,"NumberLabels",(function(){return NumberLabels})),__webpack_require__.d(__webpack_exports__,"DateLabels",(function(){return DateLabels})),__webpack_require__.d(__webpack_exports__,"MonthLabels",(function(){return MonthLabels})),__webpack_require__.d(__webpack_exports__,"YearLabels",(function(){return YearLabels}));__webpack_require__(57),__webpack_require__(14),__webpack_require__(4);var jsx_runtime=__webpack_require__(1),PlotlyPlot=(__webpack_require__(0),__webpack_require__(87));function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Boxplot(_ref){var _layout,data=_ref.data,orientation=_ref.orientation,showRawData=_ref.showRawData,showMean=_ref.showMean,independentAxisLabel=_ref.independentAxisLabel,dependentAxisLabel=_ref.dependentAxisLabel,defaultDependentAxisRange=_ref.defaultDependentAxisRange,markerOpacity=_ref.markerOpacity,showModebar=_ref.showModebar,width=_ref.width,height=_ref.height,margin=_ref.margin,staticPlot=_ref.staticPlot,pdata=data.map((function(d){var orientationDependentProps="vertical"===orientation?{x0:d.label,y:d.rawData&&showRawData?[d.rawData]:d.outliers.length?[d.outliers]:void 0}:{y0:d.label,x:d.rawData&&showRawData?[d.rawData]:d.outliers.length?[d.outliers]:void 0};return Object.assign({upperfence:[d.upperWhisker],lowerfence:[d.lowerWhisker],median:[d.median],mean:void 0!==d.mean?[d.mean]:void 0,boxmean:void 0!==d.mean&&showMean,q1:[d.q1],q3:[d.q3],name:d.label,boxpoints:d.rawData&&showRawData?"all":"outliers",jitter:.1,marker:{opacity:markerOpacity,color:d.color}},orientationDependentProps,{type:"box"})})),independentAxis="vertical"===orientation?"xaxis":"yaxis",layout=(_defineProperty(_layout={},"vertical"===orientation?"yaxis":"xaxis",{rangemode:"tozero",title:dependentAxisLabel,range:defaultDependentAxisRange}),_defineProperty(_layout,independentAxis,{title:independentAxisLabel}),_defineProperty(_layout,"showlegend",!1),_layout);return Object(jsx_runtime.jsx)(PlotlyPlot.b,{data:pdata,layout:Object.assign(layout,{width:width,height:height,margin:margin}),config:{displayModeBar:void 0!==showModebar?showModebar:PlotlyPlot.a,staticPlot:staticPlot}})}Boxplot.displayName="Boxplot",Boxplot.defaultProps={markerOpacity:.5,orientation:"vertical"};try{Boxplot.displayName="Boxplot",Boxplot.__docgenInfo={description:"",displayName:"Boxplot",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ lowerWhisker?: string | number | Date | null | undefined; q1: Datum; median: Datum; mean?: string | number | Date | null | undefined; q3: Datum; upperWhisker?: string | ... 3 more ... | undefined; label: string; color?: string | undefined; rawData?: Datum[] | undefined; outliers: Datum[]; }[]"}},independentAxisLabel:{defaultValue:null,description:"",name:"independentAxisLabel",required:!1,type:{name:"string"}},dependentAxisLabel:{defaultValue:null,description:"",name:"dependentAxisLabel",required:!1,type:{name:"string"}},defaultDependentAxisRange:{defaultValue:null,description:"",name:"defaultDependentAxisRange",required:!1,type:{name:"[Datum, Datum]"}},orientation:{defaultValue:{value:"vertical"},description:"",name:"orientation",required:!1,type:{name:'"vertical" | "horizontal"'}},showRawData:{defaultValue:null,description:"",name:"showRawData",required:!1,type:{name:"boolean"}},showMean:{defaultValue:null,description:"",name:"showMean",required:!1,type:{name:"boolean"}},markerOpacity:{defaultValue:{value:.5},description:"",name:"markerOpacity",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"Partial<Margin>"}},staticPlot:{defaultValue:null,description:"",name:"staticPlot",required:!1,type:{name:"boolean"}},showModebar:{defaultValue:null,description:"",name:"showModebar",required:!1,type:{name:'boolean | "hover"'}},legend:{defaultValue:null,description:"",name:"legend",required:!1,type:{name:"legendProp"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/Boxplot.tsx#Boxplot"]={docgenInfo:Boxplot.__docgenInfo,name:"Boxplot",path:"src/plots/Boxplot.tsx#Boxplot"})}catch(__react_docgen_typescript_loader_error){}var stats=__webpack_require__(231),stats_default=__webpack_require__.n(stats),lodash=__webpack_require__(90),lodash_default=__webpack_require__.n(lodash),Boxplot_stories_Template=(__webpack_exports__.default={title:"Plots/Box",component:Boxplot,argTypes:{markerOpacity:{control:{type:"range",min:0,max:1,step:.1}}}},function Template(args){return Object(jsx_runtime.jsx)(Boxplot,Object.assign({},args))});Boxplot_stories_Template.displayName="Template";var catRawData=[8,26,28,19,28,20,50,38,35,32,31,25,22,21,25,22],catData=summaryStats(catRawData),catMean=stats_default.a.mean(catRawData),dogRawData=[20,60,61,77,72,50,61,80,88,120,130,131,129,67,77,87,66,69,74,56,68],dogData=summaryStats(dogRawData),dogMean=stats_default.a.mean(dogRawData),Basic=Boxplot_stories_Template.bind({});Basic.argTypes=storyArgTypes(Basic.args={data:[Object.assign({},catData,{label:"cats"}),Object.assign({},dogData,{label:"dogs"})]});var NoOutliersGiven=Boxplot_stories_Template.bind({});NoOutliersGiven.argTypes=storyArgTypes(NoOutliersGiven.args={data:[Object.assign({},catData,{label:"cats",outliers:[]}),Object.assign({},dogData,{label:"dogs",outliers:[]})]});var WithMean=Boxplot_stories_Template.bind({});WithMean.argTypes=storyArgTypes(WithMean.args={data:[Object.assign({},catData,{label:"cats",mean:catMean}),Object.assign({},dogData,{label:"dogs",mean:dogMean})],showMean:!0});var outdoorTemperatureData=summaryStats([-25,-10,-5,-3,0,1,2,6,7,17,18,25,33]),BelowZero=Boxplot_stories_Template.bind({});BelowZero.argTypes=storyArgTypes(BelowZero.args={data:[Object.assign({},outdoorTemperatureData,{label:"outdoor temperature"})]});var NoWhiskers=Boxplot_stories_Template.bind({});NoWhiskers.argTypes=storyArgTypes(NoWhiskers.args={data:[Object.assign({},outdoorTemperatureData,{lowerWhisker:void 0,upperWhisker:void 0,label:"outdoor temperature"})]});var indoorTemperatureData=summaryStats([15,17,20,21,21,21,21,23,22,25]),YAxisLabel=Boxplot_stories_Template.bind({});YAxisLabel.argTypes=storyArgTypes(YAxisLabel.args={data:[Object.assign({},outdoorTemperatureData,{label:"outdoor"}),Object.assign({},indoorTemperatureData,{label:"indoor"})],dependentAxisLabel:"temperature, Â°C"});var XAndYAxisLabel=Boxplot_stories_Template.bind({});XAndYAxisLabel.argTypes=storyArgTypes(XAndYAxisLabel.args={data:[Object.assign({},catData,{label:"cats"}),Object.assign({},dogData,{label:"dogs"})],independentAxisLabel:"domestic animal",dependentAxisLabel:"height, cm"});var FixedYAxisRange=Boxplot_stories_Template.bind({});FixedYAxisRange.argTypes=storyArgTypes(FixedYAxisRange.args={data:[Object.assign({},outdoorTemperatureData,{label:"outdoor"}),Object.assign({},indoorTemperatureData,{label:"indoor"})],dependentAxisLabel:"temperature, Â°C",independentAxisLabel:"location",defaultDependentAxisRange:[-50,50]});var FixedTooSmallYAxisRange=Boxplot_stories_Template.bind({});FixedTooSmallYAxisRange.argTypes=storyArgTypes(FixedTooSmallYAxisRange.args={data:[Object.assign({},outdoorTemperatureData,{label:"outdoor"}),Object.assign({},indoorTemperatureData,{label:"indoor"})],dependentAxisLabel:"temperature, Â°C",independentAxisLabel:"location",defaultDependentAxisRange:[-10,10]});var Horizontal=Boxplot_stories_Template.bind({});Horizontal.argTypes=storyArgTypes(Horizontal.args={data:[Object.assign({},catData,{label:"cats"}),Object.assign({},dogData,{label:"dogs"})],independentAxisLabel:"domestic animal",dependentAxisLabel:"height, cm",orientation:"horizontal"});var HorizontalLongLabels=Boxplot_stories_Template.bind({});HorizontalLongLabels.argTypes=storyArgTypes(HorizontalLongLabels.args={data:[Object.assign({},catData,{label:"hungry domestic cats"}),Object.assign({},dogData,{label:"sleepy domestic dogs"})],independentAxisLabel:"type of domestic animal",dependentAxisLabel:"height, cm",orientation:"horizontal"});var WithRawData=Boxplot_stories_Template.bind({});WithRawData.argTypes=storyArgTypes(WithRawData.args={data:[Object.assign({},catData,{label:"cats",rawData:catRawData}),Object.assign({},dogData,{label:"dogs",rawData:dogRawData})],showRawData:!0,independentAxisLabel:"domestic animal",dependentAxisLabel:"height, cm"});var HorizontalWithRawData=Boxplot_stories_Template.bind({});HorizontalWithRawData.argTypes=storyArgTypes(HorizontalWithRawData.args={data:[Object.assign({},catData,{label:"cats",rawData:catRawData}),Object.assign({},dogData,{label:"dogs",rawData:dogRawData})],showRawData:!0,independentAxisLabel:"domestic animal",dependentAxisLabel:"height, cm",orientation:"horizontal"});var HorizontalWithOneRawDataOneMean=Boxplot_stories_Template.bind({});HorizontalWithOneRawDataOneMean.argTypes=storyArgTypes(HorizontalWithOneRawDataOneMean.args={data:[Object.assign({},catData,{label:"cats with mean",mean:catMean}),Object.assign({},dogData,{label:"dogs with raw",rawData:dogRawData})],showRawData:!0,showMean:!0,independentAxisLabel:"domestic animal",dependentAxisLabel:"height, cm",orientation:"horizontal"});var TwoColors=Boxplot_stories_Template.bind({});TwoColors.argTypes=storyArgTypes(TwoColors.args={data:[Object.assign({},catData,{label:"cats",color:"pink"}),Object.assign({},dogData,{label:"dogs",color:"purple"})]});var NumberLabels=Boxplot_stories_Template.bind({});NumberLabels.argTypes=storyArgTypes(NumberLabels.args={data:[Object.assign({},catData,{label:"1",color:"silver"}),Object.assign({},dogData,{label:"2.5",color:"silver"}),Object.assign({},indoorTemperatureData,{label:"5",color:"silver"}),Object.assign({},outdoorTemperatureData,{label:"6",color:"silver"})]});var DateLabels=Boxplot_stories_Template.bind({});DateLabels.argTypes=storyArgTypes(DateLabels.args={data:[Object.assign({},catData,{label:"2002-03-04",color:"silver"}),Object.assign({},dogData,{label:"2002-04-01",color:"silver"}),Object.assign({},indoorTemperatureData,{label:"2002-04-24",color:"silver"}),Object.assign({},outdoorTemperatureData,{label:"2002-04-30",color:"silver"})]});var MonthLabels=Boxplot_stories_Template.bind({});MonthLabels.argTypes=storyArgTypes(MonthLabels.args={data:[Object.assign({},catData,{label:"2002-03",color:"silver"}),Object.assign({},dogData,{label:"2002-04",color:"silver"}),Object.assign({},indoorTemperatureData,{label:"2002-05",color:"silver"}),Object.assign({},outdoorTemperatureData,{label:"2002-06",color:"silver"})]});var YearLabels=Boxplot_stories_Template.bind({});function summaryStats(rawData){var q1=stats_default.a.percentile(rawData,.25),median=stats_default.a.median(rawData),q3=stats_default.a.percentile(rawData,.75),IQR=q3-q1,lowerFence=q1-1.5*IQR,upperFence=q3+1.5*IQR;return{q1:q1,median:median,q3:q3,lowerWhisker:lodash_default.a.min(rawData.filter((function(x){return x>=lowerFence}))),upperWhisker:lodash_default.a.max(rawData.filter((function(x){return x<=upperFence}))),outliers:rawData.filter((function(x){return x<lowerFence||x>upperFence}))}}function storyArgTypes(args){var pointTraceIndices=args.data.map((function(d,index){return d.rawData||d.outliers.length?index:-1})).filter((function(i){return i>=0}));return{showRawData:{control:{disable:0==args.data.filter((function(d){return d.rawData&&d.rawData.length})).length}},showMean:{control:{disable:0==args.data.filter((function(d){return void 0!==d.mean})).length}},markerOpacity:{control:{disable:0==pointTraceIndices.length}}}}YearLabels.argTypes=storyArgTypes(YearLabels.args={data:[Object.assign({},catData,{label:"2002",color:"silver"}),Object.assign({},dogData,{label:"2003",color:"silver"}),Object.assign({},indoorTemperatureData,{label:"2004",color:"silver"}),Object.assign({},outdoorTemperatureData,{label:"2005",color:"silver"})]}),Basic.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},Basic.parameters),NoOutliersGiven.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},NoOutliersGiven.parameters),WithMean.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},WithMean.parameters),BelowZero.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},BelowZero.parameters),NoWhiskers.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},NoWhiskers.parameters),YAxisLabel.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},YAxisLabel.parameters),XAndYAxisLabel.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},XAndYAxisLabel.parameters),FixedYAxisRange.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},FixedYAxisRange.parameters),FixedTooSmallYAxisRange.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},FixedTooSmallYAxisRange.parameters),Horizontal.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},Horizontal.parameters),HorizontalLongLabels.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},HorizontalLongLabels.parameters),WithRawData.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},WithRawData.parameters),HorizontalWithRawData.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},HorizontalWithRawData.parameters),HorizontalWithOneRawDataOneMean.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},HorizontalWithOneRawDataOneMean.parameters),TwoColors.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},TwoColors.parameters),NumberLabels.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},NumberLabels.parameters),DateLabels.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},DateLabels.parameters),MonthLabels.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},MonthLabels.parameters),YearLabels.parameters=Object.assign({storySource:{source:"(args: Props) => <Boxplot {...args} />"}},YearLabels.parameters)},1437:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Heatmap_stories_Basic})),__webpack_require__.d(__webpack_exports__,"Categorical",(function(){return Heatmap_stories_Categorical})),__webpack_require__.d(__webpack_exports__,"CategoricalSmoothing",(function(){return Heatmap_stories_CategoricalSmoothing})),__webpack_require__.d(__webpack_exports__,"CategoricalWithControl",(function(){return CategoricalWithControl}));__webpack_require__(4);var jsx_runtime=__webpack_require__(1),PlotlyPlot=(__webpack_require__(0),__webpack_require__(14),__webpack_require__(15),__webpack_require__(27),__webpack_require__(87));function Heatmap(props){var xLabel=props.xLabel,yLabel=props.yLabel,plotTitle=props.plotTitle,width=props.width,height=props.height,showValue=props.showValue,zsmooth=props.zsmooth,data=props.data,margin=props.margin,layout={width:width,height:height,annotations:[],xaxis:{title:xLabel},yaxis:{title:yLabel},title:{text:plotTitle}},xValues=data[0].x,yValues=data[0].y,zValues=data[0].z;if(showValue)for(var i=0;i<yValues.length;i++)for(var j=0;j<xValues.length;j++){var result={xref:"x",yref:"y",x:xValues[j],y:yValues[i],text:zValues[i][j].toString(),font:{family:"Arial",size:12,color:"white"},showarrow:!1};!layout.annotations||layout.annotations.push(result)}var finalData=data.map((function(d){return Object.assign({},d,{type:"heatmap",zsmooth:zsmooth})}));return Object(jsx_runtime.jsx)(PlotlyPlot.b,{data:finalData,layout:Object.assign(layout,{width:width,height:height,margin:margin}),config:{displayModeBar:void 0!==props.showModebar?props.showModebar:PlotlyPlot.a,staticPlot:props.staticPlot}})}Heatmap.displayName="Heatmap";try{Heatmap.displayName="Heatmap",Heatmap.__docgenInfo={description:"",displayName:"Heatmap",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ x: string[] | number[]; y: string[] | number[]; z: number[][]; }[]"}},xLabel:{defaultValue:null,description:"",name:"xLabel",required:!1,type:{name:"string"}},yLabel:{defaultValue:null,description:"",name:"yLabel",required:!1,type:{name:"string"}},plotTitle:{defaultValue:null,description:"",name:"plotTitle",required:!1,type:{name:"string"}},showValue:{defaultValue:null,description:"",name:"showValue",required:!1,type:{name:"boolean"}},zsmooth:{defaultValue:null,description:"",name:"zsmooth",required:!1,type:{name:'false | "fast" | "best"'}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"Partial<Margin>"}},staticPlot:{defaultValue:null,description:"",name:"staticPlot",required:!1,type:{name:"boolean"}},showModebar:{defaultValue:null,description:"",name:"showModebar",required:!1,type:{name:'boolean | "hover"'}},legend:{defaultValue:null,description:"",name:"legend",required:!1,type:{name:"legendProp"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/Heatmap.tsx#Heatmap"]={docgenInfo:Heatmap.__docgenInfo,name:"Heatmap",path:"src/plots/Heatmap.tsx#Heatmap"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Plots/Heatmap",component:Heatmap,parameters:{redmine:"https://redmine.apidb.org/issues/42052"}};var dataBasic={data:[[1,20,30],[20,1,60],[30,60,1]],showValue:!1,zsmooth:!1},dataCategorical={data:[[1,10,30,50,1],[20,1,60,80,30],[30,60,1,-10,20]],xLabels:["Monday","Tuesday","Wednesday","Thursday","Friday"],yLabels:["Morning","Afternoon","Evening"],showValue:!0,zsmooth:"best"},dataSetProcessBasic=[];dataSetProcessBasic.push({z:dataBasic.data,x:dataBasic.xLabels?dataBasic.xLabels:[],y:dataBasic.yLabels?dataBasic.yLabels:[]});var dataSetProcessCategorical=[];dataSetProcessCategorical.push({z:dataCategorical.data,x:dataCategorical.xLabels?dataCategorical.xLabels:[],y:dataCategorical.yLabels?dataCategorical.yLabels:[]});var dataSetProcessCategoricalSmoothing=[];dataSetProcessCategoricalSmoothing.push({z:dataCategorical.data,x:dataCategorical.xLabels?dataCategorical.xLabels:[],y:dataCategorical.yLabels?dataCategorical.yLabels:[]});var Heatmap_stories_Basic=function Basic(){return Object(jsx_runtime.jsx)(Heatmap,{data:dataSetProcessBasic,showValue:dataBasic.showValue,xLabel:"foo",yLabel:"bar",plotTitle:"Basic data: showValue = false",width:1e3,height:600})};Heatmap_stories_Basic.displayName="Basic";var Heatmap_stories_Categorical=function Categorical(){return Object(jsx_runtime.jsx)(Heatmap,{data:dataSetProcessCategorical,showValue:dataCategorical.showValue,xLabel:"foo",yLabel:"bar",plotTitle:"Categorical data: showValue = true",width:1e3,height:600})};Heatmap_stories_Categorical.displayName="Categorical";var Heatmap_stories_CategoricalSmoothing=function CategoricalSmoothing(){return Object(jsx_runtime.jsx)(Heatmap,{data:dataSetProcessCategoricalSmoothing,showValue:dataCategorical.showValue,zsmooth:dataCategorical.zsmooth,xLabel:"foo",yLabel:"bar",plotTitle:"Categorical data: showValue = true, zsmooth = best",width:1e3,height:600})};Heatmap_stories_CategoricalSmoothing.displayName="CategoricalSmoothing";var Heatmap_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(Heatmap,Object.assign({},args))};Heatmap_stories_Template.displayName="Template";var CategoricalWithControl=Heatmap_stories_Template.bind({});CategoricalWithControl.args={data:dataSetProcessCategorical,showValue:dataBasic.showValue,zsmooth:dataBasic.zsmooth,xLabel:"foo",yLabel:"bar",plotTitle:"Categorical data with storybook control",width:1e3,height:600},CategoricalWithControl.argTypes={zsmooth:{control:{type:"select",options:["false","fast","best"]},defaultValue:!1}},Heatmap_stories_Basic.parameters=Object.assign({storySource:{source:'() => (\n  <Heatmap\n    data={dataSetProcessBasic}\n    showValue={dataBasic.showValue}\n    // zsmooth={dataBasic.zsmooth}             //DKDK get this value from data: if not set, it will be false\n    xLabel="foo"\n    yLabel="bar"\n    plotTitle="Basic data: showValue = false"\n    width={plotWidth}\n    height={plotHeight}\n  />\n)'}},Heatmap_stories_Basic.parameters),Heatmap_stories_Categorical.parameters=Object.assign({storySource:{source:'() => (\n  <Heatmap\n    data={dataSetProcessCategorical}\n    showValue={dataCategorical.showValue}\n    // zsmooth={dataBasic.zsmooth}             //DKDK get this value from data: if not set, it will be false\n    xLabel="foo"\n    yLabel="bar"\n    plotTitle="Categorical data: showValue = true"\n    width={plotWidth}\n    height={plotHeight}\n  />\n)'}},Heatmap_stories_Categorical.parameters),Heatmap_stories_CategoricalSmoothing.parameters=Object.assign({storySource:{source:'() => (\n  <Heatmap\n    data={dataSetProcessCategoricalSmoothing}\n    showValue={dataCategorical.showValue}\n    zsmooth={dataCategorical.zsmooth} //DKDK get this value from data\n    xLabel="foo"\n    yLabel="bar"\n    plotTitle="Categorical data: showValue = true, zsmooth = best"\n    width={plotWidth}\n    height={plotHeight}\n  />\n)'}},Heatmap_stories_CategoricalSmoothing.parameters),CategoricalWithControl.parameters=Object.assign({storySource:{source:"(args: Props) => <Heatmap {...args} />"}},CategoricalWithControl.parameters)},1438:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TwoByTwo",(function(){return MosaicPlot_stories_TwoByTwo})),__webpack_require__.d(__webpack_exports__,"TwoByThree",(function(){return MosaicPlot_stories_TwoByThree})),__webpack_require__.d(__webpack_exports__,"FourByThree",(function(){return MosaicPlot_stories_FourByThree}));__webpack_require__(4);var jsx_runtime=__webpack_require__(1),PlotlyPlot=(__webpack_require__(0),__webpack_require__(14),__webpack_require__(65),__webpack_require__(24),__webpack_require__(87));function MosaicPlot(props){var column_centers=props.widths.map((function(width,i){return props.widths.slice(0,i).reduce((function(a,b){return a+b}),0)+width/2})),layout={xaxis:{title:props.exposureLabel,range:[0,props.widths.reduce((function(a,b){return a+b}),0)],tickvals:column_centers,ticktext:props.exposureValues},yaxis:{title:props.outcomeLabel},barmode:"stack"},data=props.data.map((function(vals,i){return{x:column_centers,y:vals,name:props.outcomeValues[i],width:props.widths,type:"bar",marker:{line:{width:2,color:"white"},color:props.colors?props.colors[i]:void 0}}})).reverse();return Object(jsx_runtime.jsx)(PlotlyPlot.b,{data:data,layout:Object.assign(layout,{width:props.width,height:props.height,margin:props.margin,showlegend:props.showLegend}),config:{displayModeBar:void 0!==props.showModebar?props.showModebar:PlotlyPlot.a,staticPlot:props.staticPlot}})}MosaicPlot.displayName="MosaicPlot";try{MosaicPlot.displayName="MosaicPlot",MosaicPlot.__docgenInfo={description:"",displayName:"MosaicPlot",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"number[][]"}},exposureValues:{defaultValue:null,description:"",name:"exposureValues",required:!0,type:{name:"string[]"}},outcomeValues:{defaultValue:null,description:"",name:"outcomeValues",required:!0,type:{name:"string[]"}},exposureLabel:{defaultValue:null,description:"",name:"exposureLabel",required:!0,type:{name:"string"}},outcomeLabel:{defaultValue:null,description:"",name:"outcomeLabel",required:!0,type:{name:"string"}},widths:{defaultValue:null,description:"",name:"widths",required:!0,type:{name:"number[]"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},showLegend:{defaultValue:null,description:"",name:"showLegend",required:!1,type:{name:"boolean"}},showModebar:{defaultValue:null,description:"",name:"showModebar",required:!1,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"Partial<Margin>"}},staticPlot:{defaultValue:null,description:"",name:"staticPlot",required:!1,type:{name:"boolean"}},legend:{defaultValue:null,description:"",name:"legend",required:!1,type:{name:"legendProp"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/MosaicPlot.tsx#MosaicPlot"]={docgenInfo:MosaicPlot.__docgenInfo,name:"MosaicPlot",path:"src/plots/MosaicPlot.tsx#MosaicPlot"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Plots/Mosaic",component:MosaicPlot};var MosaicPlot_stories_TwoByTwo=function TwoByTwo(){return Object(jsx_runtime.jsx)(MosaicPlot,{data:[[40,15],[10,35]],exposureValues:["Men","Women"],outcomeValues:["Died","Survived"],exposureLabel:"Sex",outcomeLabel:"Status",widths:[40,10],colors:["orange","blue"]})};MosaicPlot_stories_TwoByTwo.displayName="TwoByTwo";var MosaicPlot_stories_TwoByThree=function TwoByThree(){return Object(jsx_runtime.jsx)(MosaicPlot,{data:[[40,15,30],[10,35,20]],exposureValues:["Rabbit","Cat","Dog"],outcomeValues:["Positive","Negative"],exposureLabel:"Animal",outcomeLabel:"Rabies",widths:[40,10,25],width:400,height:300,showLegend:!1,showModebar:!1})};MosaicPlot_stories_TwoByThree.displayName="TwoByThree";var MosaicPlot_stories_FourByThree=function FourByThree(){return Object(jsx_runtime.jsx)(MosaicPlot,{data:[[50,15,35],[10,40,50],[20,15,5],[20,30,10]],exposureValues:["Mercury","Venus","Mars"],outcomeValues:["Nitrogen","Oxygen","Hydrogen","Other"],exposureLabel:"Planet",outcomeLabel:"Atmospheric Makeup (%)",widths:[10,40,50]})};MosaicPlot_stories_FourByThree.displayName="FourByThree",MosaicPlot_stories_TwoByTwo.parameters=Object.assign({storySource:{source:"() => (\n  <MosaicPlot\n    data={[\n      [40, 15],\n      [10, 35],\n    ]}\n    exposureValues={['Men', 'Women']}\n    outcomeValues={['Died', 'Survived']}\n    exposureLabel={'Sex'}\n    outcomeLabel={'Status'}\n    widths={[40, 10]}\n    colors={['orange', 'blue']}\n  />\n)"}},MosaicPlot_stories_TwoByTwo.parameters),MosaicPlot_stories_TwoByThree.parameters=Object.assign({storySource:{source:"() => (\n  <MosaicPlot\n    data={[\n      [40, 15, 30],\n      [10, 35, 20],\n    ]}\n    exposureValues={['Rabbit', 'Cat', 'Dog']}\n    outcomeValues={['Positive', 'Negative']}\n    exposureLabel={'Animal'}\n    outcomeLabel={'Rabies'}\n    widths={[40, 10, 25]}\n    width={400}\n    height={300}\n    showLegend={false}\n    showModebar={false}\n  />\n)"}},MosaicPlot_stories_TwoByThree.parameters),MosaicPlot_stories_FourByThree.parameters=Object.assign({storySource:{source:"() => (\n  <MosaicPlot\n    data={[\n      [50, 15, 35],\n      [10, 40, 50],\n      [20, 15, 5],\n      [20, 30, 10],\n    ]}\n    exposureValues={['Mercury', 'Venus', 'Mars']}\n    outcomeValues={['Nitrogen', 'Oxygen', 'Hydrogen', 'Other']}\n    exposureLabel={'Planet'}\n    outcomeLabel={'Atmospheric Makeup (%)'}\n    widths={[10, 40, 50]}\n  />\n)"}},MosaicPlot_stories_FourByThree.parameters)},1439:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"RealDataDate",(function(){return ScatterAndLinePlotGeneral_stories_RealDataDate}));__webpack_require__(18),__webpack_require__(181),__webpack_require__(48),__webpack_require__(14),__webpack_require__(407),__webpack_require__(251),__webpack_require__(4),__webpack_require__(37),__webpack_require__(126),__webpack_require__(69),__webpack_require__(51);var jsx_runtime=__webpack_require__(1),PlotlyPlot=(__webpack_require__(0),__webpack_require__(87));function ScatterAndLinePlotGeneral(props){var xLabel=props.xLabel,yLabel=props.yLabel,plotTitle=props.plotTitle,layout={xaxis:{title:xLabel||"",range:props.xRange,zeroline:!1,linecolor:"black",linewidth:1,mirror:!0},yaxis:{title:yLabel||"",range:props.yRange,zeroline:!1,linecolor:"black",linewidth:1,mirror:!0},title:{text:plotTitle||""}},finalData=props.data.map((function(d){return Object.assign({},d,{type:"scatter"})}));return Object(jsx_runtime.jsx)(PlotlyPlot.b,{data:finalData,layout:Object.assign({},layout,{width:props.width,height:props.height,margin:props.margin,showlegend:props.showLegend}),config:{displayModeBar:void 0!==props.showModebar?props.showModebar:PlotlyPlot.a,staticPlot:props.staticPlot}})}ScatterAndLinePlotGeneral.displayName="ScatterAndLinePlotGeneral";try{ScatterAndLinePlotGeneral.displayName="ScatterAndLinePlotGeneral",ScatterAndLinePlotGeneral.__docgenInfo={description:"",displayName:"ScatterAndLinePlotGeneral",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Pick<PlotData, T>[]"}},xLabel:{defaultValue:null,description:"",name:"xLabel",required:!1,type:{name:"string"}},yLabel:{defaultValue:null,description:"",name:"yLabel",required:!1,type:{name:"string"}},plotTitle:{defaultValue:null,description:"",name:"plotTitle",required:!1,type:{name:"string"}},xRange:{defaultValue:null,description:"",name:"xRange",required:!1,type:{name:"number[] | Date[]"}},yRange:{defaultValue:null,description:"",name:"yRange",required:!1,type:{name:"number[] | Date[]"}},showLegend:{defaultValue:null,description:"",name:"showLegend",required:!1,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"Partial<Margin>"}},staticPlot:{defaultValue:null,description:"",name:"staticPlot",required:!1,type:{name:"boolean"}},showModebar:{defaultValue:null,description:"",name:"showModebar",required:!1,type:{name:'boolean | "hover"'}},legend:{defaultValue:null,description:"",name:"legend",required:!1,type:{name:"legendProp"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/ScatterAndLinePlotGeneral.tsx#ScatterAndLinePlotGeneral"]={docgenInfo:ScatterAndLinePlotGeneral.__docgenInfo,name:"ScatterAndLinePlotGeneral",path:"src/plots/ScatterAndLinePlotGeneral.tsx#ScatterAndLinePlotGeneral"})}catch(__react_docgen_typescript_loader_error){}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Plots/Scatter",component:ScatterAndLinePlotGeneral,parameters:{redmine:"https://redmine.apidb.org/issues/41310"}};var hexToRgb=function hexToRgb(hex){if(!hex)return[0,0,0];var matches=hex.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(m,r,g,b){return"#"+r+r+g+g+b+b})).substring(1).match(/.{2}/g);return null==matches?[0,0,0]:matches.map((function(x){return parseInt(x,16)}))};function isArrayOfNumbers(value){return Array.isArray(value)&&0!==value.length&&value.every((function(item){return"number"==typeof item}))}var dataSet={data:[{series:{x:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,46,47],y:[.58,.54,.43,.86,1.19,1.47,.98,1.36,.58,.82,.77,1.22,2.21,.46,1.55,1.38,.98,1.4,1.29,1.3,1.56,1.73,1.48,1.38,1.1,1.14,.84,1.12,1.07,1.1,.73,.86,1.16,1.02,.77,1.04,.57,.08,.2,.4,.23,.13,-.51,0,-.35,.21,-.08]},interval:{x:[0,.5949367,1.1898734,1.7848101,2.3797468,2.9746835,3.5696203,4.164557,4.7594937,5.3544304,5.9493671,6.5443038,7.1392405,7.7341772,8.3291139,8.9240506,9.5189873,10.1139241,10.7088608,11.3037975,11.8987342,12.4936709,13.0886076,13.6835443,14.278481,14.8734177,15.4683544,16.0632911,16.6582278,17.2531646,17.8481013,18.443038,19.0379747,19.6329114,20.2278481,20.8227848,21.4177215,22.0126582,22.6075949,23.2025316,23.7974684,24.3924051,24.9873418,25.5822785,26.1772152,26.7721519,27.3670886,27.9620253,28.556962,29.1518987,29.7468354,30.3417722,30.9367089,31.5316456,32.1265823,32.721519,33.3164557,33.9113924,34.5063291,35.1012658,35.6962025,36.2911392,36.8860759,37.4810127,38.0759494,38.6708861,39.2658228,39.8607595,40.4556962,41.0506329,41.6455696,42.2405063,42.835443,43.4303797,44.0253165,44.6202532,45.2151899,45.8101266,46.4050633,47],y:[.5785742,.62672442,.67323618,.71814504,.76148657,.80329633,.84360987,.88246277,.91989058,.95593748,.9906337,1.02392407,1.05574679,1.08604006,1.11474209,1.1417911,1.16712527,1.19068283,1.21240197,1.23233582,1.25106432,1.26858248,1.28477776,1.29953759,1.31274943,1.32430073,1.33407893,1.34197147,1.34786582,1.35163861,1.35316678,1.35253669,1.34986715,1.34527693,1.33888484,1.33080965,1.32117016,1.31008516,1.29767344,1.28403089,1.26893232,1.25223203,1.23385632,1.2137315,1.19178388,1.16793976,1.14212545,1.11426725,1.08429147,1.05204324,1.01595307,.97602739,.93304169,.88777145,.84099215,.79347928,.74600833,.69935477,.6542941,.61154602,.56925692,.52625652,.48261979,.43842174,.39373736,.34864164,.30320957,.25751615,.21163636,.16564487,.11954102,.07326909,.02679829,-.01990212,-.0668629,-.11411483,-.16168865,-.20961514,-.25792504,-.30664913],standardError:[.17707248,.16235568,.14874309,.13631127,.12513697,.11529107,.10682941,.09978058,.09413275,.08982227,.08673276,.08472218,.08363165,.08329509,.08354947,.08424304,.08524034,.08642434,.08769652,.08891579,.08974583,.09031039,.09083636,.09151829,.09246373,.09366216,.09498058,.09618371,.09697145,.09698261,.0958602,.09411663,.09241673,.09133085,.09120903,.0920902,.09369136,.09548291,.09681067,.09702663,.09595857,.0941586,.09226917,.0908584,.09030512,.09070753,.09185823,.0933012,.09444301,.09469448,.09409325,.09303255,.09183424,.09076517,.089992,.08955262,.08935269,.0891909,.08880915,.08797016,.08692468,.08591592,.08501907,.08432286,.08393048,.08395982,.08454239,.0858203,.08794106,.09105076,.09529446,.10077931,.10755986,.11564935,.12502808,.13565382,.14747146,.16042048,.17443995,.18947155],orientation:"y"},color:"#00b0f6",label:"Data 1",showLines:!1,showMarkers:!0,fillArea:!1,useSpline:!0},{series:{x:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],y:[-1,-.8,-.4,0,.5,.8,1.3,1.7,2,2.3,2.7,3.5,4,4.5,4.7,4.7,4.6,4,3.5,2.7,2.3,2,1.7,1.3,.8,.5,0,-.4,-.67,-1]},color:"#8B0000",label:"Data 2",showLines:!0,showMarkers:!0,fillArea:!1,useSpline:!1},{series:{x:[20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],y:[-1,-.8,-.7,-.5,-.2,0,.5,.8,1.2,1.5,2.3,2.6,2.9,3,2.85,2.6,2,1.5,1.2,1,.8,.4,0,-.3,-.6,-.7,-.8,-1]},color:"#006400",label:"Data 3",showLines:!1,showMarkers:!1,fillArea:!0,useSpline:!0}]},globalOpacity=dataSet.opacity?dataSet.opacity:1;var _processInputData=function processInputData(dataSet){var xMin=0,xMax=0,yMin=0,yMax=0,dataSetProcess=[];return dataSet.data.forEach((function(el,index){var xSeriesValue=[],ySeriesValue=[],xIntervalLineValue=[],yIntervalLineValue=[],standardErrorValue=[],xIntervalBounds=[],yIntervalBounds=[],rgbValue=el.color?hexToRgb(el.color):hexToRgb("#00b0f6"),scatterPointColor="",fittingLineColor="",intervalColor="",modeValue="",splineValue="",fillAreaValue="";if(el.series){if(el.series.x.length!==el.series.y.length)throw console.log("x length=",el.series.x.length,"  y length=",el.series.y.length),alert("The number of X data is not equal to the number of Y data"),new Error("The number of X data is not equal to the number of Y data");for(var combinedArray=[],j=0;j<el.series.x.length;j++)combinedArray.push({xValue:el.series.x[j],yValue:el.series.y[j]});combinedArray.sort((function(a,b){return a.xValue<b.xValue?-1:a.xValue==b.xValue?0:1}));for(var k=0;k<combinedArray.length;k++)xSeriesValue[k]=combinedArray[k].xValue,ySeriesValue[k]=combinedArray[k].yValue;isArrayOfNumbers(xSeriesValue)?(xMin=xMin<Math.min.apply(Math,_toConsumableArray(xSeriesValue))?xMin:Math.min.apply(Math,_toConsumableArray(xSeriesValue)),xMax=xMax>Math.max.apply(Math,_toConsumableArray(xSeriesValue))?xMax:Math.max.apply(Math,_toConsumableArray(xSeriesValue))):0==index?(xMin=getMinDate(xSeriesValue),xMax=getMaxDate(xSeriesValue)):(xMin=xMin<Math.min.apply(Math,_toConsumableArray(xSeriesValue.map((function(date){return new Date(date).getTime()}))))?xMin:new Date(Math.min.apply(Math,_toConsumableArray(xSeriesValue.map((function(date){return new Date(date).getTime()}))))),xMax=xMax>Math.max.apply(Math,_toConsumableArray(xSeriesValue.map((function(date){return new Date(date).getTime()}))))?xMax:new Date(Math.max.apply(Math,_toConsumableArray(xSeriesValue.map((function(date){return new Date(date).getTime()})))))),isArrayOfNumbers(ySeriesValue)?(yMin=yMin<Math.min.apply(Math,ySeriesValue)?yMin:Math.min.apply(Math,ySeriesValue),yMax=yMax>Math.max.apply(Math,ySeriesValue)?yMax:Math.max.apply(Math,ySeriesValue)):0==index?(yMin=getMinDate(ySeriesValue),yMax=getMaxDate(ySeriesValue)):(yMin=yMin<getMinDate(ySeriesValue)?yMin:getMinDate(ySeriesValue),yMax=yMax>getMaxDate(ySeriesValue)?yMax:getMaxDate(ySeriesValue)),scatterPointColor="rgba("+rgbValue[0]+","+rgbValue[1]+","+rgbValue[2]+","+globalOpacity+")",1==el.showLines&&1==el.showMarkers?modeValue="lines+markers":1==el.showLines&&0==el.showMarkers?modeValue="lines":0==el.showLines&&1==el.showMarkers&&(modeValue="markers"),el.useSpline&&(splineValue="spline"),el.fillArea&&(fillAreaValue="toself"),dataSetProcess.push({x:xSeriesValue,y:ySeriesValue,name:el.label,mode:modeValue,type:"scatter",fill:fillAreaValue,marker:{color:scatterPointColor,size:12},line:{color:scatterPointColor,shape:splineValue}})}if(el.interval){if(el.interval.x.length!==el.interval.y.length||el.interval.x.length!==el.interval.standardError.length)throw alert("The number of X data is not equal to the number of Y data or standardError data"),new Error("The number of X data is not equal to the number of Y data or standardError data");for(var combinedArrayInterval=[],_j=0;_j<el.interval.x.length;_j++)combinedArrayInterval.push({xValue:el.interval.x[_j],yValue:el.interval.y[_j],zValue:el.interval.standardError[_j]});combinedArrayInterval.sort((function(a,b){return a.xValue<b.xValue?-1:a.xValue==b.xValue?0:1}));for(var _k=0;_k<combinedArrayInterval.length;_k++)xIntervalLineValue[_k]=combinedArrayInterval[_k].xValue,yIntervalLineValue[_k]=combinedArrayInterval[_k].yValue,standardErrorValue[_k]=combinedArrayInterval[_k].zValue;isArrayOfNumbers(xIntervalLineValue)?(xMin=xMin<Math.min.apply(Math,xIntervalLineValue)?xMin:Math.min.apply(Math,xIntervalLineValue),xMax=xMax>Math.max.apply(Math,xIntervalLineValue)?xMax:Math.max.apply(Math,xIntervalLineValue)):(xMin=xMin<getMinDate(xIntervalLineValue)?xMin:getMinDate(xIntervalLineValue),xMax=xMax>getMaxDate(xIntervalLineValue)?xMax:getMaxDate(xIntervalLineValue)),isArrayOfNumbers(yIntervalLineValue)?(yMin=yMin<Math.min.apply(Math,yIntervalLineValue)?yMin:Math.min.apply(Math,yIntervalLineValue),yMax=yMax>Math.max.apply(Math,yIntervalLineValue)?yMax:Math.max.apply(Math,yIntervalLineValue)):(yMin=yMin<getMinDate(yIntervalLineValue)?yMin:getMinDate(yIntervalLineValue),yMax=yMax>getMaxDate(yIntervalLineValue)?yMax:getMaxDate(yIntervalLineValue)),fittingLineColor="rgba("+rgbValue[0]+","+rgbValue[1]+","+rgbValue[2]+","+globalOpacity+")",dataSetProcess.push({x:xIntervalLineValue,y:yIntervalLineValue,name:el.label+" fitting",mode:"lines",line:{color:fittingLineColor,shape:"spline",width:5}}),xIntervalBounds=(xIntervalBounds=xIntervalLineValue).concat(xIntervalLineValue.map((function(element){return element})).reverse());var _getBounds=function getBounds(values,standardErrors){var yUpperValues=values.map((function(value,idx){var tmp=Number(value)+2*Number(standardErrors[idx]);return value instanceof Date?new Date(tmp):tmp})),yLowerValues=values.map((function(value,idx){var tmp=Number(value)-2*Number(standardErrors[idx]);return value instanceof Date?new Date(tmp):tmp}));return{yUpperValues:yUpperValues,yLowerValues:yLowerValues}}("x"===el.interval.orientation?xIntervalLineValue:yIntervalLineValue,standardErrorValue),yUpperValues=_getBounds.yUpperValues,yLowerValues=_getBounds.yLowerValues;yIntervalBounds=(yIntervalBounds=yUpperValues).concat(yLowerValues.map((function(element){return element})).reverse()),intervalColor="rgba("+rgbValue[0]+","+rgbValue[1]+","+rgbValue[2]+",0.2)",yMin=yMin<Math.min.apply(Math,_toConsumableArray(yLowerValues.map(Number)))?yMin:Math.min.apply(Math,_toConsumableArray(yLowerValues.map(Number))),yMax=yMax>Math.max.apply(Math,_toConsumableArray(yUpperValues.map(Number)))?yMax:Math.max.apply(Math,_toConsumableArray(yUpperValues.map(Number))),dataSetProcess.push({x:xIntervalBounds,y:yIntervalBounds,name:"Confidence interval",fill:"tozerox",fillcolor:intervalColor,type:"line",line:{color:"transparent",shape:"spline"}})}"number"==typeof yMin&&"number"==typeof yMax&&(yMin=yMin<0?Math.floor(yMin):Math.ceil(yMin),yMax=yMax<0?Math.floor(yMax):Math.ceil(yMax))})),{dataSetProcess:dataSetProcess,xMin:xMin,xMax:xMax,yMin:yMin,yMax:yMax}}(dataSet),dataSetProcess=_processInputData.dataSetProcess,xMin=_processInputData.xMin,xMax=_processInputData.xMax,yMin=_processInputData.yMin,yMax=_processInputData.yMax,ScatterAndLinePlotGeneral_stories_RealDataDate=function RealDataDate(){return Object(jsx_runtime.jsx)(ScatterAndLinePlotGeneral,{data:_toConsumableArray(dataSetProcess),xLabel:"Hours post infection",yLabel:"Expression Values (log2 ratio)",plotTitle:"Expression Values - PF3D7_0107900 - Total mRNA Abundance",xRange:[xMin,xMax],yRange:[yMin,yMax],width:1e3,height:600,staticPlot:!1})};function getMinDate(dates){return new Date(Math.min.apply(Math,_toConsumableArray(dates.map(Number))))}function getMaxDate(dates){return new Date(Math.max.apply(Math,_toConsumableArray(dates.map(Number))))}ScatterAndLinePlotGeneral_stories_RealDataDate.displayName="RealDataDate",ScatterAndLinePlotGeneral_stories_RealDataDate.parameters=Object.assign({storySource:{source:"() => {\n  //DKDK set props\n  let plotWidth = 1000;\n  let plotHeight = 600;\n  let xLabel = 'Hours post infection';\n  let yLabel = 'Expression Values (log2 ratio)';\n  let plotTitle = 'Expression Values - PF3D7_0107900 - Total mRNA Abundance';\n\n  return (\n    <ScatterAndLinePlotGeneral\n      data={[...dataSetProcess]}\n      xLabel={xLabel}\n      yLabel={yLabel}\n      plotTitle={plotTitle}\n      xRange={[xMin, xMax]}\n      yRange={[yMin, yMax]}\n      width={plotWidth}\n      height={plotHeight}\n      staticPlot={false}\n    />\n  );\n}"}},ScatterAndLinePlotGeneral_stories_RealDataDate.parameters);try{ScatterAndLinePlotGeneral_stories_RealDataDate.displayName="RealDataDate",ScatterAndLinePlotGeneral_stories_RealDataDate.__docgenInfo={description:"DKDK width and height of the plot are manually set at ScatterAndLinePlotCIReal (layout)\nOpacity control (slider) is manually set at ScatterAndLinePlotCIReal (layout)",displayName:"RealDataDate",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/plots/ScatterAndLinePlotGeneral.stories.tsx#RealDataDate"]={docgenInfo:ScatterAndLinePlotGeneral_stories_RealDataDate.__docgenInfo,name:"RealDataDate",path:"src/stories/plots/ScatterAndLinePlotGeneral.stories.tsx#RealDataDate"})}catch(__react_docgen_typescript_loader_error){}},1440:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return PopoverButton_stories_Basic})),__webpack_require__.d(__webpack_exports__,"Selector",(function(){return PopoverButton_stories_Selector}));__webpack_require__(14),__webpack_require__(4);var jsx_runtime=__webpack_require__(1),react=__webpack_require__(0),Popover=__webpack_require__(1496),Button=__webpack_require__(1442),Icon=__webpack_require__(1495);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function PopoverButton(props){var children=props.children,label=props.label,_useState2=_slicedToArray(Object(react.useState)(null),2),anchorEl=_useState2[0],setAnchorEl=_useState2[1],menu=Object(jsx_runtime.jsx)(Popover.a,{id:"dropdown",open:Boolean(anchorEl),onClose:function onClose(){return setAnchorEl(null)},anchorEl:anchorEl,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,children:children}),button=Object(jsx_runtime.jsx)(Button.a,{disableRipple:!0,"aria-controls":"dropdown","aria-haspopup":"true",color:"default",variant:"contained",onClick:function onClick(event){setAnchorEl(event.currentTarget)},endIcon:Object(jsx_runtime.jsx)(Icon.a,{className:"fa fa-caret-down"}),children:label});return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[button,menu]})}try{PopoverButton.displayName="PopoverButton",PopoverButton.__docgenInfo={description:"Renders a button that display `children` in a popover widget.",displayName:"PopoverButton",props:{children:{defaultValue:null,description:"Contents of the menu when opened",name:"children",required:!0,type:{name:"ReactNode"}},label:{defaultValue:null,description:"Contents of button",name:"label",required:!0,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/PopoverButton.tsx#PopoverButton"]={docgenInfo:PopoverButton.__docgenInfo,name:"PopoverButton",path:"src/components/widgets/PopoverButton.tsx#PopoverButton"})}catch(__react_docgen_typescript_loader_error){}function PopoverButton_stories_slicedToArray(arr,i){return function PopoverButton_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PopoverButton_stories_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PopoverButton_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PopoverButton_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PopoverButton_stories_arrayLikeToArray(o,minLen)}(arr,i)||function PopoverButton_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PopoverButton_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/PopoverButton",component:PopoverButton};var PopoverButton_stories_Basic=function Basic(){return Object(jsx_runtime.jsx)(PopoverButton,{label:Object(jsx_runtime.jsx)("em",{children:"Open for details"}),children:Object(jsx_runtime.jsx)("div",{style:{padding:"1em"},children:"Some details that appear in a popover"})})};PopoverButton_stories_Basic.displayName="Basic";var PopoverButton_stories_Selector=function Selector(){var _useState2=PopoverButton_stories_slicedToArray(Object(react.useState)(null),2),option=_useState2[0],setOption=_useState2[1],handleChange=function handleChange(event){setOption(event.currentTarget.value)},label=option?"Option ".concat(option," selected"):"Choose an option";return Object(jsx_runtime.jsx)(PopoverButton,{label:label,children:Object(jsx_runtime.jsx)("div",{style:{padding:"1em"},children:["A","B","C","D","E"].map((function(value){return Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsxs)("label",{children:[Object(jsx_runtime.jsx)("input",{type:"radio",value:value,checked:option===value,onChange:handleChange})," ","Option ",value]})},value)}))})})};PopoverButton_stories_Selector.displayName="Selector",PopoverButton_stories_Basic.parameters=Object.assign({storySource:{source:"() => (\n  <PopoverButton label={<em>Open for details</em>}>\n    <div style={{ padding: '1em' }}>Some details that appear in a popover</div>\n  </PopoverButton>\n)"}},PopoverButton_stories_Basic.parameters),PopoverButton_stories_Selector.parameters=Object.assign({storySource:{source:"() => {\n  const [option, setOption] = useState<string | null>(null);\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) => {\n    setOption(event.currentTarget.value);\n  };\n  const label = option ? `Option ${option} selected` : 'Choose an option';\n  return (\n    <PopoverButton label={label}>\n      <div style={{ padding: '1em' }}>\n        {['A', 'B', 'C', 'D', 'E'].map((value) => (\n          <div key={value}>\n            <label>\n              <input\n                type=\"radio\"\n                value={value}\n                checked={option === value}\n                onChange={handleChange}\n              />{' '}\n              Option {value}\n            </label>\n          </div>\n        ))}\n      </div>\n    </PopoverButton>\n  );\n}"}},PopoverButton_stories_Selector.parameters)},151:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ButtonGroup}));__webpack_require__(14),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_material_ui_lab_ToggleButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(480),_material_ui_lab_ToggleButtonGroup__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(691),_constants_colors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_material_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(172);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ButtonGroup(_ref){var _ref$label=_ref.label,label=void 0===_ref$label?void 0:_ref$label,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?"horizontal":_ref$orientation,options=_ref.options,selectedOption=_ref.selectedOption,onOptionSelected=_ref.onOptionSelected,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),2),focused=_useState2[0],setFocused=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"column",alignItems:"flex-start"},containerStyles),onMouseOver:function onMouseOver(){return setFocused(!0)},onMouseOut:function onMouseOut(){return setFocused(!1)},children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.a,{variant:"button",style:{color:focused?_constants_colors__WEBPACK_IMPORTED_MODULE_6__.a:_constants_colors__WEBPACK_IMPORTED_MODULE_6__.j},children:label}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_lab_ToggleButtonGroup__WEBPACK_IMPORTED_MODULE_5__.a,{value:selectedOption,orientation:orientation,exclusive:!0,onChange:function onChange(event,value){return value&&onOptionSelected(value)},"aria-label":"".concat(label," control button group"),children:options.map((function(option,index){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_lab_ToggleButton__WEBPACK_IMPORTED_MODULE_4__.a,{value:option,"aria-label":option,style:{padding:5,paddingLeft:7.5,paddingRight:7.5,fontSize:"12px",fontWeight:400,textTransform:"capitalize",justifyContent:"start"},children:option},index)}))})]})}ButtonGroup.displayName="ButtonGroup";try{ButtonGroup.displayName="ButtonGroup",ButtonGroup.__docgenInfo={description:"A simple group of buttons in which only a single\nbutton can be selected at any given time.",displayName:"ButtonGroup",props:{label:{defaultValue:{value:"undefined"},description:"Label for the widget. Optional.",name:"label",required:!1,type:{name:"string"}},orientation:{defaultValue:{value:"horizontal"},description:"How buttons are displayed. Vertical or Horizontal",name:"orientation",required:!1,type:{name:'"vertical" | "horizontal"'}},options:{defaultValue:null,description:"Options that will be presented as buttons.",name:"options",required:!0,type:{name:"string[]"}},selectedOption:{defaultValue:null,description:"The currently selected option.",name:"selectedOption",required:!0,type:{name:"string"}},onOptionSelected:{defaultValue:null,description:"Action to take when an option is selected by the user.",name:"onOptionSelected",required:!0,type:{name:"(option: string) => void"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional widget container styles. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/ButtonGroup.tsx#ButtonGroup"]={docgenInfo:ButtonGroup.__docgenInfo,name:"ButtonGroup",path:"src/components/widgets/ButtonGroup.tsx#ButtonGroup"})}catch(__react_docgen_typescript_loader_error){}},152:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PiePlot}));__webpack_require__(29),__webpack_require__(65),__webpack_require__(4),__webpack_require__(15),__webpack_require__(31);var jsx_runtime=__webpack_require__(1),PlotlyPlot=(__webpack_require__(0),__webpack_require__(87)),attributes=(__webpack_require__(38),__webpack_require__(30),__webpack_require__(76),__webpack_require__(677)),_marked=regeneratorRuntime.mark(defaultColorGen);function defaultColorGen(){var myDefaults,nextColor;return regeneratorRuntime.wrap((function defaultColorGen$(_context){for(;;)switch(_context.prev=_context.next){case 0:myDefaults=Array.from(attributes.defaults);case 1:return nextColor=myDefaults.shift(),myDefaults.push(nextColor),_context.next=6,nextColor;case 6:_context.next=1;break;case 8:case"end":return _context.stop()}}),_marked)}var colors=__webpack_require__(11),plotly=__webpack_require__(351);function PiePlot(_ref){var _legendOptions$font$c,_legendOptions$font,_legendOptions$font2,_legendOptions$font$f,_legendOptions$font3,data=_ref.data,width=_ref.width,height=_ref.height,_ref$opacity=_ref.opacity,opacity=void 0===_ref$opacity?1:_ref$opacity,_ref$displayLegend=_ref.displayLegend,displayLegend=void 0===_ref$displayLegend||_ref$displayLegend,_ref$displayLibraryCo=_ref.displayLibraryControls,displayLibraryControls=void 0===_ref$displayLibraryCo||_ref$displayLibraryCo,title=_ref.title,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=void 0===_ref$backgroundColor?"transparent":_ref$backgroundColor,_ref$showHoverInfo=_ref.showHoverInfo,showHoverInfo=void 0!==_ref$showHoverInfo&&_ref$showHoverInfo,legendOptions=_ref.legendOptions,donutOptions=_ref.donutOptions,textOptions=_ref.textOptions,spacingOptions=_ref.spacingOptions,defaultColorIter=defaultColorGen(),newData=[],layout={legend:{font:{color:null!==(_legendOptions$font$c=null==legendOptions||null===(_legendOptions$font=legendOptions.font)||void 0===_legendOptions$font?void 0:_legendOptions$font.color)&&void 0!==_legendOptions$font$c?_legendOptions$font$c:colors.j,size:null==legendOptions||null===(_legendOptions$font2=legendOptions.font)||void 0===_legendOptions$font2?void 0:_legendOptions$font2.size,family:null!==(_legendOptions$font$f=null==legendOptions||null===(_legendOptions$font3=legendOptions.font)||void 0===_legendOptions$font3?void 0:_legendOptions$font3.family)&&void 0!==_legendOptions$font$f?_legendOptions$font$f:"Helvetica, Arial, sans-serif"}}};if(legendOptions&&Object.assign(layout.legend,Object(plotly.a)(legendOptions)),donutOptions){var _donutOptions$backgro;donutOptions.text&&Object.assign(layout,{annotations:[{font:{size:donutOptions.fontSize||12,color:donutOptions.textColor||colors.j},showarrow:!1,text:donutOptions.text,x:.5,y:.5}]});donutOptions.size;var feauxDataTrace={type:"pie",values:[1],marker:{colors:[null!==(_donutOptions$backgro=donutOptions.backgroundColor)&&void 0!==_donutOptions$backgro?_donutOptions$backgro:"transparent"]},opacity:1,hoverinfo:"none",textinfo:"none",showlegend:!1};newData.push(feauxDataTrace)}var primaryDataTrace=Object.assign({type:"pie",opacity:opacity},data.slices.reduce((function reducer(reducedData,currentData){reducedData.values.push(currentData.value),reducedData.labels.push(currentData.label);var color=currentData.color||defaultColorIter.next().value;return reducedData.marker.colors.push(color),reducedData}),{values:[],labels:[],marker:{colors:[]}}),{hole:null==donutOptions?void 0:donutOptions.size,direction:"clockwise",sort:!1,text:null==textOptions?void 0:textOptions.sliceOverrides,textinfo:null==textOptions?void 0:textOptions.displayOption,textposition:null==textOptions?void 0:textOptions.displayPosition,texttemplate:null==textOptions?void 0:textOptions.displayTemplate,hoverinfo:showHoverInfo?"label+value+percent":"none"});return newData.push(primaryDataTrace),Object(jsx_runtime.jsx)(PlotlyPlot.b,{data:newData,layout:Object.assign({},layout,{width:width,height:height,plot_bgcolor:backgroundColor,paper_bgcolor:backgroundColor,modebar:{bgcolor:"white"},showlegend:displayLegend,title:{text:title,font:{family:"Helvetica, Arial, sans-serif",color:colors.a,size:24},xref:"paper",x:0},margin:{t:null==spacingOptions?void 0:spacingOptions.marginTop,r:null==spacingOptions?void 0:spacingOptions.marginRight,b:null==spacingOptions?void 0:spacingOptions.marginBottom,l:null==spacingOptions?void 0:spacingOptions.marginLeft,pad:null==spacingOptions?void 0:spacingOptions.padding}}),config:{displayModeBar:displayLibraryControls,displaylogo:!1}})}PiePlot.displayName="PiePlot";try{PiePlot.displayName="PiePlot",PiePlot.__docgenInfo={description:"A Plot.ly based Pie plot.",displayName:"PiePlot",props:{data:{defaultValue:null,description:"Data for the plot.",name:"data",required:!0,type:{name:"PiePlotData"}},width:{defaultValue:null,description:"The width of the plot in pixels.",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"The height of the plot in pixels.",name:"height",required:!0,type:{name:"number"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},opacity:{defaultValue:{value:1},description:"Plot opacity as a decimal (representing percentage). Defaults to 1.",name:"opacity",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:{value:"transparent"},description:"Control of background color. Defaults to transparent.",name:"backgroundColor",required:!1,type:{name:"string"}},displayLibraryControls:{defaultValue:{value:!0},description:"Should plotting library controls be displayed? Ex. Plot.ly",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},showHoverInfo:{defaultValue:{value:!1},description:"Display pop-up with extra slice information on hover.\nDefaults to false.",name:"showHoverInfo",required:!1,type:{name:"boolean"}},displayLegend:{defaultValue:{value:!0},description:"Should plot legend be displayed?",name:"displayLegend",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},donutOptions:{defaultValue:null,description:'Extra specification for "donut" plot variation.',name:"donutOptions",required:!1,type:{name:"{ size: number; backgroundColor?: string; text?: string | undefined; textColor?: string | undefined; fontSize?: string | number | undefined; } | undefined"}},textOptions:{defaultValue:null,description:"Optional spec for addition control of slice text.",name:"textOptions",required:!1,type:{name:'{ sliceOverrides?: string[]; displayOption?: "label" | "value" | "text" | "label+text" | "label+value" | "label+percent" | "label+text+value" | "label+text+percent" | ... 7 more ... | undefined; displayPosition?: "none" | ... 3 more ... | undefined; displayTemplate?: string | ... 1 more ... | undefined; ...'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/PiePlot.tsx#PiePlot"]={docgenInfo:PiePlot.__docgenInfo,name:"PiePlot",path:"src/plots/PiePlot.tsx#PiePlot"})}catch(__react_docgen_typescript_loader_error){}},153:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HistogramControls}));__webpack_require__(18),__webpack_require__(125),__webpack_require__(14),__webpack_require__(65),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react_cool_dimensions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(679),_constants_colors__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(11),_typography_ControlsHeader__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(343),_widgets_Button__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(228),_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(151),_widgets_Notification__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(348),_widgets_OpacitySlider__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(193),_widgets_OrientationToggle__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(266),_widgets_Slider__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(194),_widgets_Switch__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(138),_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(91);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function HistogramControls(_ref){var label=_ref.label,binWidth=_ref.binWidth,binWidthStep=_ref.binWidthStep,binWidthRange=_ref.binWidthRange,onBinWidthChange=_ref.onBinWidthChange,displayLegend=_ref.displayLegend,toggleDisplayLegend=_ref.toggleDisplayLegend,displayLibraryControls=_ref.displayLibraryControls,toggleLibraryControls=_ref.toggleLibraryControls,barLayout=_ref.barLayout,onBarLayoutChange=_ref.onBarLayoutChange,opacity=_ref.opacity,onOpacityChange=_ref.onOpacityChange,orientation=_ref.orientation,toggleOrientation=_ref.toggleOrientation,valueType=_ref.valueType,availableUnits=_ref.availableUnits,selectedUnit=_ref.selectedUnit,onSelectedUnitChange=_ref.onSelectedUnitChange,selectedRange=_ref.selectedRange,onSelectedRangeChange=_ref.onSelectedRangeChange,selectedRangeBounds=_ref.selectedRangeBounds,dependentAxisLogScale=_ref.dependentAxisLogScale,toggleDependentAxisLogScale=_ref.toggleDependentAxisLogScale,dependentAxisRange=_ref.dependentAxisRange,onDependentAxisRangeChange=_ref.onDependentAxisRangeChange,dependentAxisMode=_ref.dependentAxisMode,onDependentAxisModeChange=_ref.onDependentAxisModeChange,onDependentAxisRangeReset=_ref.onDependentAxisRangeReset,independentAxisRange=_ref.independentAxisRange,onIndependentAxisRangeChange=_ref.onIndependentAxisRangeChange,onIndependentAxisRangeReset=_ref.onIndependentAxisRangeReset,onResetAll=_ref.onResetAll,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_ref$accentColor=_ref.accentColor,accentColor=void 0===_ref$accentColor?_constants_colors__WEBPACK_IMPORTED_MODULE_8__.c:_ref$accentColor,errorManagement=_ref.errorManagement,_useDimensions=Object(react_cool_dimensions__WEBPACK_IMPORTED_MODULE_7__.a)(),ref=_useDimensions.ref,width=_useDimensions.width,errorStacks=Object(react__WEBPACK_IMPORTED_MODULE_6__.useMemo)((function(){return errorManagement.errors.reduce((function(accumulatedValue,currentValue){var existingErrorStack=accumulatedValue.find((function(stack){return stack.error.message===currentValue.message}));return existingErrorStack?(existingErrorStack.occurences++,_toConsumableArray(accumulatedValue)):[].concat(_toConsumableArray(accumulatedValue),[{error:currentValue,occurences:1}])}),[])}),[errorManagement.errors]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{ref:ref,style:Object.assign({borderStyle:"solid",borderWidth:"0.125em",borderColor:_constants_colors__WEBPACK_IMPORTED_MODULE_8__.d,borderRadius:"0.6125em",padding:"0.9375em",minWidth:"11em"},containerStyles),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(max-content, 100px))",marginRight:"2.1875em",columnGap:"1.5625em",rowGap:"0.9375em"},children:[toggleOrientation&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_OrientationToggle__WEBPACK_IMPORTED_MODULE_14__.a,{orientation:orientation,onOrientationChange:toggleOrientation}),onBarLayoutChange&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_11__.a,{label:"Bar Layout",options:["overlay","stack"],selectedOption:barLayout,onOptionSelected:onBarLayoutChange,containerStyles:{paddingRight:"1.5625em"}}),onSelectedRangeChange?void 0!==valueType&&"date"===valueType?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_17__.a,{label:"Selected Range",rangeBounds:selectedRangeBounds,range:selectedRange,onRangeChange:onSelectedRangeChange}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_17__.b,{label:"Selected Range",rangeBounds:selectedRangeBounds,range:selectedRange,onRangeChange:onSelectedRangeChange}):null]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{display:"grid",gridTemplateColumns:width>500?"2fr 2fr 1fr":width>300?"1fr 1fr":"1fr",marginTop:"0.9375em",marginRight:"0.9375em",columnGap:"1.5625em",rowGap:"0.3125em"},children:onOpacityChange&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_OpacitySlider__WEBPACK_IMPORTED_MODULE_13__.a,{value:opacity,onValueChange:onOpacityChange,color:accentColor})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",paddingTop:"0.3125em"},children:[toggleDisplayLegend&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Switch__WEBPACK_IMPORTED_MODULE_16__.a,{label:"Legend",color:accentColor,state:displayLegend,onStateChange:function onStateChange(event){return toggleDisplayLegend(event.target.checked)},containerStyles:{paddingRight:"1.5625em"}}),toggleLibraryControls&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Switch__WEBPACK_IMPORTED_MODULE_16__.a,{label:"Plot.ly Controls",color:accentColor,state:displayLibraryControls,onStateChange:function onStateChange(event){return toggleLibraryControls(event.target.checked)},containerStyles:{paddingRight:"1.5625em"}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{display:"inline-flex",borderStyle:"solid",borderWidth:"0.125em",borderColor:"rgb(240, 240, 240)",borderRadius:0,padding:"1em",width:"30em",minWidth:"11em",marginTop:"1.5625em",marginRight:"1.5625em"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{width:"3.125em",marginTop:"-1.8em",marginLeft:"-.3em",marginBottom:".3em",background:"white",textAlign:"center"},children:"y-Axis"}),toggleDependentAxisLogScale&&void 0!==dependentAxisLogScale&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Switch__WEBPACK_IMPORTED_MODULE_16__.a,{label:"Log Scale:",color:accentColor,state:dependentAxisLogScale,onStateChange:function onStateChange(event){return toggleDependentAxisLogScale(event.target.checked)},containerStyles:{paddingBottom:"0.3125em"}}),onDependentAxisRangeChange?void 0!==valueType&&"date"===valueType?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_17__.a,{label:"Range:",range:dependentAxisRange,onRangeChange:onDependentAxisRangeChange}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_17__.b,{label:"Range:",range:dependentAxisRange,onRangeChange:onDependentAxisRangeChange}):null,dependentAxisMode&&onDependentAxisModeChange&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_11__.a,{label:"Absolute/Relative:",options:["absolute","relative"],selectedOption:dependentAxisMode,onOptionSelected:onDependentAxisModeChange}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{paddingTop:"1.5625em",width:"11.25em"},children:onDependentAxisRangeReset&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Button__WEBPACK_IMPORTED_MODULE_10__.a,{type:"solid",text:"Reset to defaults",onClick:onDependentAxisRangeReset})})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{display:"inline-flex",borderStyle:"solid",borderWidth:"0.125em",borderColor:"rgb(240, 240, 240)",borderRadius:0,padding:"1em",width:"30em",minWidth:"11em",marginTop:"1.5625em",marginRight:"1.5625em"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{width:"3.125em",marginTop:"-1.8em",marginLeft:"-.3em",marginBottom:".3em",background:"white",textAlign:"center"},children:"x-Axis"}),null!=availableUnits&&availableUnits.length&&selectedUnit&&onSelectedUnitChange?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_11__.a,{label:"Data Units",options:availableUnits,selectedOption:selectedUnit,onOptionSelected:onSelectedUnitChange,containerStyles:{paddingBottom:"0.9375em"}}):null,onBinWidthChange&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Slider__WEBPACK_IMPORTED_MODULE_15__.a,{label:"Bin Width".concat(void 0!==valueType&&"date"===valueType?" ("+binWidth[1]+")":""),minimum:binWidthRange.min,maximum:binWidthRange.max,step:binWidthStep,value:"number"==typeof binWidth?binWidth:binWidth[0],debounceRateMs:250,onChange:function onChange(newValue){onBinWidthChange({binWidth:void 0!==valueType&&"date"===valueType?[newValue,selectedUnit]:newValue,selectedUnit:selectedUnit})}}),onIndependentAxisRangeChange?void 0!==valueType&&"date"===valueType?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_17__.a,{label:"Range:",range:independentAxisRange,onRangeChange:onIndependentAxisRangeChange}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_17__.b,{label:"Range:",range:independentAxisRange,onRangeChange:onIndependentAxisRangeChange}):null,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{paddingTop:"0.625em",width:"11.25em"},children:onIndependentAxisRangeReset&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Button__WEBPACK_IMPORTED_MODULE_10__.a,{type:"solid",text:"Reset to defaults",onClick:onIndependentAxisRangeReset})})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{paddingTop:"1.5625em",width:"8.125em"},children:onResetAll&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Button__WEBPACK_IMPORTED_MODULE_10__.a,{type:"solid",text:"Reset All",onClick:onResetAll})}),errorStacks.map((function(_ref2,index){var error=_ref2.error,occurences=_ref2.occurences;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Notification__WEBPACK_IMPORTED_MODULE_12__.a,{title:"Error",text:error.message,color:accentColor,occurences:occurences,containerStyles:{marginTop:"0.625em"},onAcknowledgement:function onAcknowledgement(){return errorManagement.removeError(error)}},index)})),label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_typography_ControlsHeader__WEBPACK_IMPORTED_MODULE_9__.a,{text:label,styleOverrides:{paddingTop:"1.5625em",textAlign:"right"}})]})}HistogramControls.displayName="HistogramControls";try{HistogramControls.displayName="HistogramControls",HistogramControls.__docgenInfo={description:"A histogram controls panel.\n\nIf you prefer a different layout or composition, you can\ncontruct you own control panel by using the various\nwidgets contained here.",displayName:"HistogramControls",props:{label:{defaultValue:null,description:"Label for control panel. Optional.",name:"label",required:!1,type:{name:"string"}},barLayout:{defaultValue:null,description:"Currently selected bar layout.",name:"barLayout",required:!0,type:{name:"string"}},onBarLayoutChange:{defaultValue:null,description:"Function to invoke when barlayout changes.",name:"onBarLayoutChange",required:!1,type:{name:'((layout: "overlay" | "stack") => void)'}},displayLegend:{defaultValue:null,description:"Whether or not to display the plot legend.",name:"displayLegend",required:!0,type:{name:"boolean"}},toggleDisplayLegend:{defaultValue:null,description:"Action to take on display legend change.",name:"toggleDisplayLegend",required:!1,type:{name:"((displayLegend: boolean) => void)"}},displayLibraryControls:{defaultValue:null,description:"Whether or not to display the additionally controls that\nmay be provided by the charting library used to generate the plot.\nFor example, Plot.ly controls.",name:"displayLibraryControls",required:!0,type:{name:"boolean"}},toggleLibraryControls:{defaultValue:null,description:"Action to take on display library controls change.",name:"toggleLibraryControls",required:!1,type:{name:"((displayLegend: boolean) => void)"}},opacity:{defaultValue:null,description:"Current histogram opacity.",name:"opacity",required:!0,type:{name:"number"}},onOpacityChange:{defaultValue:null,description:"Function to invoke when opacity changes.",name:"onOpacityChange",required:!1,type:{name:"((opacity: number) => void)"}},orientation:{defaultValue:null,description:"The current orientation of the plot.",name:"orientation",required:!0,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},toggleOrientation:{defaultValue:null,description:"Function to invoke when orientation changes.",name:"toggleOrientation",required:!1,type:{name:"((orientation: string) => void)"}},valueType:{defaultValue:null,description:"Type of x-variable 'number' or 'date'",name:"valueType",required:!1,type:{name:'"number" | "date"'}},availableUnits:{defaultValue:null,description:"Available unit options by which to bin data.",name:"availableUnits",required:!1,type:{name:"string[]"}},selectedUnit:{defaultValue:null,description:"The currently selected binWidth unit.",name:"selectedUnit",required:!1,type:{name:"string"}},onSelectedUnitChange:{defaultValue:null,description:"Function to invoke when the selected bin unit changes.",name:"onSelectedUnitChange",required:!1,type:{name:"((unit: string) => void)"}},binWidth:{defaultValue:null,description:"The current binWidth",name:"binWidth",required:!0,type:{name:"NumberOrTimeDelta"}},onBinWidthChange:{defaultValue:null,description:"Function to invoke when bin width changes.",name:"onBinWidthChange",required:!1,type:{name:"((params: { binWidth: NumberOrTimeDelta; selectedUnit?: string; }) => void) | undefined"}},binWidthRange:{defaultValue:null,description:"The acceptable range of binWidthValues.",name:"binWidthRange",required:!0,type:{name:"NumberOrTimeDeltaRange"}},binWidthStep:{defaultValue:null,description:"The step to take when adjusting binWidth",name:"binWidthStep",required:!0,type:{name:"number"}},selectedRange:{defaultValue:null,description:"A range to highlight by means of opacity. Optional",name:"selectedRange",required:!1,type:{name:"DateRange | NumberRange"}},onSelectedRangeChange:{defaultValue:null,description:"function to call upon selecting a range (in independent axis). Optional",name:"onSelectedRangeChange",required:!1,type:{name:"((newRange: NumberOrDateRange) => void)"}},selectedRangeBounds:{defaultValue:null,description:"Min and max allowed values for the selected range. Optional",name:"selectedRangeBounds",required:!1,type:{name:"DateRange | NumberRange"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles for controls container. Optional",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},accentColor:{defaultValue:null,description:"Color to use as an accent in the control panel. Will accept any\nvalid CSS color definition. Defaults to LIGHT_BLUE",name:"accentColor",required:!1,type:{name:"string"}},errorManagement:{defaultValue:null,description:"Attributes and methdods for error management.",name:"errorManagement",required:!0,type:{name:"ErrorManagement"}},dependentAxisLogScale:{defaultValue:null,description:"Whether or not to show y-axis log scale.",name:"dependentAxisLogScale",required:!1,type:{name:"boolean"}},toggleDependentAxisLogScale:{defaultValue:null,description:"Action to take on y-axis log scale change.",name:"toggleDependentAxisLogScale",required:!1,type:{name:"((dependentAxisLogScale: boolean) => void)"}},dependentAxisRange:{defaultValue:null,description:"Whether or not to set y-axis min/max range.",name:"dependentAxisRange",required:!1,type:{name:"DateRange | NumberRange"}},onDependentAxisRangeChange:{defaultValue:null,description:"Action to take on y-axis min/max range change.",name:"onDependentAxisRangeChange",required:!1,type:{name:"((newRange: NumberOrDateRange) => void)"}},dependentAxisMode:{defaultValue:null,description:"Whether or not to display y-axis absolute Relative.",name:"dependentAxisMode",required:!1,type:{name:"string"}},onDependentAxisModeChange:{defaultValue:null,description:"Action to take on display legend change.",name:"onDependentAxisModeChange",required:!1,type:{name:'((layout: "absolute" | "relative") => void)'}},onDependentAxisRangeReset:{defaultValue:null,description:"Action to reset dependent axis range.",name:"onDependentAxisRangeReset",required:!1,type:{name:"(() => void)"}},independentAxisRange:{defaultValue:null,description:"Whether or not to set x-axis min/max range.",name:"independentAxisRange",required:!1,type:{name:"DateRange | NumberRange"}},onIndependentAxisRangeChange:{defaultValue:null,description:"Action to take on x-axis min/max range change.",name:"onIndependentAxisRangeChange",required:!1,type:{name:"((newRange: NumberOrDateRange) => void)"}},onIndependentAxisRangeReset:{defaultValue:null,description:"Action to reset independent axis range.",name:"onIndependentAxisRangeReset",required:!1,type:{name:"(() => void)"}},onResetAll:{defaultValue:null,description:"Action to Reset all to defaults.",name:"onResetAll",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/HistogramControls.tsx#HistogramControls"]={docgenInfo:HistogramControls.__docgenInfo,name:"HistogramControls",path:"src/components/plotControls/HistogramControls.tsx#HistogramControls"})}catch(__react_docgen_typescript_loader_error){}},168:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BoundsDriftMarker}));__webpack_require__(105),__webpack_require__(14),__webpack_require__(4),__webpack_require__(114);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),react_leaflet__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20),react_leaflet__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(339),react_leaflet__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(475),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),leaflet_drift_marker__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(676),leaflet__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(12);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var FixedDriftMarker=leaflet_drift_marker__WEBPACK_IMPORTED_MODULE_9__.DriftMarker;function BoundsDriftMarker(_ref){var position=_ref.position,bounds=_ref.bounds,icon=_ref.icon,duration=_ref.duration,showPopup=_ref.showPopup,popupContent=_ref.popupContent,popupClass=_ref.popupClass,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_8__.useState)(!1),2),displayBounds=_useState2[0],setDisplayBounds=_useState2[1],map=Object(react_leaflet__WEBPACK_IMPORTED_MODULE_5__.c)().map,boundingBox=new leaflet__WEBPACK_IMPORTED_MODULE_10__.LatLngBounds([[bounds.southWest.lat,bounds.southWest.lng],[bounds.northEast.lat,bounds.northEast.lng]]),markerRef=Object(react__WEBPACK_IMPORTED_MODULE_8__.useRef)(),popupRef=Object(react__WEBPACK_IMPORTED_MODULE_8__.useRef)(),popupOrientationRef=Object(react__WEBPACK_IMPORTED_MODULE_8__.useRef)("up"),orientPopup=function orientPopup(orientation){if(popupRef.current){var popupDOMNode=popupRef.current.leafletElement._container;if(popupDOMNode){popupDOMNode.classList.remove("popup-up","popup-down","popup-left","popup-right");var angle={up:0,right:90,down:180,left:-90}[orientation];popupDOMNode.style.transform+=" rotate(".concat(angle,"deg)"),popupDOMNode.classList.add("popup-"+orientation)}}},observer=new MutationObserver((function(mutationRecord){mutationRecord[0].target.style.transform.includes("rotate")||orientPopup(popupOrientationRef.current)})),handlePopupOpen=function handlePopupOpen(){!function updatePopupOrientationRef(){if(popupContent){var markerRect=markerRef.current.leafletElement._icon.getBoundingClientRect(),markerCenterX=(markerRect.left+markerRect.right)/2;markerRect.top<popupContent.size.height?popupOrientationRef.current="down":markerCenterX<popupContent.size.width/2?popupOrientationRef.current="right":window.innerWidth-markerCenterX<popupContent.size.width/2?popupOrientationRef.current="left":popupOrientationRef.current="up"}}(),orientPopup(popupOrientationRef.current);var popupDOMNode=popupRef.current.leafletElement._container;observer.observe(popupDOMNode,{attributeFilter:["style"]})},popup=popupContent&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_6__.a,{ref:popupRef,className:"plot-marker-popup"+(popupClass?" ".concat(popupClass):""),minWidth:popupContent.size.width,maxWidth:popupContent.size.width,maxHeight:popupContent.size.height,autoPan:!1,closeButton:!1,onOpen:function onOpen(){return handlePopupOpen()},onClose:function onClose(){return function handlePopupClose(){observer.disconnect(),orientPopup(popupOrientationRef.current)}()},children:popupContent.content}),optionalIconProp=icon?{icon:icon}:{};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(FixedDriftMarker,Object.assign({ref:markerRef,duration:duration,position:position,onmouseover:function onmouseover(e){return function handleMouseOver(e){e.target._icon.classList.add("top-marker"),setDisplayBounds(!0),showPopup&&popupContent&&e.target.openPopup()}(e)},onmouseout:function onmouseout(e){return function handleMouseOut(e){e.target._icon.classList.remove("top-marker"),setDisplayBounds(!1),showPopup&&popupContent&&e.target.closePopup()}(e)},onclick:function onclick(e){return function handleClick(e){orientPopup(popupOrientationRef.current),e.target.closePopup()}(e)},ondblclick:function handleDoubleClick(){map&&map.fitBounds(boundingBox)}},optionalIconProp,{children:[displayBounds?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_7__.a,{bounds:boundingBox,color:"gray",weight:1}):null,showPopup&&popup]}))}BoundsDriftMarker.displayName="BoundsDriftMarker";try{BoundsDriftMarker.displayName="BoundsDriftMarker",BoundsDriftMarker.__docgenInfo={description:"",displayName:"BoundsDriftMarker",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},duration:{defaultValue:null,description:"",name:"duration",required:!0,type:{name:"number"}},popupClass:{defaultValue:null,description:"",name:"popupClass",required:!1,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"LatLngLiteral"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"Icon<IconOptions>"}},showPopup:{defaultValue:null,description:"",name:"showPopup",required:!1,type:{name:"boolean"}},popupContent:{defaultValue:null,description:"",name:"popupContent",required:!1,type:{name:"{ content: ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<any, any, any>)>; size: { ...; }; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/BoundsDriftMarker.tsx#BoundsDriftMarker"]={docgenInfo:BoundsDriftMarker.__docgenInfo,name:"BoundsDriftMarker",path:"src/map/BoundsDriftMarker.tsx#BoundsDriftMarker"})}catch(__react_docgen_typescript_loader_error){}},170:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Histogram}));__webpack_require__(125),__webpack_require__(652),__webpack_require__(14),__webpack_require__(24),__webpack_require__(653),__webpack_require__(13),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),_constants_colors__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(11),_utils_plotly__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(351),date_arithmetic__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(98),lodash__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(90),_PlotlyPlot__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(87);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Histogram(_ref){var data=_ref.data,width=_ref.width,height=_ref.height,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?"vertical":_ref$orientation,title=_ref.title,_ref$independentAxisL=_ref.independentAxisLabel,independentAxisLabel=void 0===_ref$independentAxisL?"Bins":_ref$independentAxisL,_ref$dependentAxisLab=_ref.dependentAxisLabel,dependentAxisLabel=void 0===_ref$dependentAxisLab?"Count":_ref$dependentAxisLab,_ref$textColor=_ref.textColor,textColor=void 0===_ref$textColor?_constants_colors__WEBPACK_IMPORTED_MODULE_9__.a:_ref$textColor,gridColor=_ref.gridColor,_ref$opacity=_ref.opacity,opacity=void 0===_ref$opacity?1:_ref$opacity,_ref$barLayout=_ref.barLayout,barLayout=void 0===_ref$barLayout?"overlay":_ref$barLayout,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=void 0===_ref$backgroundColor?"transparent":_ref$backgroundColor,dependentAxisRange=_ref.dependentAxisRange,showBarValues=_ref.showBarValues,_ref$displayLegend=_ref.displayLegend,displayLegend=void 0===_ref$displayLegend||_ref$displayLegend,legendOptions=_ref.legendOptions,_ref$displayLibraryCo=_ref.displayLibraryControls,displayLibraryControls=void 0===_ref$displayLibraryCo||_ref$displayLibraryCo,spacingOptions=_ref.spacingOptions,_ref$interactive=_ref.interactive,interactive=void 0===_ref$interactive||_ref$interactive,selectedRange=_ref.selectedRange,_ref$onSelectedRangeC=_ref.onSelectedRangeChange,onSelectedRangeChange=void 0===_ref$onSelectedRangeC?function(){}:_ref$onSelectedRangeC,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_8__.useState)(0),2),revision=_useState2[0],setRevision=_useState2[1];Object(react__WEBPACK_IMPORTED_MODULE_8__.useEffect)((function(){setRevision(revision+1)}),[barLayout]);var calculatedBarOpacity=Object(react__WEBPACK_IMPORTED_MODULE_8__.useMemo)((function(){return"overlay"===barLayout&&data.series.length>1?opacity>1?opacity/100*.75:.75*opacity:opacity>1?opacity/100:opacity}),[barLayout,data.series.length,opacity]),minBinStart=Object(react__WEBPACK_IMPORTED_MODULE_8__.useMemo)((function(){return Object(lodash__WEBPACK_IMPORTED_MODULE_12__.orderBy)(data.series.flatMap((function(series){return series.bins})),[function(bin){return bin.binStart}],"asc")[0].binStart}),[data.series]),maxBinEnd=Object(react__WEBPACK_IMPORTED_MODULE_8__.useMemo)((function(){return Object(lodash__WEBPACK_IMPORTED_MODULE_12__.orderBy)(data.series.flatMap((function(series){return series.bins})),[function(bin){return bin.binEnd}],"desc")[0].binEnd}),[data.series]),plotlyFriendlyData=Object(react__WEBPACK_IMPORTED_MODULE_8__.useMemo)((function(){return data.series.map((function(series){var binStarts=series.bins.map((function(bin){return bin.binStart})),binLabels=series.bins.map((function(bin){return bin.binLabel})),binCounts=series.bins.map((function(bin){return bin.count})),binWidths=series.bins.map((function(bin){return void 0!==data.valueType&&"date"===data.valueType?1e3*date_arithmetic__WEBPACK_IMPORTED_MODULE_11__.diff(new Date(bin.binStart),new Date(bin.binEnd),"seconds",!1):bin.binEnd-bin.binStart}));return{type:"bar",x:"vertical"===orientation?binStarts:binCounts,y:"vertical"===orientation?binCounts:binStarts,opacity:calculatedBarOpacity,orientation:"vertical"===orientation?"v":"h",name:series.name,text:showBarValues?binCounts.map(String):binLabels,textposition:showBarValues?"auto":void 0,marker:Object.assign({},series.color?{color:series.color}:{}),offset:0,width:binWidths,selected:{marker:{opacity:1}},unselected:{marker:{opacity:1}}}}))}),[data,orientation,calculatedBarOpacity,selectedRange]),binSummaries=Object(react__WEBPACK_IMPORTED_MODULE_8__.useMemo)((function(){var allBins=data.series.flatMap((function(series){return series.bins})),sortedBins=Object(lodash__WEBPACK_IMPORTED_MODULE_12__.sortBy)(allBins,(function(bin){return bin.binStart}));return Object(lodash__WEBPACK_IMPORTED_MODULE_12__.sortedUniqBy)(sortedBins,(function(bin){return bin.binLabel})).map((function(bin){return{binStart:bin.binStart,binEnd:bin.binEnd,binMiddle:"date"===data.valueType?date_arithmetic__WEBPACK_IMPORTED_MODULE_11__.add(new Date(bin.binStart),500*date_arithmetic__WEBPACK_IMPORTED_MODULE_11__.diff(new Date(bin.binStart),new Date(bin.binEnd),"seconds",!1),"milliseconds").toISOString():(bin.binStart+bin.binEnd)/2}}))}),[data.series,data.valueType]),_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_8__.useState)(),2),selectingRange=_useState4[0],setSelectingRange=_useState4[1],handleSelectingRange=Object(react__WEBPACK_IMPORTED_MODULE_8__.useCallback)((function(object){if(object&&object.range){var _ref3=_slicedToArray("vertical"===orientation?object.range.x:object.range.y,2),val1=_ref3[0],val2=_ref3[1],_ref5=_slicedToArray(val1>val2?[val2,val1]:[val1,val2],2),rawRange={min:_ref5[0],max:_ref5[1]},leftBin=binSummaries.find((function(bin){return rawRange.min<bin.binMiddle})),rightBin=binSummaries.slice().reverse().find((function(bin){return rawRange.max>bin.binMiddle}));leftBin&&rightBin&&leftBin.binStart<=rightBin.binStart?setSelectingRange({min:leftBin.binStart,max:rightBin.binEnd}):setSelectingRange(void 0)}}),[data.valueType,orientation,binSummaries,setSelectingRange]),handleSelectedRange=Object(react__WEBPACK_IMPORTED_MODULE_8__.useCallback)((function(){selectingRange&&onSelectedRangeChange(selectingRange),setSelectingRange(void 0)}),[selectingRange,onSelectedRangeChange,setSelectingRange]),selectedRangeHighlighting=Object(react__WEBPACK_IMPORTED_MODULE_8__.useMemo)((function(){var range=null!=selectingRange?selectingRange:selectedRange;return range?[Object.assign({type:"rect"},"vertical"===orientation?{xref:"x",yref:"paper",x0:range.min,x1:range.max,y0:0,y1:1}:{xref:"paper",yref:"y",x0:0,x1:1,y0:range.min,y1:range.max},{line:{color:"blue",width:1},fillcolor:"lightblue",opacity:.4})]:[]}),[selectingRange,selectedRange,orientation]),independentAxisLayout={type:"date"===(null==data?void 0:data.valueType)?"date":"linear",automargin:!0,title:{text:independentAxisLabel,font:{family:"Arial, Helvetica, sans-serif",size:14}},color:textColor,range:[minBinStart,maxBinEnd]},dependentAxisLayout={type:"linear",automargin:!0,title:{text:dependentAxisLabel,font:{family:"Arial, Helvetica, sans-serif",size:14}},color:textColor,gridcolor:gridColor,range:[null==dependentAxisRange?void 0:dependentAxisRange.min,null==dependentAxisRange?void 0:dependentAxisRange.max]};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_PlotlyPlot__WEBPACK_IMPORTED_MODULE_13__.b,{useResizeHandler:!0,revision:revision,style:{height:height,width:width},layout:{shapes:selectedRangeHighlighting,dragmode:"select",selectdirection:"vertical"===orientation?"h":"v",autosize:!0,margin:{t:null==spacingOptions?void 0:spacingOptions.marginTop,r:null==spacingOptions?void 0:spacingOptions.marginRight,b:null==spacingOptions?void 0:spacingOptions.marginBottom,l:null==spacingOptions?void 0:spacingOptions.marginLeft,pad:(null==spacingOptions?void 0:spacingOptions.padding)||5},showlegend:displayLegend,legend:Object.assign({font:{color:textColor}},legendOptions?Object(_utils_plotly__WEBPACK_IMPORTED_MODULE_10__.a)(legendOptions):{}),plot_bgcolor:backgroundColor,paper_bgcolor:backgroundColor,xaxis:"vertical"===orientation?independentAxisLayout:dependentAxisLayout,yaxis:"vertical"===orientation?dependentAxisLayout:independentAxisLayout,barmode:barLayout,title:{text:title,font:{family:"Arial, Helvetica, sans-serif",color:textColor,size:24},xref:"paper",x:0}},data:plotlyFriendlyData,onSelected:handleSelectedRange,onSelecting:handleSelectingRange,config:{displayModeBar:!!displayLibraryControls&&"hover",staticPlot:!interactive,displaylogo:!1,showTips:!0}})})}Histogram.displayName="Histogram";try{Histogram.displayName="Histogram",Histogram.__docgenInfo={description:"A Plot.ly based histogram component.",displayName:"Histogram",props:{data:{defaultValue:null,description:"Data for the plot.",name:"data",required:!0,type:{name:"HistogramData"}},width:{defaultValue:null,description:"The width of the plot in pixels (if number), or CSS length.",name:"width",required:!0,type:{name:"string | number"}},height:{defaultValue:null,description:"The height of the plot in pixels (if number), or CSS length.",name:"height",required:!0,type:{name:"string | number"}},orientation:{defaultValue:{value:"vertical"},description:"The orientation of the plot. Defaults to `vertical`",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},barLayout:{defaultValue:{value:"overlay"},description:"How bars are displayed when there are multiple series.",name:"barLayout",required:!1,type:{name:"enum",value:[{value:'"overlay"'},{value:'"stack"'},{value:'"group"'}]}},opacity:{defaultValue:{value:1},description:"Opacity of bars. Range is a decimal between 0 and 1. Defaults to 1\nif there is only one data series bars are not overlayed. Otherwise,\ndefaults to .75",name:"opacity",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},independentAxisLabel:{defaultValue:{value:"Bins"},description:"Label for independent axis. Defaults to `Bins`.",name:"independentAxisLabel",required:!1,type:{name:"string"}},dependentAxisLabel:{defaultValue:{value:"Count"},description:"Label for dependent axis. Defaults to `Count`.",name:"dependentAxisLabel",required:!1,type:{name:"string"}},textColor:{defaultValue:null,description:"Fill color of the title, axes labels, tick marks, and legend.\nDefaults to DARK_GRAY. Note that textColor can be overridden\nfor the legend if `legendOptions` is provided.",name:"textColor",required:!1,type:{name:"string"}},gridColor:{defaultValue:null,description:"Color of the gridlines. Use Plotly defaults if not specified.",name:"gridColor",required:!1,type:{name:"string"}},backgroundColor:{defaultValue:{value:"transparent"},description:"Control of background color. Defaults to transparent.",name:"backgroundColor",required:!1,type:{name:"string"}},displayLegend:{defaultValue:{value:!0},description:"Should plot legend be displayed?",name:"displayLegend",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},dependentAxisRange:{defaultValue:null,description:"Range for the dependent axis (usually y-axis)",name:"dependentAxisRange",required:!1,type:{name:"DateRange | NumberRange"}},showBarValues:{defaultValue:null,description:"Show value for each bar",name:"showBarValues",required:!1,type:{name:"boolean"}},displayLibraryControls:{defaultValue:{value:!0},description:"Should plotting library controls be displayed? Ex. Plot.ly",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},interactive:{defaultValue:{value:!0},description:"Whether the plot is interactive. If false, overrides\ndisplayLibraryControls.",name:"interactive",required:!1,type:{name:"boolean"}},selectedRange:{defaultValue:null,description:"A range to highlight by means of opacity",name:"selectedRange",required:!1,type:{name:"DateRange | NumberRange"}},onSelectedRangeChange:{defaultValue:{value:"() => {}"},description:"function to call upon selecting a range (in independent axis)",name:"onSelectedRangeChange",required:!1,type:{name:"((newRange: NumberOrDateRange) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/Histogram.tsx#Histogram"]={docgenInfo:Histogram.__docgenInfo,name:"Histogram",path:"src/plots/Histogram.tsx#Histogram"})}catch(__react_docgen_typescript_loader_error){}},193:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OpacitySlider}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_constants_colors__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(0),__webpack_require__(11)),_Slider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(194);function OpacitySlider(_ref){var value=_ref.value,onValueChange=_ref.onValueChange,_ref$color=_ref.color,color=void 0===_ref$color?_constants_colors__WEBPACK_IMPORTED_MODULE_2__.e:_ref$color,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Slider__WEBPACK_IMPORTED_MODULE_3__.a,{label:"Opacity",minimum:0,maximum:1,step:.1,value:value,valueFormatter:function valueFormatter(value){return"".concat(100*value,"%")},onChange:onValueChange,colorSpec:{type:"gradient",tooltip:color,knobColor:color,trackGradientStart:_constants_colors__WEBPACK_IMPORTED_MODULE_2__.d,trackGradientEnd:color},containerStyles:containerStyles})}OpacitySlider.displayName="OpacitySlider";try{OpacitySlider.displayName="OpacitySlider",OpacitySlider.__docgenInfo={description:"Slider widget customized for showing/controlling opacity.",displayName:"OpacitySlider",props:{value:{defaultValue:null,description:"The current opacity value. Will be between 0 and 1.",name:"value",required:!0,type:{name:"number"}},onValueChange:{defaultValue:null,description:"Function to invoke when value changes.",name:"onValueChange",required:!0,type:{name:"(value: number) => void"}},color:{defaultValue:null,description:"Any valid CSS color definition. Hex, rgb, hsl values supported.",name:"color",required:!1,type:{name:"string"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to container.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/OpacitySlider.tsx#OpacitySlider"]={docgenInfo:OpacitySlider.__docgenInfo,name:"OpacitySlider",path:"src/components/widgets/OpacitySlider.tsx#OpacitySlider"})}catch(__react_docgen_typescript_loader_error){}},194:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SliderWidget}));__webpack_require__(18),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(689),_material_ui_core_Slider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1446),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(172),_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(52),_constants_colors__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(11),lodash__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(90);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SliderWidget(_ref){var minimum=_ref.minimum,maximum=_ref.maximum,value=_ref.value,valueFormatter=_ref.valueFormatter,_ref$step=_ref.step,step=void 0===_ref$step?1:_ref$step,_ref$debounceRateMs=_ref.debounceRateMs,debounceRateMs=void 0===_ref$debounceRateMs?100:_ref$debounceRateMs,onChange=_ref.onChange,label=_ref.label,colorSpec=_ref.colorSpec,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,showTextInput=_ref.showTextInput,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),2),focused=_useState2[0],setFocused=_useState2[1],classes=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__.a)({root:{height:0,paddingTop:5,flex:1},rail:{background:colorSpec?"gradient"===colorSpec.type?"linear-gradient(90deg, ".concat(colorSpec.trackGradientStart,", ").concat(colorSpec.trackGradientEnd,")"):colorSpec.trackColor:_constants_colors__WEBPACK_IMPORTED_MODULE_8__.d,opacity:1,height:8,borderRadius:5},track:{display:"none"},thumb:{height:18,width:18,backgroundColor:"#fff",border:"2px solid ".concat(colorSpec?colorSpec.knobColor:_constants_colors__WEBPACK_IMPORTED_MODULE_8__.j),marginTop:-5},valueLabel:{color:colorSpec?colorSpec.tooltip:_constants_colors__WEBPACK_IMPORTED_MODULE_8__.j,marginLeft:2}})(),_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(value),2),localValue=_useState4[0],setLocalValue=_useState4[1],debouncedOnChange=Object(react__WEBPACK_IMPORTED_MODULE_3__.useMemo)((function(){return Object(lodash__WEBPACK_IMPORTED_MODULE_9__.debounce)(onChange,debounceRateMs)}),[onChange]);Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){return debouncedOnChange.cancel}),[]),Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){setLocalValue(value)}),[value]);var handleChange=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(_,value){if(Array.isArray(value))throw new Error("Expected a number, but got an array.");setLocalValue(value),debouncedOnChange(value)}),[debouncedOnChange]),valueLabelDisplay=showTextInput?"off":"auto";return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},containerStyles),onMouseOver:function onMouseOver(){return setFocused(!0)},onMouseOut:function onMouseOut(){return setFocused(!1)},children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__.a,{variant:"button",style:{color:focused?_constants_colors__WEBPACK_IMPORTED_MODULE_8__.a:_constants_colors__WEBPACK_IMPORTED_MODULE_8__.j,paddingRight:15},children:label}),showTextInput&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_7__.b,{value:localValue,minValue:minimum,maxValue:maximum,onValueChange:function onValueChange(newValue){return null!=newValue&&handleChange(null,newValue)},displayRangeViolationWarnings:!1,containerStyles:{width:Math.max(String(maximum).length,String(minimum).length)+5+"ch",marginRight:10}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core_Slider__WEBPACK_IMPORTED_MODULE_5__.a,{classes:{root:classes.root,rail:classes.rail,track:classes.track,thumb:classes.thumb,valueLabel:classes.valueLabel},"aria-label":null!=label?label:"slider",min:minimum,max:maximum,value:localValue,step:step,valueLabelDisplay:valueLabelDisplay,valueLabelFormat:valueFormatter,onChange:handleChange})]})}SliderWidget.displayName="SliderWidget";try{Slider.displayName="Slider",Slider.__docgenInfo={description:"A customizable slider widget.\n\nTODO: There is a good chance that we will need to add some debounce logic\nto allow for us to update UI immediately and then handle backend calls\nas needed.",displayName:"Slider",props:{minimum:{defaultValue:null,description:"The minimum value of the slider.",name:"minimum",required:!0,type:{name:"number"}},maximum:{defaultValue:null,description:"The maximum value of the slider.",name:"maximum",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"The current value of the slider.",name:"value",required:!0,type:{name:"number"}},valueFormatter:{defaultValue:null,description:"An optional function which returns a string\nrepresentation of the value. Used in the tooltip.",name:"valueFormatter",required:!1,type:{name:"((value: number) => string)"}},step:{defaultValue:{value:1},description:"The amount the value will change each time the mouse moves. Defaults to 1.",name:"step",required:!1,type:{name:"number"}},debounceRateMs:{defaultValue:{value:100},description:"Rate at which to debounce onChange calls, in milliseconds. Defaults to 100.",name:"debounceRateMs",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"Function to invoke whenever the value changes.",name:"onChange",required:!0,type:{name:"(value: number) => void"}},label:{defaultValue:null,description:"Optional label for the widget.",name:"label",required:!1,type:{name:"string"}},colorSpec:{defaultValue:null,description:"Optional color specification that allows for complete\ncontrol of slider colors.",name:"colorSpec",required:!1,type:{name:'{ type: "singleColor"; tooltip: string; trackColor: string; knobColor: string; } | { type: "gradient"; tooltip: string; knobColor: string; trackGradientStart: string; trackGradientEnd: string; }'}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to component container.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},showTextInput:{defaultValue:null,description:"Show an auxillary text input box",name:"showTextInput",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/Slider.tsx#Slider"]={docgenInfo:Slider.__docgenInfo,name:"Slider",path:"src/components/widgets/Slider.tsx#Slider"})}catch(__react_docgen_typescript_loader_error){}},196:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PieControls}));__webpack_require__(18),__webpack_require__(125),__webpack_require__(14),__webpack_require__(65),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),_constants_colors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11),_typography_ControlsHeader__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(343),_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(151),_widgets_Notification__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(348),_widgets_OpacitySlider__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(193),_widgets_Switch__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(138);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function PieControls(_ref){var label=_ref.label,displayLegend=_ref.displayLegend,toggleDisplayLegend=_ref.toggleDisplayLegend,displayLibraryControls=_ref.displayLibraryControls,toggleLibraryControls=_ref.toggleLibraryControls,opacity=_ref.opacity,onOpacityChange=_ref.onOpacityChange,availableUnits=_ref.availableUnits,selectedUnit=_ref.selectedUnit,onSelectedUnitChange=_ref.onSelectedUnitChange,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_ref$accentColor=_ref.accentColor,accentColor=void 0===_ref$accentColor?_constants_colors__WEBPACK_IMPORTED_MODULE_7__.c:_ref$accentColor,errorManagement=_ref.errorManagement,errorStacks=Object(react__WEBPACK_IMPORTED_MODULE_6__.useMemo)((function(){return errorManagement.errors.reduce((function(accumulatedValue,currentValue){var existingErrorStack=accumulatedValue.find((function(stack){return stack.error.message===currentValue.message}));return existingErrorStack?(existingErrorStack.occurences++,_toConsumableArray(accumulatedValue)):[].concat(_toConsumableArray(accumulatedValue),[{error:currentValue,occurences:1}])}),[])}),[errorManagement.errors]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:Object.assign({borderStyle:"solid",borderWidth:2,borderColor:_constants_colors__WEBPACK_IMPORTED_MODULE_7__.d,borderRadius:"10px",padding:"15px",minWidth:"280px"},containerStyles),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start"},children:[null!=availableUnits&&availableUnits.length&&selectedUnit&&onSelectedUnitChange?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_9__.a,{label:"Data Units",options:availableUnits,selectedOption:selectedUnit,onOptionSelected:onSelectedUnitChange,containerStyles:{paddingRight:25,paddingBottom:10}}):null,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_OpacitySlider__WEBPACK_IMPORTED_MODULE_11__.a,{value:opacity,onValueChange:onOpacityChange,color:accentColor,containerStyles:{minWidth:250,paddingRight:25,paddingBottom:10}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Switch__WEBPACK_IMPORTED_MODULE_12__.a,{label:"Legend",color:accentColor,state:displayLegend,onStateChange:function onStateChange(event){return toggleDisplayLegend(event.target.checked)},containerStyles:{paddingRight:25,paddingBottom:10}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Switch__WEBPACK_IMPORTED_MODULE_12__.a,{label:"Plot.ly Controls",color:accentColor,state:displayLibraryControls,onStateChange:function onStateChange(event){return toggleLibraryControls(event.target.checked)}})]})]}),errorStacks.map((function(_ref2,index){var error=_ref2.error,occurences=_ref2.occurences;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_widgets_Notification__WEBPACK_IMPORTED_MODULE_10__.a,{title:"Error",text:error.message,color:accentColor,occurences:occurences,containerStyles:{marginTop:10},onAcknowledgement:function onAcknowledgement(){return errorManagement.removeError(error)}},index)})),label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_typography_ControlsHeader__WEBPACK_IMPORTED_MODULE_8__.a,{text:label,styleOverrides:{paddingTop:25,textAlign:"right"}})]})}PieControls.displayName="PieControls";try{PieControls.displayName="PieControls",PieControls.__docgenInfo={description:"A default pie/donut plot control panel.",displayName:"PieControls",props:{label:{defaultValue:null,description:"Label for control panel. Optional.",name:"label",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Whether or not to display the plot legend.",name:"displayLegend",required:!0,type:{name:"boolean"}},toggleDisplayLegend:{defaultValue:null,description:"Action to take on display legend change.",name:"toggleDisplayLegend",required:!0,type:{name:"(displayLegend: boolean) => void"}},displayLibraryControls:{defaultValue:null,description:"Whether or not to display the additionally controls that\nmay be provided by the charting library used to generate the plot.\nFor example, Plot.ly controls.",name:"displayLibraryControls",required:!0,type:{name:"boolean"}},toggleLibraryControls:{defaultValue:null,description:"Action to take on display library controls change.",name:"toggleLibraryControls",required:!0,type:{name:"(displayLegend: boolean) => void"}},opacity:{defaultValue:null,description:"Current histogram opacity.",name:"opacity",required:!0,type:{name:"number"}},onOpacityChange:{defaultValue:null,description:"Function to invoke when opacity changes.",name:"onOpacityChange",required:!0,type:{name:"(opacity: number) => void"}},availableUnits:{defaultValue:null,description:"The current orientation of the plot.",name:"availableUnits",required:!1,type:{name:"string[]"}},selectedUnit:{defaultValue:null,description:"The currently selected bin unit.",name:"selectedUnit",required:!1,type:{name:"string"}},onSelectedUnitChange:{defaultValue:null,description:"Function to invoke when the selected bin unit changes.",name:"onSelectedUnitChange",required:!1,type:{name:"((unit: string) => void)"}},containerStyles:{defaultValue:{value:"{}"},description:"",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},accentColor:{defaultValue:null,description:"Color to use as an accent in the control panel. Will accept any\nvalid CSS color definition. Defaults to LIGHT_BLUE",name:"accentColor",required:!1,type:{name:"string"}},errorManagement:{defaultValue:null,description:"Attributes and methdods for error management.",name:"errorManagement",required:!0,type:{name:"ErrorManagement"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/PieControls.tsx#PieControls"]={docgenInfo:PieControls.__docgenInfo,name:"PieControls",path:"src/components/plotControls/PieControls.tsx#PieControls"})}catch(__react_docgen_typescript_loader_error){}},197:function(module,__webpack_exports__,__webpack_require__){"use strict";var jsx_runtime=__webpack_require__(1),react=__webpack_require__(0),Dropdown=(__webpack_require__(14),__webpack_require__(268));__webpack_require__(1369),__webpack_require__(654);function LegendListDropDown(props){var dropDownID="";return dropDownID="categorical"===props.legendType?"legend-dropdown-category":"legend-dropdown-chart",Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(Dropdown.a,{children:[Object(jsx_runtime.jsx)(Dropdown.a.Toggle,{variant:"success",id:dropDownID,children:props.dropdownTitle}),Object(jsx_runtime.jsx)(Dropdown.a.Menu,{className:"legend-dropdown-menu",children:props.dropdownItemText.map((function(item,index){return Object(jsx_runtime.jsx)(Dropdown.a.Item,{href:props.dropdownHref[index],className:"legend-dropdown-item",children:item},props.dropdownItemText[index])}))})]},props.dropdownTitle),Object(jsx_runtime.jsx)("br",{})]})}try{LegendListDropDown.displayName="LegendListDropDown",LegendListDropDown.__docgenInfo={description:"",displayName:"LegendListDropDown",props:{legendType:{defaultValue:null,description:"",name:"legendType",required:!0,type:{name:"string"}},dropdownTitle:{defaultValue:null,description:"",name:"dropdownTitle",required:!0,type:{name:"string"}},dropdownHref:{defaultValue:null,description:"",name:"dropdownHref",required:!0,type:{name:"string[]"}},dropdownItemText:{defaultValue:null,description:"",name:"dropdownItemText",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/LegendListDropDown.tsx#LegendListDropDown"]={docgenInfo:LegendListDropDown.__docgenInfo,name:"LegendListDropDown",path:"src/map/LegendListDropDown.tsx#LegendListDropDown"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(78),__webpack_require__(15),__webpack_require__(37),__webpack_require__(27),__webpack_require__(69);var lib=__webpack_require__(678),lib_default=__webpack_require__.n(lib);__webpack_require__(1404);function numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function LegendListSquare(props){var labels=[],maxList=10,legendIconClass="";"numeric"===props.legendType&&(legendIconClass=" legend-square-icon"),props.data.length<=maxList&&(maxList=props.data.length),labels.push('<div class="legend-field-text"># of '+props.legendInfoNumberText+"</div>");for(var i=0;i<maxList;i++)labels.push('<div class="active-legend-area'+legendIconClass+'"><div class="active-legend" title="'+props.data[i].label+'"><i style="background:'+props.data[i].color+'"></i> <em>'+props.data[i].label.truncate(22)+'</em></div></div><div class="legend-count">'+numberWithCommas(props.data[i].value)+"</div>");if(props.data.length>maxList){for(var othersSum=0,_i=10;_i<props.data.length;_i++)othersSum+=props.data[_i].value;labels.push('<div class="active-legend-area"><div class="active-legend" title="Others"><i style="background:silver"></i> <em>Others</em></div></div><div class="legend-count">'+numberWithCommas(othersSum)+"</div>")}var SingleLabels=labels.join("<br>");return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:lib_default()(SingleLabels)})}String.prototype.truncate=function(max,add){return add=add||"...",this.length>max?this.substring(0,max)+add:this};try{LegendListGeneral.displayName="LegendListGeneral",LegendListGeneral.__docgenInfo={description:"",displayName:"LegendListGeneral",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ label: string; value: number; color: string; }[]"}},legendType:{defaultValue:null,description:"",name:"legendType",required:!0,type:{name:"string"}},legendInfoNumberText:{defaultValue:null,description:"",name:"legendInfoNumberText",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/LegendListGeneral.tsx#LegendListGeneral"]={docgenInfo:LegendListGeneral.__docgenInfo,name:"LegendListGeneral",path:"src/map/LegendListGeneral.tsx#LegendListGeneral"})}catch(__react_docgen_typescript_loader_error){}function LegendListRadioButton_numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function LegendListRadioButton(props){return"categorical"==props.legendType?null:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsxs)("div",{className:"legend-list-radio-button",children:[Object(jsx_runtime.jsx)("div",{className:"legend-list-radio-button-title",children:Object(jsx_runtime.jsx)("b",{children:"Y-axis scaling"})}),Object(jsx_runtime.jsx)("input",{id:"Regional",type:"radio",value:"Regional",name:"legendListRadio",onChange:props.onChange,checked:"Regional"===props.selectedOption}),"Â ",Object(jsx_runtime.jsxs)("label",{htmlFor:"Regional",children:[" ","Regional (",props.dependentAxisRange&&props.dependentAxisRange[0]?LegendListRadioButton_numberWithCommas(props.dependentAxisRange[0]):0," ","-"," ",props.dependentAxisRange&&props.dependentAxisRange[1]?LegendListRadioButton_numberWithCommas(props.dependentAxisRange[1]):0,")"]}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("input",{id:"Individual",type:"radio",value:"Individual",name:"legendListRadio",onChange:props.onChange,checked:"Individual"===props.selectedOption}),"Â ",Object(jsx_runtime.jsx)("label",{htmlFor:"Individual",children:" Per-marker (varies)"})]})]})}try{LegendListRadioButton.displayName="LegendListRadioButton",LegendListRadioButton.__docgenInfo={description:"",displayName:"LegendListRadioButton",props:{legendType:{defaultValue:null,description:"",name:"legendType",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>) => void)"}},selectedOption:{defaultValue:null,description:"",name:"selectedOption",required:!1,type:{name:"string"}},dependentAxisRange:{defaultValue:null,description:"",name:"dependentAxisRange",required:!1,type:{name:"number[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/LegendListRadioButton.tsx#LegendListRadioButton"]={docgenInfo:LegendListRadioButton.__docgenInfo,name:"LegendListRadioButton",path:"src/map/LegendListRadioButton.tsx#LegendListRadioButton"})}catch(__react_docgen_typescript_loader_error){}function LegendListInfo(props){var legendListInfoImage="";return"categorical"==props.legendType?(legendListInfoImage="./img/legend-info-donut-capture.png",Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsxs)("div",{className:"legend-donut-marker-description",children:[Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)("b",{children:"Marker key"})}),Object(jsx_runtime.jsx)("img",{width:"95%",height:"95%",src:legendListInfoImage})]})]})):(legendListInfoImage="./img/legend-chart-arrow-new.png",Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsxs)("div",{className:"legend-chart-marker-description",children:[Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)("b",{children:"Marker key"})}),Object(jsx_runtime.jsxs)("div",{className:"legend-info-contents",children:[Object(jsx_runtime.jsx)("div",{className:"legend-info-image",children:Object(jsx_runtime.jsx)("img",{width:"80%",height:"80%",src:legendListInfoImage})}),Object(jsx_runtime.jsxs)("div",{className:"legend-info-text",children:["marker is fully disaggregated",Object(jsx_runtime.jsx)("br",{}),"color by ",props.dropdownTitle,Object(jsx_runtime.jsx)("br",{}),"number of ",props.legendInfoNumberText]})]})]})}))}try{LegendListInfo.displayName="LegendListInfo",LegendListInfo.__docgenInfo={description:"",displayName:"LegendListInfo",props:{legendType:{defaultValue:null,description:"",name:"legendType",required:!0,type:{name:"string"}},dropdownTitle:{defaultValue:null,description:"",name:"dropdownTitle",required:!0,type:{name:"string"}},legendInfoNumberText:{defaultValue:null,description:"",name:"legendInfoNumberText",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/LegendListInfo.tsx#LegendListInfo"]={docgenInfo:LegendListInfo.__docgenInfo,name:"LegendListInfo",path:"src/map/LegendListInfo.tsx#LegendListInfo"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.a=function MapVEuLegendSampleListHide(props){var legendIconClass="";legendIconClass="categorical"===props.legendType?"legend-contents":"legend-contents-numeric";var legendWrapper=Object(react.useRef)(),_useState2=_slicedToArray(Object(react.useState)(!1),2),legendStatus=_useState2[0],setlegendStatus=_useState2[1];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{ref:legendWrapper,className:"legend-wrapper",children:Object(jsx_runtime.jsx)("div",{className:"legend-nav",children:Object(jsx_runtime.jsx)("div",{className:"info legend",children:Object(jsx_runtime.jsxs)("div",{className:legendIconClass,children:[Object(jsx_runtime.jsx)(LegendListDropDown,{legendType:props.legendType,dropdownTitle:props.dropdownTitle,dropdownHref:props.dropdownHref,dropdownItemText:props.dropdownItemText}),Object(jsx_runtime.jsx)(LegendListSquare,{data:props.data,legendType:props.legendType,legendInfoNumberText:props.legendInfoNumberText}),Object(jsx_runtime.jsx)(LegendListRadioButton,{legendType:props.legendType,onChange:props.onChange,selectedOption:props.selectedOption,dependentAxisRange:props.dependentAxisRange}),Object(jsx_runtime.jsx)(LegendListInfo,{legendType:props.legendType,dropdownTitle:props.dropdownTitle,legendInfoNumberText:props.legendInfoNumberText})]})})})}),Object(jsx_runtime.jsx)("div",{className:"legend-display-button active",children:Object(jsx_runtime.jsxs)("button",{className:"legend-nav-icon",onClick:function onClick(e){return function legendShowHideButtonClick(e){var wrapper=legendWrapper?legendWrapper.current:void 0;wrapper&&(wrapper.classList.toggle("hiding-legend"),setlegendStatus(!!wrapper.classList.contains("hiding-legend")))}()},children:[" ",legendStatus?"Show":" Hide"," Legend"," "]})})]})};try{MapVEuLegendSampleList.displayName="MapVEuLegendSampleList",MapVEuLegendSampleList.__docgenInfo={description:"",displayName:"MapVEuLegendSampleList",props:{legendType:{defaultValue:null,description:"",name:"legendType",required:!0,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ label: string; value: number; color: string; }[]"}},variableLabel:{defaultValue:null,description:"",name:"variableLabel",required:!1,type:{name:"string"}},quantityLabel:{defaultValue:null,description:"",name:"quantityLabel",required:!1,type:{name:"string"}},tickLabelsVisible:{defaultValue:null,description:"",name:"tickLabelsVisible",required:!1,type:{name:"boolean"}},onShowFilter:{defaultValue:null,description:"",name:"onShowFilter",required:!1,type:{name:"(() => {})"}},onShowVariableChooser:{defaultValue:null,description:"",name:"onShowVariableChooser",required:!1,type:{name:"(() => {})"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>) => void)"}},selectedOption:{defaultValue:null,description:"",name:"selectedOption",required:!1,type:{name:"string"}},dropdownTitle:{defaultValue:null,description:"",name:"dropdownTitle",required:!0,type:{name:"string"}},dropdownHref:{defaultValue:null,description:"",name:"dropdownHref",required:!0,type:{name:"string[]"}},dropdownItemText:{defaultValue:null,description:"",name:"dropdownItemText",required:!0,type:{name:"string[]"}},dependentAxisRange:{defaultValue:null,description:"",name:"dependentAxisRange",required:!1,type:{name:"number[]"}},legendInfoNumberText:{defaultValue:null,description:"",name:"legendInfoNumberText",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/MapVEuLegendSampleList.tsx#MapVEuLegendSampleList"]={docgenInfo:MapVEuLegendSampleList.__docgenInfo,name:"MapVEuLegendSampleList",path:"src/map/MapVEuLegendSampleList.tsx#MapVEuLegendSampleList"})}catch(__react_docgen_typescript_loader_error){}},228:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Button}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(355)),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1442),_material_ui_styles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(687),_constants_colors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11);function Button(_ref){var type=_ref.type,text=_ref.text,onClick=_ref.onClick,_ref$color=_ref.color,color=void 0===_ref$color?_constants_colors__WEBPACK_IMPORTED_MODULE_6__.c:_ref$color,textColor=_ref.textColor,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,theme=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.a)({palette:{primary:{main:color}}});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:Object.assign({},containerStyles),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_styles__WEBPACK_IMPORTED_MODULE_5__.a,{theme:theme,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_4__.a,{variant:"outlined"===type?"outlined":"contained",disableElevation:!0,style:{width:"100%",color:textColor||"white"},color:"primary",onClick:onClick,children:text})})})}Button.displayName="Button";try{Button.displayName="Button",Button.__docgenInfo={description:"A simple button with a few customization options.",displayName:"Button",props:{type:{defaultValue:null,description:"Indicates if the button should be have a colored outline and\ntransparent center or have a solid fill color.",name:"type",required:!0,type:{name:"enum",value:[{value:'"outlined"'},{value:'"solid"'}]}},text:{defaultValue:null,description:"Text of the button",name:"text",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"Action to take when the button is clicked.",name:"onClick",required:!0,type:{name:"() => void"}},color:{defaultValue:null,description:"Color to use for outline/fill. Will accept any\nvalid CSS color definition. Defaults to LIGHT_BLUE",name:"color",required:!1,type:{name:"string"}},textColor:{defaultValue:null,description:"Button text color. Defaults to LIGHT_BLUE if type is\n`outlined` or white if type is `solid`.",name:"textColor",required:!1,type:{name:"string"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to the widget container.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/Button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/widgets/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}},266:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OrientationToggle}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_material_ui_icons_FormatAlignLeft__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(479),_material_ui_icons_FormatAlignLeft__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_material_ui_icons_FormatAlignLeft__WEBPACK_IMPORTED_MODULE_3__),_material_ui_lab_ToggleButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(480),_material_ui_lab_ToggleButtonGroup__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(691),_constants_colors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_material_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(172);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function OrientationToggle(_ref){var orientation=_ref.orientation,onOrientationChange=_ref.onOrientationChange,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),2),focused=_useState2[0],setFocused=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"column",alignItems:"flex-start"},containerStyles),onMouseOver:function onMouseOver(){return setFocused(!0)},onMouseOut:function onMouseOut(){return setFocused(!1)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.a,{variant:"button",style:{color:focused?_constants_colors__WEBPACK_IMPORTED_MODULE_6__.a:_constants_colors__WEBPACK_IMPORTED_MODULE_6__.j},children:"Orientation"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_material_ui_lab_ToggleButtonGroup__WEBPACK_IMPORTED_MODULE_5__.a,{value:orientation,exclusive:!0,onChange:function onChange(event,value){return onOrientationChange(value)},"aria-label":"Plot Orientation Control",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_lab_ToggleButton__WEBPACK_IMPORTED_MODULE_4__.a,{value:"vertical","aria-label":"vertical",style:{padding:"5px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_icons_FormatAlignLeft__WEBPACK_IMPORTED_MODULE_3___default.a,{style:{transform:"rotate(-90deg)",fontSize:"18px"}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_lab_ToggleButton__WEBPACK_IMPORTED_MODULE_4__.a,{value:"horizontal","aria-label":"horizontal",style:{padding:"5px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_icons_FormatAlignLeft__WEBPACK_IMPORTED_MODULE_3___default.a,{style:{fontSize:"18px"}})})]})]})}OrientationToggle.displayName="OrientationToggle";try{OrientationToggle.displayName="OrientationToggle",OrientationToggle.__docgenInfo={description:"A simple UI widget for toggling plot orientation.",displayName:"OrientationToggle",props:{orientation:{defaultValue:null,description:"Which orientation is currently selected.",name:"orientation",required:!0,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},onOrientationChange:{defaultValue:null,description:"What action to take when orientation changes.",name:"onOrientationChange",required:!0,type:{name:'(newOrientation: "vertical" | "horizontal") => void'}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to the widget container.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/OrientationToggle.tsx#OrientationToggle"]={docgenInfo:OrientationToggle.__docgenInfo,name:"OrientationToggle",path:"src/components/widgets/OrientationToggle.tsx#OrientationToggle"})}catch(__react_docgen_typescript_loader_error){}},340:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SemanticMarkers}));__webpack_require__(14);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react_leaflet__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SemanticMarkers(_ref){var onViewportChanged=_ref.onViewportChanged,markers=_ref.markers,animation=_ref.animation,_ref$recenterMarkers=_ref.recenterMarkers,recenterMarkers=void 0===_ref$recenterMarkers||_ref$recenterMarkers,map=Object(react_leaflet__WEBPACK_IMPORTED_MODULE_3__.c)().map,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(markers),2),prevMarkers=_useState2[0],setPrevMarkers=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),2),bounds=_useState4[0],setBounds=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),2),consolidatedMarkers=_useState6[0],setConsolidatedMarkers=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),2),zoomType=_useState8[0],setZoomType=_useState8[1];return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){if(null!=map)return updateMap(),map.on("resize dragend zoomend",updateMap),function(){map.off("resize dragend zoomend",updateMap)};function updateMap(){if(null!=map){var _bounds=function boundsToGeoBBox(bounds){var south=bounds.getSouth();south<-90&&(south=-90);var north=bounds.getNorth();north>90&&(north=90);var east=bounds.getEast(),west=bounds.getWest();if(east-west>360){var center=(east+west)/2;west=center-180,east=center+180}return{southWest:{lat:south,lng:west},northEast:{lat:north,lng:east}}}(map.getBounds());setBounds(_bounds);var zoomLevel=map.getZoom();onViewportChanged({bounds:constrainLongitudeToMainWorld(_bounds),zoomLevel:zoomLevel})}}}),[map,onViewportChanged]),Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){var recenteredMarkers=!1;if(recenterMarkers&&bounds&&(markers=markers.map((function(marker){for(var _marker$props$positio=marker.props.position,lat=_marker$props$positio.lat,lng=_marker$props$positio.lng,_marker$props$bounds=marker.props.bounds,_marker$props$bounds$=_marker$props$bounds.southWest,ltMin=_marker$props$bounds$.lat,lnMin=_marker$props$bounds$.lng,_marker$props$bounds$2=_marker$props$bounds.northEast,ltMax=_marker$props$bounds$2.lat,lnMax=_marker$props$bounds$2.lng,recentered=!1;lng>bounds.northEast.lng;)lng-=360,lnMax-=360,lnMin-=360,recentered=!0;for(;lng<bounds.southWest.lng;)lng+=360,lnMax+=360,lnMin+=360,recentered=!0;return recenteredMarkers=recenteredMarkers||recentered,recentered?Object(react__WEBPACK_IMPORTED_MODULE_2__.cloneElement)(marker,{position:{lat:lat,lng:lng},bounds:{southWest:{lat:ltMin,lng:lnMin},northEast:{lat:ltMax,lng:lnMax}}}):marker}))),markers.length>0&&prevMarkers.length>0&&animation&&!recenteredMarkers){var animationValues=animation.animationFunction({prevMarkers:prevMarkers,markers:markers});setZoomType(animationValues.zoomType),setConsolidatedMarkers(animationValues.markers)}else setConsolidatedMarkers(_toConsumableArray(markers));setPrevMarkers(markers)}),[markers]),Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){var timeoutVariable;return"in"==zoomType?setConsolidatedMarkers(_toConsumableArray(markers)):"out"==zoomType&&(timeoutVariable=setTimeout((function(){setConsolidatedMarkers(_toConsumableArray(markers))}),animation?animation.duration:0)),function(){return clearTimeout(timeoutVariable)}}),[zoomType]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:consolidatedMarkers})}function constrainLongitudeToMainWorld(_ref2){for(var _ref2$southWest=_ref2.southWest,south=_ref2$southWest.lat,west=_ref2$southWest.lng,_ref2$northEast=_ref2.northEast,north=_ref2$northEast.lat,newEast=_ref2$northEast.lng,newWest=west;newEast>180;)newEast-=360;for(;newEast<-180;)newEast+=360;for(;newWest<-180;)newWest+=360;for(;newWest>180;)newWest-=360;return{southWest:{lat:south,lng:newWest},northEast:{lat:north,lng:newEast}}}try{SemanticMarkers.displayName="SemanticMarkers",SemanticMarkers.__docgenInfo={description:"Renders the semantic markers layer",displayName:"SemanticMarkers",props:{onViewportChanged:{defaultValue:null,description:"",name:"onViewportChanged",required:!0,type:{name:"(bvp: BoundsViewport) => void"}},markers:{defaultValue:null,description:"",name:"markers",required:!0,type:{name:"ReactElement<BoundsDriftMarkerProps, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<...>)>[]"}},recenterMarkers:{defaultValue:{value:!0},description:"",name:"recenterMarkers",required:!1,type:{name:"boolean"}},animation:{defaultValue:null,description:"",name:"animation",required:!0,type:{name:"{ method: string; duration: number; animationFunction: AnimationFunction; } | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/SemanticMarkers.tsx#SemanticMarkers"]={docgenInfo:SemanticMarkers.__docgenInfo,name:"SemanticMarkers",path:"src/map/SemanticMarkers.tsx#SemanticMarkers"})}catch(__react_docgen_typescript_loader_error){}},342:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TabHomeConent}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);__webpack_require__(0);function TabHomeConent(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:"This is a test for making a sidebar tab contents to be a sub-comopnent of Tab-Home"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{children:["Testing props (for example, id & header):",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("br",{}),"props.id = ",props.id,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("br",{}),"props.header = ",props.header]})]})]})}try{TabHomeContent.displayName="TabHomeContent",TabHomeContent.__docgenInfo={description:"",displayName:"TabHomeContent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/TabHomeContent.tsx#TabHomeContent"]={docgenInfo:TabHomeContent.__docgenInfo,name:"TabHomeContent",path:"src/map/TabHomeContent.tsx#TabHomeContent"})}catch(__react_docgen_typescript_loader_error){}},343:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ControlsHeader}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_constants_colors__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(11));function ControlsHeader(_ref){var text=_ref.text,_ref$color=_ref.color,color=void 0===_ref$color?_constants_colors__WEBPACK_IMPORTED_MODULE_3__.j:_ref$color,_ref$styleOverrides=_ref.styleOverrides,styleOverrides=void 0===_ref$styleOverrides?{}:_ref$styleOverrides;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:Object.assign({fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontSize:"18px",textTransform:"uppercase",letterSpacing:.5,color:color,fontWeight:500},styleOverrides),children:text})}ControlsHeader.displayName="ControlsHeader";try{ControlsHeader.displayName="ControlsHeader",ControlsHeader.__docgenInfo={description:"Header for use in plot controls components.",displayName:"ControlsHeader",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},styleOverrides:{defaultValue:{value:"{}"},description:"",name:"styleOverrides",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/typography/ControlsHeader.tsx#ControlsHeader"]={docgenInfo:ControlsHeader.__docgenInfo,name:"ControlsHeader",path:"src/components/typography/ControlsHeader.tsx#ControlsHeader"})}catch(__react_docgen_typescript_loader_error){}},348:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Notification}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_material_ui_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(172)),_constants_colors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),_Button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(228);function Notification(_ref){var title=_ref.title,text=_ref.text,onAcknowledgement=_ref.onAcknowledgement,_ref$occurences=_ref.occurences,occurences=void 0===_ref$occurences?1:_ref$occurences,_ref$color=_ref.color,color=void 0===_ref$color?_constants_colors__WEBPACK_IMPORTED_MODULE_4__.e:_ref$color,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"column",backgroundColor:color,borderRadius:10,padding:10},containerStyles),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.a,{variant:"button",style:{color:"white"},children:title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{backgroundColor:"white",borderRadius:5,height:20,width:20,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{style:{color:color,fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontSize:11},children:occurences})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{style:{paddingRight:50,color:"white",fontSize:13,flexGrow:2,lineHeight:"1.1em"},children:text}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_5__.a,{text:"Ok",type:"outlined",color:"#FFFFFF",onClick:onAcknowledgement,containerStyles:{paddingTop:10,alignSelf:"flex-end"}})]})]})}Notification.displayName="Notification";try{Notification.displayName="Notification",Notification.__docgenInfo={description:"A notification widget to alert the user to some event.",displayName:"Notification",props:{title:{defaultValue:null,description:"The title of the notificatin.",name:"title",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"Text of the notification.",name:"text",required:!0,type:{name:"string"}},onAcknowledgement:{defaultValue:null,description:"Function to invoke when notification is acknowledged.",name:"onAcknowledgement",required:!0,type:{name:"() => void"}},occurences:{defaultValue:{value:1},description:"Number of times this notification has been received.",name:"occurences",required:!1,type:{name:"number"}},color:{defaultValue:null,description:"Background color for notification. Any acceptable CSS color definition.\nDefaults to LIGHT_GREEN.",name:"color",required:!1,type:{name:"string"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to the component's outer div.\nCan also be used to override existing styles on the div.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/Notification.tsx#Notification"]={docgenInfo:Notification.__docgenInfo,name:"Notification",path:"src/components/widgets/Notification.tsx#Notification"})}catch(__react_docgen_typescript_loader_error){}},351:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return legendSpecification}));var legendSpecification=function(args){var _args$horizontalPaddi,_args$horizontalPaddi2,_args$horizontalPaddi3,_args$horizontalPaddi4,_args$verticalPadding,_args$verticalPadding2,_args$verticalPadding3,_args$verticalPadding4,xPosition,yPosition;switch(args.horizontalPosition){case"left":xPosition=0+(null!==(_args$horizontalPaddi=args.horizontalPaddingAdjustment)&&void 0!==_args$horizontalPaddi?_args$horizontalPaddi:0);break;case"center":xPosition=.5+(null!==(_args$horizontalPaddi2=args.horizontalPaddingAdjustment)&&void 0!==_args$horizontalPaddi2?_args$horizontalPaddi2:0);break;case"right":xPosition=1+(null!==(_args$horizontalPaddi3=args.horizontalPaddingAdjustment)&&void 0!==_args$horizontalPaddi3?_args$horizontalPaddi3:0);break;default:xPosition=1+(null!==(_args$horizontalPaddi4=args.horizontalPaddingAdjustment)&&void 0!==_args$horizontalPaddi4?_args$horizontalPaddi4:0)}switch(args.verticalPosition){case"bottom":yPosition=0+(null!==(_args$verticalPadding=args.verticalPaddingAdjustment)&&void 0!==_args$verticalPadding?_args$verticalPadding:0);break;case"middle":yPosition=.5+(null!==(_args$verticalPadding2=args.verticalPaddingAdjustment)&&void 0!==_args$verticalPadding2?_args$verticalPadding2:0);break;case"top":yPosition=1+(null!==(_args$verticalPadding3=args.verticalPaddingAdjustment)&&void 0!==_args$verticalPadding3?_args$verticalPadding3:0);break;default:yPosition=.5+(null!==(_args$verticalPadding4=args.verticalPaddingAdjustment)&&void 0!==_args$verticalPadding4?_args$verticalPadding4:0)}return{orientation:args.orientation[0],x:xPosition,xanchor:"auto",y:yPosition,yanchor:"auto",font:args.font}}},44:function(module){module.exports=JSON.parse('{"d":[1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7],"c":300,"a":["#FFB300","#803E75","#FF6800","#A6BDD7","#C10020","#CEA262","#007D34","#F6768E","#00538A","#FF7A5C","#53377A","#FF8E00","#B32851","#F4C800","#7F180D","#93AA00","#593315","#F13A13","#232C16"],"b":["#0018A9","#3B1988","#771A66","#B21B45","#ED1C23"]}')},478:function(module){module.exports=JSON.parse('{"geohash_7":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svsk8x","count":72,"ltAvg":-17.531099999999995,"ltMin":-17.5311,"ltMax":-17.5311,"lnAvg":-149.5580000000002,"lnMin":-149.558,"lnMax":-149.558},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"88256cp","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":8},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":8,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vsf","count":8,"ltAvg":-17.771,"ltMin":-17.771,"ltMax":-17.771,"lnAvg":177.433,"lnMin":177.433,"lnMax":177.433},{"term":{"between":{"count":2},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":2,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vmr","count":2,"ltAvg":-17.768,"ltMin":-17.768,"ltMax":-17.768,"lnAvg":177.428,"lnMin":177.428,"lnMax":177.428},{"term":{"between":{"count":2},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":2,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vse","count":2,"ltAvg":-17.773,"ltMin":-17.773,"ltMax":-17.773,"lnAvg":177.434,"lnMin":177.434,"lnMax":177.434},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svekjr","count":1,"ltAvg":-17.68,"ltMin":-17.68,"ltMax":-17.68,"lnAvg":-149.58,"lnMin":-149.58,"lnMax":-149.58},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2th45k3","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4sg3","count":1,"ltAvg":-17.823,"ltMin":-17.823,"ltMax":-17.823,"lnAvg":177.398,"lnMin":177.398,"lnMax":177.398},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vyh","count":1,"ltAvg":-17.764,"ltMin":-17.764,"ltMax":-17.764,"lnAvg":177.446,"lnMin":177.446,"lnMax":177.446},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4yt2","count":1,"ltAvg":-17.769,"ltMin":-17.769,"ltMax":-17.769,"lnAvg":177.474,"lnMin":177.474,"lnMax":177.474}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_7"},"QTime":401,"status":0}},"geohash_6":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svsk8","count":72,"ltAvg":-17.531099999999995,"ltMin":-17.5311,"ltMax":-17.5311,"lnAvg":-149.5580000000002,"lnMin":-149.558,"lnMax":-149.558},{"term":{"between":{"count":10},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":10,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":2,"val":"ruy4vs","count":10,"ltAvg":-17.7714,"ltMin":-17.773,"ltMax":-17.771,"lnAvg":177.4332,"lnMin":177.433,"lnMax":177.434},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"88256c","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":2},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":2,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vm","count":2,"ltAvg":-17.768,"ltMin":-17.768,"ltMax":-17.768,"lnAvg":177.428,"lnMin":177.428,"lnMax":177.428},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svekj","count":1,"ltAvg":-17.68,"ltMin":-17.68,"ltMax":-17.68,"lnAvg":-149.58,"lnMin":-149.58,"lnMax":-149.58},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2th45k","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4sg","count":1,"ltAvg":-17.823,"ltMin":-17.823,"ltMax":-17.823,"lnAvg":177.398,"lnMin":177.398,"lnMax":177.398},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vy","count":1,"ltAvg":-17.764,"ltMin":-17.764,"ltMax":-17.764,"lnAvg":177.446,"lnMin":177.446,"lnMax":177.446},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4yt","count":1,"ltAvg":-17.769,"ltMin":-17.769,"ltMax":-17.769,"lnAvg":177.474,"lnMin":177.474,"lnMax":177.474}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_6"},"QTime":82,"status":0}},"geohash_5":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svsk","count":72,"ltAvg":-17.531099999999995,"ltMin":-17.5311,"ltMax":-17.5311,"lnAvg":-149.5580000000002,"lnMin":-149.558,"lnMax":-149.558},{"term":{"between":{"count":13},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":13,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":4,"val":"ruy4v","count":13,"ltAvg":-17.77030769230769,"ltMin":-17.773,"ltMax":-17.764,"lnAvg":177.43338461538463,"lnMin":177.428,"lnMax":177.446},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"88256","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svek","count":1,"ltAvg":-17.68,"ltMin":-17.68,"ltMax":-17.68,"lnAvg":-149.58,"lnMin":-149.58,"lnMax":-149.58},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2th45","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4s","count":1,"ltAvg":-17.823,"ltMin":-17.823,"ltMax":-17.823,"lnAvg":177.398,"lnMin":177.398,"lnMax":177.398},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4y","count":1,"ltAvg":-17.769,"ltMin":-17.769,"ltMax":-17.769,"lnAvg":177.474,"lnMin":177.474,"lnMax":177.474}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_5"},"QTime":69,"status":0}},"geohash_4":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svs","count":72,"ltAvg":-17.531099999999995,"ltMin":-17.5311,"ltMax":-17.5311,"lnAvg":-149.5580000000002,"lnMin":-149.558,"lnMax":-149.558},{"term":{"between":{"count":15},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":15,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":6,"val":"ruy4","count":15,"ltAvg":-17.77373333333333,"ltMin":-17.823,"ltMax":-17.764,"lnAvg":177.43373333333332,"lnMin":177.398,"lnMax":177.474},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"8825","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2sve","count":1,"ltAvg":-17.68,"ltMin":-17.68,"ltMax":-17.68,"lnAvg":-149.58,"lnMin":-149.58,"lnMax":-149.58},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2th4","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_4"},"QTime":65,"status":0}},"geohash_3":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":2,"val":"2sv","count":73,"ltAvg":-17.533139726027393,"ltMin":-17.68,"ltMax":-17.5311,"lnAvg":-149.55830136986322,"lnMin":-149.58,"lnMax":-149.558},{"term":{"between":{"count":15},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":15,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":6,"val":"ruy","count":15,"ltAvg":-17.77373333333333,"ltMin":-17.823,"ltMax":-17.764,"lnAvg":177.43373333333332,"lnMin":177.398,"lnMax":177.474},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"882","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2th","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_3"},"QTime":62,"status":0}},"geohash_2":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":2,"val":"2s","count":73,"ltAvg":-17.533139726027393,"ltMin":-17.68,"ltMax":-17.5311,"lnAvg":-149.55830136986322,"lnMin":-149.58,"lnMax":-149.558},{"term":{"between":{"count":15},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":15,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":6,"val":"ru","count":15,"ltAvg":-17.77373333333333,"ltMin":-17.823,"ltMax":-17.764,"lnAvg":177.43373333333332,"lnMin":177.398,"lnMax":177.474},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"88","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2t","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_2"},"QTime":4,"status":0}},"geohash_1":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":2},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":3,"val":"2","count":74,"ltAvg":-17.519178378378374,"ltMin":-17.68,"ltMax":-16.5,"lnAvg":-149.58764864864887,"lnMin":-151.73,"lnMax":-149.558},{"term":{"between":{"count":15},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":15,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":6,"val":"r","count":15,"ltAvg":-17.77373333333333,"ltMin":-17.823,"ltMax":-17.764,"lnAvg":177.43373333333332,"lnMin":177.398,"lnMax":177.474},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"8","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_1"},"QTime":549,"status":0}}}')},49:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return Tab})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Sidebar}));__webpack_require__(57),__webpack_require__(14),__webpack_require__(1406);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),re_resizable__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(1407),__webpack_require__(685));function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var resizeRightOnly={top:!1,right:!0,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1};function Tab(props){var closeIcon,active=props.active?" active":"";if("string"==typeof props.closeIcon)closeIcon=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("i",{className:props.closeIcon});else if("object"===_typeof(props.closeIcon))closeIcon=props.closeIcon;else{var closecls="right"===props.position?"fas fa-caret-right":"fas fa-caret-left";closeIcon=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("i",{className:closecls})}return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{id:props.id,className:"leaflet-sidebar-pane"+active,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("h1",{className:"leaflet-sidebar-header",children:[props.header,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"leaflet-sidebar-close",onClick:props.onClose,children:closeIcon})]}),props.children]})}function Sidebar(props){function onClose(e){e.preventDefault(),e.stopPropagation(),props.onClose&&props.onClose()}function onOpen(e,tabid){e.preventDefault(),e.stopPropagation(),props.onOpen&&props.onOpen(tabid)}function renderTab(tab){var icon;"string"==typeof tab.props.icon?icon=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("i",{className:tab.props.icon}):"object"===_typeof(tab.props.icon)&&(icon=tab.props.icon);var active=tab.props.id===props.selected?" active":"",disabled=tab.props.disabled?" disabled":"";return tab.props.disabled&&tab.props.divider?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("li",{className:"sidebartabs"+active+disabled,title:tab.props.header,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("a",{href:"#"+tab.props.id,role:"tab",onClick:function onClick(e){return tab.props.disabled||onOpen(e,tab.props.id)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{src:"./img/line-divider.png"})})},tab.props.id):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("li",{className:"sidebartabs"+active+disabled,title:tab.props.header,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("a",{href:"#"+tab.props.id,role:"tab",onClick:function onClick(e){return tab.props.disabled||onOpen(e,tab.props.id)},children:icon})},tab.props.id)}var position=" leaflet-sidebar-"+(props.position||"left"),collapsed=props.collapsed?" collapsed":"",allTabs=react__WEBPACK_IMPORTED_MODULE_4___default.a.Children.toArray(props.children).filter((function(c){return!!c})),bottomtabs=allTabs.filter((function(tab){return"bottom"===tab.props.anchor})),toptabs=allTabs.filter((function(tab){return"bottom"!==tab.props.anchor}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{id:props.id,className:"leaflet-sidebar leaflet-touch"+position+collapsed,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"leaflet-sidebar-tabs",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("ul",{role:"tablist",children:[" ",toptabs.map((function(toptab){return renderTab(toptab)}))]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("ul",{role:"tablist",children:[" ",bottomtabs.map((function(bottomtab){return renderTab(bottomtab)}))]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(re_resizable__WEBPACK_IMPORTED_MODULE_6__.a,{className:"leaflet-sidebar-content",minWidth:420,enable:resizeRightOnly,children:[function renderPanes(children){return react__WEBPACK_IMPORTED_MODULE_4___default.a.Children.map(children,(function(p){return react__WEBPACK_IMPORTED_MODULE_4___default.a.cloneElement(p,{onClose:onClose,closeIcon:props.closeIcon,active:p.props.id===props.selected,position:props.position||"left"})}))}(allTabs),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"ui-resizable-e fas fa-grip-lines-vertical"})]})]})}Tab.displayName="Tab",Sidebar.displayName="Sidebar";try{Tab.displayName="Tab",Tab.__docgenInfo={description:"",displayName:"Tab",props:{divider:{defaultValue:null,description:"",name:"divider",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"Icon"}},anchor:{defaultValue:null,description:"",name:"anchor",required:!1,type:{name:'"top" | "bottom"'}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},closeIcon:{defaultValue:null,description:"",name:"closeIcon",required:!1,type:{name:"string | ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<any, any, any>)>"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:'"left" | "right"'}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/Sidebar.tsx#Tab"]={docgenInfo:Tab.__docgenInfo,name:"Tab",path:"src/map/Sidebar.tsx#Tab"})}catch(__react_docgen_typescript_loader_error){}try{Sidebar.displayName="Sidebar",Sidebar.__docgenInfo={description:"",displayName:"Sidebar",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},collapsed:{defaultValue:null,description:"",name:"collapsed",required:!0,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"string"}},closeIcon:{defaultValue:null,description:"",name:"closeIcon",required:!1,type:{name:"string | ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<any, any, any>)>"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"((id: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/Sidebar.tsx#Sidebar"]={docgenInfo:Sidebar.__docgenInfo,name:"Sidebar",path:"src/map/Sidebar.tsx#Sidebar"})}catch(__react_docgen_typescript_loader_error){}},52:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return NumberInput})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DateInput}));__webpack_require__(251),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_material_ui_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(172),_material_ui_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1443),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(689),_constants_colors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11),lodash__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(90);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function NumberInput(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseInput,Object.assign({},props,{valueType:"number"}))}function DateInput(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseInput,Object.assign({},props,{valueType:"date"}))}function BaseInput(_ref){var value=_ref.value,minValue=_ref.minValue,maxValue=_ref.maxValue,_ref$required=_ref.required,required=void 0!==_ref$required&&_ref$required,onValueChange=_ref.onValueChange,label=_ref.label,valueType=_ref.valueType,containerStyles=_ref.containerStyles,_ref$displayRangeViol=_ref.displayRangeViolationWarnings,displayRangeViolationWarnings=void 0===_ref$displayRangeViol||_ref$displayRangeViol,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(value),2),localValue=_useState2[0],setLocalValue=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),2),focused=_useState4[0],setFocused=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)({error:!1,helperText:""}),2),errorState=_useState6[0],setErrorState=_useState6[1],classes=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__.a)({root:{height:32}})(),debouncedOnChange=Object(react__WEBPACK_IMPORTED_MODULE_3__.useMemo)((function(){return Object(lodash__WEBPACK_IMPORTED_MODULE_8__.debounce)(onValueChange,500)}),[onValueChange]);Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){return debouncedOnChange.cancel}),[]);var boundsCheckedValue=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(newValue){return null==newValue?(required&&setErrorState({error:!0,helperText:"Please enter a ".concat(valueType,".")}),!required):void 0!==minValue&&newValue<minValue?(newValue=minValue,setErrorState({error:!0,helperText:"Sorry, value can't go below ".concat(minValue,"!")}),!1):void 0!==maxValue&&newValue>maxValue?(newValue=maxValue,setErrorState({error:!0,helperText:"Sorry, value can't go above ".concat(maxValue,"!")}),!1):(setErrorState({error:!1,helperText:""}),!0)}),[required,minValue,maxValue]);Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){boundsCheckedValue(value),value!==localValue&&setLocalValue(value)}),[value,boundsCheckedValue]);var handleChange=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(event){var newValue=""===event.target.value?void 0:"number"===valueType?Number(event.target.value):String(event.target.value);setLocalValue(newValue),boundsCheckedValue(newValue)?debouncedOnChange(newValue):debouncedOnChange.flush()}),[boundsCheckedValue,debouncedOnChange]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:Object.assign({},containerStyles),onMouseOver:function onMouseOver(){return setFocused(!0)},onMouseOut:function onMouseOut(){return setFocused(!1)},children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.a,{variant:"button",style:{color:focused?_constants_colors__WEBPACK_IMPORTED_MODULE_7__.a:_constants_colors__WEBPACK_IMPORTED_MODULE_7__.j},children:label}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a,{InputProps:{classes:classes},value:null==localValue?"":"number"===valueType?localValue:null==localValue?void 0:localValue.substr(0,10),type:valueType,variant:"outlined",onChange:handleChange,onFocus:function onFocus(event){return event.currentTarget.select()},error:errorState.error,helperText:displayRangeViolationWarnings&&errorState.helperText})})]})}NumberInput.displayName="NumberInput",DateInput.displayName="DateInput",BaseInput.displayName="BaseInput";try{NumberInput.displayName="NumberInput",NumberInput.__docgenInfo={description:"",displayName:"NumberInput",props:{value:{defaultValue:null,description:"Externally controlled value.",name:"value",required:!1,type:{name:"number"}},minValue:{defaultValue:null,description:"Minimum allowed value (inclusive)",name:"minValue",required:!1,type:{name:"number"}},maxValue:{defaultValue:null,description:"Maximum allowed value (inclusive)",name:"maxValue",required:!1,type:{name:"number"}},required:{defaultValue:null,description:"If true, warn about empty value. Default is false.",name:"required",required:!1,type:{name:"boolean"}},onValueChange:{defaultValue:null,description:"Function to invoke when value changes.",name:"onValueChange",required:!0,type:{name:"(newValue?: string | number | undefined) => void"}},label:{defaultValue:null,description:"UI Label for the widget. Optional",name:"label",required:!1,type:{name:"string"}},containerStyles:{defaultValue:null,description:"Additional styles for component container. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},displayRangeViolationWarnings:{defaultValue:null,description:"Do not flag up value range violations",name:"displayRangeViolationWarnings",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/NumberAndDateInputs.tsx#NumberInput"]={docgenInfo:NumberInput.__docgenInfo,name:"NumberInput",path:"src/components/widgets/NumberAndDateInputs.tsx#NumberInput"})}catch(__react_docgen_typescript_loader_error){}try{DateInput.displayName="DateInput",DateInput.__docgenInfo={description:"",displayName:"DateInput",props:{value:{defaultValue:null,description:"Externally controlled value.",name:"value",required:!1,type:{name:"string"}},minValue:{defaultValue:null,description:"Minimum allowed value (inclusive)",name:"minValue",required:!1,type:{name:"string"}},maxValue:{defaultValue:null,description:"Maximum allowed value (inclusive)",name:"maxValue",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"If true, warn about empty value. Default is false.",name:"required",required:!1,type:{name:"boolean"}},onValueChange:{defaultValue:null,description:"Function to invoke when value changes.",name:"onValueChange",required:!0,type:{name:"(newValue?: string | number | undefined) => void"}},label:{defaultValue:null,description:"UI Label for the widget. Optional",name:"label",required:!1,type:{name:"string"}},containerStyles:{defaultValue:null,description:"Additional styles for component container. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},displayRangeViolationWarnings:{defaultValue:null,description:"Do not flag up value range violations",name:"displayRangeViolationWarnings",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/NumberAndDateInputs.tsx#DateInput"]={docgenInfo:DateInput.__docgenInfo,name:"DateInput",path:"src/components/widgets/NumberAndDateInputs.tsx#DateInput"})}catch(__react_docgen_typescript_loader_error){}},634:function(module,exports,__webpack_require__){var api=__webpack_require__(209),content=__webpack_require__(1321);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},648:function(module,__webpack_exports__,__webpack_require__){"use strict";var leaflet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),leaflet__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_0__);delete leaflet__WEBPACK_IMPORTED_MODULE_0___default.a.Icon.Default.prototype._getIconUrl,leaflet__WEBPACK_IMPORTED_MODULE_0___default.a.Icon.Default.mergeOptions({iconRetinaUrl:__webpack_require__(1359),iconUrl:__webpack_require__(633),shadowUrl:__webpack_require__(1360)})},654:function(module,exports,__webpack_require__){var api=__webpack_require__(209),content=__webpack_require__(1371);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},700:function(module,exports,__webpack_require__){__webpack_require__(701),__webpack_require__(868),__webpack_require__(869),__webpack_require__(1022),__webpack_require__(1241),__webpack_require__(1274),__webpack_require__(1286),__webpack_require__(1288),__webpack_require__(1293),module.exports=__webpack_require__(1299)},772:function(module,exports){},81:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MapVEuMap}));__webpack_require__(14);var jsx_runtime=__webpack_require__(1),react=__webpack_require__(0),LayersControl=__webpack_require__(463),Map=__webpack_require__(338),TileLayer=__webpack_require__(473),SemanticMarkers=__webpack_require__(340),context=(__webpack_require__(632),__webpack_require__(634),__webpack_require__(18),__webpack_require__(48),__webpack_require__(32),__webpack_require__(15),__webpack_require__(104),__webpack_require__(51),__webpack_require__(20)),Rectangle=__webpack_require__(475),Polyline=__webpack_require__(647),latlon_geohash=__webpack_require__(341),leaflet_src=__webpack_require__(12),leaflet_src_default=__webpack_require__.n(leaflet_src),config_map=__webpack_require__(44);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var shape2geohash=__webpack_require__(1322);function CustomGridLayer(){var map=Object(context.c)().map,_useState2=_slicedToArray(Object(react.useState)([]),2),geohashes=_useState2[0],setGeohashes=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(null),2),mapBounds=_useState4[0],setMapBounds=_useState4[1],polylines=[],blinkers=[];if(Object(react.useEffect)((function(){if(null!=map)return updateMap(),map.on("resize dragend zoomend",updateMap),function(){map.off("resize dragend zoomend",updateMap)};function updateMap(){if(null!=map){var zoomLevel=map.getZoom(),geohashLevel=config_map.d[zoomLevel],currentMapBounds=map.getBounds(),west=currentMapBounds.getWest(),east=currentMapBounds.getEast();if(east-west>360){var middle=(east+west)/2;east=middle+180,west=middle-180}for(var longitudeCorrection=0;west+longitudeCorrection>180;)longitudeCorrection-=360;for(;east+longitudeCorrection<-180;)longitudeCorrection+=360;setMapBounds(currentMapBounds);var shapes=west+longitudeCorrection>=-180&&east+longitudeCorrection<=180?[[[east+longitudeCorrection,currentMapBounds.getNorth()],[west+longitudeCorrection,currentMapBounds.getNorth()],[west+longitudeCorrection,currentMapBounds.getSouth()],[east+longitudeCorrection,currentMapBounds.getSouth()],[east+longitudeCorrection,currentMapBounds.getNorth()]]]:west+longitudeCorrection<-180?[[[[180,currentMapBounds.getNorth()],[west+longitudeCorrection+360,currentMapBounds.getNorth()],[west+longitudeCorrection+360,currentMapBounds.getSouth()],[180,currentMapBounds.getSouth()],[180,currentMapBounds.getNorth()]]],[[[-180,currentMapBounds.getNorth()],[east+longitudeCorrection,currentMapBounds.getNorth()],[east+longitudeCorrection,currentMapBounds.getSouth()],[-180,currentMapBounds.getSouth()],[-180,currentMapBounds.getNorth()]]]]:east+longitudeCorrection>180?[[[[180,currentMapBounds.getNorth()],[west+longitudeCorrection,currentMapBounds.getNorth()],[west+longitudeCorrection,currentMapBounds.getSouth()],[180,currentMapBounds.getSouth()],[180,currentMapBounds.getNorth()]]],[[[-180,currentMapBounds.getNorth()],[east+longitudeCorrection-360,currentMapBounds.getNorth()],[east+longitudeCorrection-360,currentMapBounds.getSouth()],[-180,currentMapBounds.getSouth()],[-180,currentMapBounds.getNorth()]]]]:[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];Promise.resolve(shape2geohash(shapes,{precision:geohashLevel})).then((function(value){setGeohashes(value)}))}}}),[map]),null!=mapBounds){var west=mapBounds.getWest(),east=mapBounds.getEast(),adjustedWest=west,adjustedEast=east,eastWestDiff=east-west;if(eastWestDiff>360){var middle=(east+west)/2;adjustedEast=middle+181,adjustedWest=middle-181;var wideRenderer=leaflet_src_default.a.svg({padding:2});blinkers=[Object(jsx_runtime.jsx)(Rectangle.a,{bounds:[[-90,east+1.5*eastWestDiff],[90,adjustedEast]],stroke:!1,color:"black",fillOpacity:.3,renderer:wideRenderer,interactive:!1},"east-blinker"),Object(jsx_runtime.jsx)(Rectangle.a,{bounds:[[-90,west-1.5*eastWestDiff],[90,adjustedWest]],stroke:!1,color:"black",fillOpacity:.3,renderer:wideRenderer,interactive:!1},"west-blinker")]}var lats=[],lons=[];geohashes.forEach((function(geohash){var latlon=latlon_geohash.a.bounds(geohash);lats.indexOf(latlon.ne.lat)<0&&lats.push(latlon.ne.lat),lats.indexOf(latlon.sw.lat)<0&&lats.push(latlon.sw.lat),lons.indexOf(latlon.ne.lon)<0&&lons.push(latlon.ne.lon),lons.indexOf(latlon.sw.lon)<0&&lons.push(latlon.sw.lon)}));var latLines=lats.map((function(lat,index){return Object(jsx_runtime.jsx)(Polyline.a,{color:"gray",positions:[[lat,adjustedEast],[lat,adjustedWest]],opacity:.8,weight:1,dashArray:[10],interactive:!1},"lat-".concat(lat,"-").concat(index))})),lonLines=lons.map((function(lon,index){for(var adjustedLon=lon,opacity=.8;adjustedLon>adjustedEast;)adjustedLon-=360,180==lon&&(opacity=0);for(;adjustedLon<adjustedWest;)adjustedLon+=360,-180==lon&&(opacity=0);return Object(jsx_runtime.jsx)(Polyline.a,{color:"gray",positions:[[mapBounds.getNorth(),adjustedLon],[mapBounds.getSouth(),adjustedLon]],opacity:opacity,weight:1,dashArray:[10],interactive:!1},"lon-".concat(adjustedLon,"-").concat(index))}));polylines=[].concat(_toConsumableArray(latLines),_toConsumableArray(lonLines))}return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[polylines,blinkers]})}try{CustomGridLayer.displayName="CustomGridLayer",CustomGridLayer.__docgenInfo={description:"Renders a custom grid layer made up of Polyline components that have boundaries associated\nwith the geohashes available in the current map boundaries.",displayName:"CustomGridLayer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/CustomGridLayer.tsx#CustomGridLayer"]={docgenInfo:CustomGridLayer.__docgenInfo,name:"CustomGridLayer",path:"src/map/CustomGridLayer.tsx#CustomGridLayer"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(8),__webpack_require__(23),__webpack_require__(13);var mouseModeConfig=[{name:"default",icon:"fa-hand-point-up",description:"Default mouse mode"},{name:"magnification",icon:"fa-search",description:"Magnification mode: Mouse over a marker to magnify it"}];mouseModeConfig.map((function(mode){return mode.name}));function MouseTools(props){var buttons=mouseModeConfig.map((function(mode){return Object(jsx_runtime.jsx)("a",{role:"button",onClick:function onClick(){return props.setMouseMode(mode.name)},className:"mapveu-button"+(props.mouseMode===mode.name?" mapveu-button-selected":""),title:mode.description,children:Object(jsx_runtime.jsx)("i",{className:"fas ".concat(mode.icon)})},mode.name)}));return Object(jsx_runtime.jsx)("div",{className:"leaflet-control-container",children:Object(jsx_runtime.jsx)("div",{className:"leaflet-top leaflet-right",children:Object(jsx_runtime.jsx)("span",{className:"mouse-toolbar leaflet-bar mapveu-hori-bar leaflet-control leaflet-touch",children:buttons})})})}MouseTools.displayName="MouseTools";try{MouseTools.displayName="MouseTools",MouseTools.__docgenInfo={description:"",displayName:"MouseTools",props:{mouseMode:{defaultValue:null,description:"",name:"mouseMode",required:!0,type:{name:"enum",value:[{value:'"default"'},{value:'"magnification"'}]}},setMouseMode:{defaultValue:null,description:"",name:"setMouseMode",required:!0,type:{name:'(mode: "default" | "magnification") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/MouseTools.tsx#MouseTools"]={docgenInfo:MouseTools.__docgenInfo,name:"MouseTools",path:"src/map/MouseTools.tsx#MouseTools"})}catch(__react_docgen_typescript_loader_error){}function MapVEuMap_slicedToArray(arr,i){return function MapVEuMap_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MapVEuMap_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function MapVEuMap_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return MapVEuMap_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MapVEuMap_arrayLikeToArray(o,minLen)}(arr,i)||function MapVEuMap_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MapVEuMap_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BaseLayer=LayersControl.b.BaseLayer;function MapVEuMap(_ref){var viewport=_ref.viewport,height=_ref.height,width=_ref.width,onViewportChanged=_ref.onViewportChanged,markers=_ref.markers,animation=_ref.animation,_ref$recenterMarkers=_ref.recenterMarkers,recenterMarkers=void 0===_ref$recenterMarkers||_ref$recenterMarkers,showGrid=_ref.showGrid,showMouseToolbar=_ref.showMouseToolbar,_useState2=MapVEuMap_slicedToArray(Object(react.useState)(viewport),2),state=_useState2[0],updateState=_useState2[1],_useState4=MapVEuMap_slicedToArray(Object(react.useState)("default"),2),mouseMode=_useState4[0],setMouseMode=_useState4[1],_useState6=MapVEuMap_slicedToArray(Object(react.useState)(!1),2),isDragging=_useState6[0],setIsDragging=_useState6[1];return"magnification"!==mouseMode||isDragging||(markers=markers.map((function(marker){return Object(react.cloneElement)(marker,{showPopup:!0})}))),Object(jsx_runtime.jsxs)(Map.a,{viewport:state,style:{height:height,width:width},onViewportChanged:function handleViewportChanged(viewport){updateState(viewport)},className:"magnification"===mouseMode?"cursor-zoom-in":"",minZoom:2,worldCopyJump:!1,ondragstart:function ondragstart(){return setIsDragging(!0)},ondragend:function ondragend(){return setIsDragging(!1)},children:[Object(jsx_runtime.jsx)(TileLayer.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Object(jsx_runtime.jsx)(SemanticMarkers.a,{onViewportChanged:onViewportChanged,markers:markers,animation:animation,recenterMarkers:recenterMarkers}),showMouseToolbar&&Object(jsx_runtime.jsx)(MouseTools,{mouseMode:mouseMode,setMouseMode:setMouseMode}),showGrid?Object(jsx_runtime.jsx)(CustomGridLayer,{}):null,Object(jsx_runtime.jsxs)(LayersControl.b,{position:"topright",children:[Object(jsx_runtime.jsx)(BaseLayer,{checked:!0,name:"street",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles Â© Esri â Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"})}),Object(jsx_runtime.jsx)(BaseLayer,{name:"terrain",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> â Map data Â© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd"})}),Object(jsx_runtime.jsx)(BaseLayer,{name:"satellite",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles Â© Esri â Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",bounds:[[-90,-180],[90,180]],noWrap:!0})}),Object(jsx_runtime.jsx)(BaseLayer,{name:"light",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",attribution:'Â© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'})}),Object(jsx_runtime.jsx)(BaseLayer,{name:"dark",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}{r}.png",attribution:'Â© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> Â© <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd"})}),Object(jsx_runtime.jsx)(BaseLayer,{name:"OSM",children:Object(jsx_runtime.jsx)(TileLayer.a,{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>'})})]})]})}MapVEuMap.displayName="MapVEuMap";try{MapVEuMap.displayName="MapVEuMap",MapVEuMap.__docgenInfo={description:"",displayName:"MapVEuMap",props:{viewport:{defaultValue:null,description:"Center lat/long and zoom level",name:"viewport",required:!0,type:{name:"Viewport"}},height:{defaultValue:null,description:"Height and width of plot element",name:"height",required:!0,type:{name:"string | number | (string & {}) | undefined"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string | number | (string & {}) | undefined"}},onViewportChanged:{defaultValue:null,description:"",name:"onViewportChanged",required:!0,type:{name:"(bvp: BoundsViewport) => void"}},markers:{defaultValue:null,description:"",name:"markers",required:!0,type:{name:"ReactElement<BoundsDriftMarkerProps, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<...>)>[]"}},recenterMarkers:{defaultValue:{value:!0},description:"",name:"recenterMarkers",required:!1,type:{name:"boolean"}},sidebarOnClose:{defaultValue:null,description:"",name:"sidebarOnClose",required:!1,type:{name:"((value: SetStateAction<boolean>) => void)"}},animation:{defaultValue:null,description:"",name:"animation",required:!0,type:{name:"{ method: string; duration: number; animationFunction: AnimationFunction; } | null"}},showGrid:{defaultValue:null,description:"",name:"showGrid",required:!0,type:{name:"boolean"}},showMouseToolbar:{defaultValue:null,description:"",name:"showMouseToolbar",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/MapVEuMap.tsx#MapVEuMap"]={docgenInfo:MapVEuMap.__docgenInfo,name:"MapVEuMap",path:"src/map/MapVEuMap.tsx#MapVEuMap"})}catch(__react_docgen_typescript_loader_error){}},869:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(529)},87:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ModebarDefault})),__webpack_require__.d(__webpack_exports__,"b",(function(){return PlotlyPlot}));__webpack_require__(4),__webpack_require__(15),__webpack_require__(104);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),ModebarDefault="hover",config={responsive:!0},Plot=Object(react__WEBPACK_IMPORTED_MODULE_4__.lazy)((function(){return __webpack_require__.e(3).then(__webpack_require__.t.bind(null,1447,7))}));function PlotlyPlot(props){var finalStyle=Object(react__WEBPACK_IMPORTED_MODULE_4__.useMemo)((function(){return Object.assign({height:"100%",width:"100%"},props.style)}),[props.style]),finalConfig=Object(react__WEBPACK_IMPORTED_MODULE_4__.useMemo)((function(){return Object.assign({},config,props.config)}),[props.config]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_4__.Suspense,{fallback:"Loading...",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Plot,Object.assign({},props,{style:finalStyle,config:finalConfig}))})}PlotlyPlot.displayName="PlotlyPlot";try{PlotlyPlot.displayName="PlotlyPlot",PlotlyPlot.__docgenInfo={description:"Wrapper over the `react-plotly.js` `Plot` component",displayName:"PlotlyPlot",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/PlotlyPlot.tsx#PlotlyPlot"]={docgenInfo:PlotlyPlot.__docgenInfo,name:"PlotlyPlot",path:"src/plots/PlotlyPlot.tsx#PlotlyPlot"})}catch(__react_docgen_typescript_loader_error){}},91:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return NumberRangeInput})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DateRangeInput}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_material_ui_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(172),_constants_colors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(52);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function NumberRangeInput(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BaseInput,Object.assign({},props,{valueType:"number"}))}function DateRangeInput(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BaseInput,Object.assign({},props,{valueType:"date"}))}function BaseInput(_ref){var range=_ref.range,_ref$required=_ref.required,required=void 0!==_ref$required&&_ref$required,rangeBounds=_ref.rangeBounds,onRangeChange=_ref.onRangeChange,label=_ref.label,_ref$lowerLabel=_ref.lowerLabel,lowerLabel=void 0===_ref$lowerLabel?"Min":_ref$lowerLabel,_ref$upperLabel=_ref.upperLabel,upperLabel=void 0===_ref$upperLabel?"Max":_ref$upperLabel,valueType=_ref.valueType,containerStyles=_ref.containerStyles,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),2),focused=_useState2[0],setFocused=_useState2[1],_ref2=null!=range?range:{},min=_ref2.min,max=_ref2.max;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:Object.assign({},containerStyles),onMouseOver:function onMouseOver(){return setFocused(!0)},onMouseOut:function onMouseOut(){return setFocused(!1)},children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.a,{variant:"button",style:{color:focused?_constants_colors__WEBPACK_IMPORTED_MODULE_4__.a:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.j},children:label}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:["number"===valueType?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_5__.b,{value:min,minValue:null==rangeBounds?void 0:rangeBounds.min,maxValue:null!=max?max:null==rangeBounds?void 0:rangeBounds.max,label:lowerLabel,required:required,onValueChange:function onValueChange(newValue){void 0!==newValue&&onRangeChange&&onRangeChange({min:newValue,max:max})}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_5__.a,{value:min,minValue:null==rangeBounds?void 0:rangeBounds.min,maxValue:null!=max?max:null==rangeBounds?void 0:rangeBounds.max,label:lowerLabel,required:required,onValueChange:function onValueChange(newValue){void 0!==newValue&&onRangeChange&&onRangeChange({min:newValue,max:max})}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{margin:"3px 15px 15px 15px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.a,{variant:"button",style:{color:focused?_constants_colors__WEBPACK_IMPORTED_MODULE_4__.a:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.j},children:"to"})})}),"number"===valueType?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_5__.b,{value:max,minValue:null!=min?min:null==rangeBounds?void 0:rangeBounds.min,maxValue:null==rangeBounds?void 0:rangeBounds.max,label:upperLabel,required:required,onValueChange:function onValueChange(newValue){void 0!==newValue&&onRangeChange&&onRangeChange({min:min,max:newValue})}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_5__.a,{value:max,minValue:null!=min?min:null==rangeBounds?void 0:rangeBounds.min,maxValue:null==rangeBounds?void 0:rangeBounds.max,label:upperLabel,required:required,onValueChange:function onValueChange(newValue){void 0!==newValue&&onRangeChange&&onRangeChange({min:min,max:newValue})}})]})]})}NumberRangeInput.displayName="NumberRangeInput",DateRangeInput.displayName="DateRangeInput",BaseInput.displayName="BaseInput";try{NumberRangeInput.displayName="NumberRangeInput",NumberRangeInput.__docgenInfo={description:"",displayName:"NumberRangeInput",props:{range:{defaultValue:null,description:"Externally controlled range.",name:"range",required:!0,type:{name:"NumberRange"}},required:{defaultValue:null,description:"If true, warn about empty lower or upper values. Default is false",name:"required",required:!1,type:{name:"boolean"}},onRangeChange:{defaultValue:null,description:"Function to invoke when range changes.",name:"onRangeChange",required:!0,type:{name:"(newRange: NumberOrDateRange) => void"}},rangeBounds:{defaultValue:null,description:"Minimum and maximum allowed values for the user-inputted range. Optional.",name:"rangeBounds",required:!1,type:{name:"NumberRange"}},label:{defaultValue:null,description:"UI Label for the widget. Optional",name:"label",required:!1,type:{name:"string"}},lowerLabel:{defaultValue:null,description:"Label for lower bound widget. Optional. Default is Min",name:"lowerLabel",required:!1,type:{name:"string"}},upperLabel:{defaultValue:null,description:"Label for upper bound widget. Optional. Default is Max",name:"upperLabel",required:!1,type:{name:"string"}},containerStyles:{defaultValue:null,description:"Additional styles for component container. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/NumberAndDateRangeInputs.tsx#NumberRangeInput"]={docgenInfo:NumberRangeInput.__docgenInfo,name:"NumberRangeInput",path:"src/components/widgets/NumberAndDateRangeInputs.tsx#NumberRangeInput"})}catch(__react_docgen_typescript_loader_error){}try{DateRangeInput.displayName="DateRangeInput",DateRangeInput.__docgenInfo={description:"",displayName:"DateRangeInput",props:{range:{defaultValue:null,description:"Externally controlled range.",name:"range",required:!0,type:{name:"DateRange"}},required:{defaultValue:null,description:"If true, warn about empty lower or upper values. Default is false",name:"required",required:!1,type:{name:"boolean"}},onRangeChange:{defaultValue:null,description:"Function to invoke when range changes.",name:"onRangeChange",required:!0,type:{name:"(newRange: NumberOrDateRange) => void"}},rangeBounds:{defaultValue:null,description:"Minimum and maximum allowed values for the user-inputted range. Optional.",name:"rangeBounds",required:!1,type:{name:"DateRange"}},label:{defaultValue:null,description:"UI Label for the widget. Optional",name:"label",required:!1,type:{name:"string"}},lowerLabel:{defaultValue:null,description:"Label for lower bound widget. Optional. Default is Min",name:"lowerLabel",required:!1,type:{name:"string"}},upperLabel:{defaultValue:null,description:"Label for upper bound widget. Optional. Default is Max",name:"upperLabel",required:!1,type:{name:"string"}},containerStyles:{defaultValue:null,description:"Additional styles for component container. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/NumberAndDateRangeInputs.tsx#DateRangeInput"]={docgenInfo:DateRangeInput.__docgenInfo,name:"DateRangeInput",path:"src/components/widgets/NumberAndDateRangeInputs.tsx#DateRangeInput"})}catch(__react_docgen_typescript_loader_error){}},97:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return usePlotControls}));__webpack_require__(18),__webpack_require__(57),__webpack_require__(652),__webpack_require__(48),__webpack_require__(653),__webpack_require__(4),__webpack_require__(51),__webpack_require__(76);var react=__webpack_require__(0),dist=__webpack_require__(683),dist_default=__webpack_require__.n(dist);__webpack_require__(181),__webpack_require__(17),__webpack_require__(15),__webpack_require__(27);function isHistogramData(data){return!!("series"in data&&"length"in data.series&&data.series.length&&"bins"in data.series[0])}function isDate(date){return"Invalid Date"!==new Date(date).toString()}var date_arithmetic=__webpack_require__(98),lodash=__webpack_require__(90);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function reducer(state,action){var _state$histogram,_state$histogram2;switch(action.type){case"errors/add":return Object.assign({},state,{errors:[].concat(_toConsumableArray(state.errors),[action.payload])});case"errors/remove":return Object.assign({},state,{errors:state.errors.filter((function(error){return error.message!==action.payload.message}))});case"errors/clear":return Object.assign({},state,{errors:[]});case"setData":return Object.assign({},state,{data:action.payload});case"setBarLayout":return Object.assign({},state,{barLayout:action.payload});case"histogram/setBinWidth":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{binWidth:action.payload})});case"histogram/setBinWidthRange":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{binWidthRange:action.payload})});case"histogram/setBinWidthStep":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{binWidthStep:action.payload})});case"setOpacity":return Object.assign({},state,{opacity:action.payload});case"resetOpacity":return Object.assign({},state,{opacity:1});case"setSelectedUnit":return Object.assign({},state,{selectedUnit:action.payload});case"toggleDisplayLegend":return Object.assign({},state,{displayLegend:!0!==state.displayLegend});case"toggleLibraryControls":return Object.assign({},state,{displayLibraryControls:!0!==state.displayLibraryControls});case"toggleOrientation":return Object.assign({},state,{orientation:"vertical"===state.orientation?"horizontal":"vertical"});case"histogram/setSelectedRange":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{selectedRange:action.payload})});case"histogram/toggleDependentAxisLogScale":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{dependentAxisLogScale:!0!==(null==state||null===(_state$histogram=state.histogram)||void 0===_state$histogram?void 0:_state$histogram.dependentAxisLogScale)})});case"histogram/onDependentAxisRangeChange":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{dependentAxisRange:action.payload})});case"histogram/onDependentAxisModeChange":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{dependentAxisMode:"absolute"===(null==state||null===(_state$histogram2=state.histogram)||void 0===_state$histogram2?void 0:_state$histogram2.dependentAxisMode)?"relative":"absolute"})});case"histogram/onIndependentAxisRangeChange":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{independentAxisRange:action.payload})});case"histogram/onDependentAxisRangeReset":case"histogram/onIndependentAxisRangeReset":return Object.assign({},state,{histogram:Object.assign({},state.histogram)});case"onResetAll":return Object.assign({},state);default:throw new Error}}function usePlotControls(params){var _params$histogram8,_params$data$availabl,_params$data$selected,initialState={data:params.data,errors:[],displayLegend:!0,displayLibraryControls:!1,opacity:1,orientation:"vertical",barLayout:"overlay",histogram:{binWidth:0,binWidthRange:{min:0,max:0},binWidthStep:0,displaySelectedRangeControls:!1,dependentAxisLogScale:!1,dependentAxisMode:"absolute"}};(function isPiePlotData(data){return!!("slices"in data&&"length"in data.slices&&data.slices.length&&"value"in data.slices[0]&&"label"in data.slices[0])}(params.data)||isHistogramData(params.data))&&(initialState.availableUnits=null!==(_params$data$availabl=params.data.availableUnits)&&void 0!==_params$data$availabl?_params$data$availabl:[],initialState.selectedUnit=null!==(_params$data$selected=params.data.selectedUnit)&&void 0!==_params$data$selected?_params$data$selected:"");if(isHistogramData(params.data)){var _params$histogram,_params$data$binWidth,_ref,_params$histogram$bin,_params$histogram2,_params$histogram3,_params$histogram4,binWidthRange;if(null!==(_params$histogram=params.histogram)&&void 0!==_params$histogram&&_params$histogram.binWidthRange)binWidthRange=params.histogram.binWidthRange;else if(params.data.binWidthRange)binWidthRange=params.data.binWidthRange;else{var lowBinValue=null,highBinValue=null;if(params.data.series.forEach((function(series){series.bins.forEach((function(bin){null===lowBinValue||bin.binStart<lowBinValue?lowBinValue=bin.binStart:(null===highBinValue||bin.binEnd>highBinValue)&&(highBinValue=bin.binEnd)}))})),"number"==typeof highBinValue&&"number"==typeof lowBinValue){var rawBinWidthRange=highBinValue-lowBinValue;binWidthRange={min:rawBinWidthRange/10,max:rawBinWidthRange/2}}else if(highBinValue&&isDate(highBinValue)&&lowBinValue&&isDate(lowBinValue)){var _rawBinWidthRange=date_arithmetic.diff(new Date(highBinValue),new Date(lowBinValue),"day",!0);binWidthRange={min:_rawBinWidthRange/10,max:_rawBinWidthRange/2,unit:"day"}}else binWidthRange={min:1,max:1}}var binWidth=null!==(_params$data$binWidth=params.data.binWidth)&&void 0!==_params$data$binWidth?_params$data$binWidth:"unit"in binWidthRange?[binWidthRange.max/10,binWidthRange.unit]:binWidthRange.max/10,binWidthStep=null!==(_ref=null!==(_params$histogram$bin=null===(_params$histogram2=params.histogram)||void 0===_params$histogram2?void 0:_params$histogram2.binWidthStep)&&void 0!==_params$histogram$bin?_params$histogram$bin:params.data.binWidthStep)&&void 0!==_ref?_ref:(binWidthRange.max-binWidthRange.min)/10;if(initialState.histogram=Object.assign({},initialState.histogram,{binWidth:binWidth,binWidthRange:binWidthRange,binWidthStep:binWidthStep,valueType:null===(_params$histogram3=params.histogram)||void 0===_params$histogram3?void 0:_params$histogram3.valueType}),null!=params&&null!==(_params$histogram4=params.histogram)&&void 0!==_params$histogram4&&_params$histogram4.displaySelectedRangeControls){var _params$histogram$sel,_params$histogram5,_params$histogram5$se,allBins=params.data.series.flatMap((function(series){return series.bins})),min=null!==(_params$histogram$sel=null===(_params$histogram5=params.histogram)||void 0===_params$histogram5||null===(_params$histogram5$se=_params$histogram5.selectedRange)||void 0===_params$histogram5$se?void 0:_params$histogram5$se.min)&&void 0!==_params$histogram$sel?_params$histogram$sel:Object(lodash.orderBy)(allBins,[function(bin){return bin.binStart}],["asc"])[0].binStart,max=Object(lodash.orderBy)(allBins,[function(bin){return bin.binEnd}],["desc"])[0].binEnd;initialState.histogram=Object.assign({},initialState.histogram,{selectedRangeBounds:{min:min,max:max},displaySelectedRangeControls:!0})}}var _useReducer2=_slicedToArray(Object(react.useReducer)(reducer,initialState),2),reducerState=_useReducer2[0],dispatch=_useReducer2[1],onSelectedUnitChange=function(){var _ref2=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(newUnit){var newData;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!params.onSelectedUnitChange){_context.next=22;break}return _context.prev=1,_context.next=4,params.onSelectedUnitChange(newUnit);case 4:if(newData=_context.sent,dispatch({type:"setData",payload:newData}),!isHistogramData(newData)){_context.next=14;break}if(!(newData.binWidth&&newData.binWidthRange&&newData.binWidthStep)){_context.next=13;break}dispatch({type:"histogram/setBinWidthRange",payload:newData.binWidthRange}),dispatch({type:"histogram/setBinWidth",payload:newData.binWidth}),dispatch({type:"histogram/setBinWidthStep",payload:newData.binWidthStep}),_context.next=14;break;case 13:throw new Error("usePlotControls does not yet support switch units on histogram plots without binWidth/binWidthRange/binWidthStep being specified by backend.");case 14:_context.next=19;break;case 16:_context.prev=16,_context.t0=_context.catch(1),dispatch({type:"errors/add",payload:_context.t0});case 19:return _context.prev=19,dispatch({type:"setSelectedUnit",payload:newUnit}),_context.finish(19);case 22:case"end":return _context.stop()}}),_callee,null,[[1,16,19,22]])})));return function onSelectedUnitChange(_x){return _ref2.apply(this,arguments)}}(),debouncedBinWidthHandler=Object(react.useMemo)((function(){var _params$histogram6,_params$histogram7;return(null===(_params$histogram6=params.histogram)||void 0===_params$histogram6?void 0:_params$histogram6.onBinWidthChange)&&dist_default()(null===(_params$histogram7=params.histogram)||void 0===_params$histogram7?void 0:_params$histogram7.onBinWidthChange,300)}),[null===(_params$histogram8=params.histogram)||void 0===_params$histogram8?void 0:_params$histogram8.onBinWidthChange]),errors=reducerState.errors,rest=_objectWithoutProperties(reducerState,["errors"]);return Object.assign({},rest,{errorManagement:{errors:errors,addError:function addError(error){return dispatch({type:"errors/add",payload:error})},removeError:function removeError(error){return dispatch({type:"errors/remove",payload:error})},clearAllErrors:function clearAllErrors(){return dispatch({type:"errors/clear"})}},histogram:Object.assign({},reducerState.histogram,{onBinWidthChange:function onBinWidthChange(args){params.histogram&&(dispatch({type:"histogram/setBinWidth",payload:args.binWidth}),debouncedBinWidthHandler&&debouncedBinWidthHandler({binWidth:args.binWidth,selectedUnit:reducerState.selectedUnit}).then((function(newData){return dispatch({type:"setData",payload:newData})}),(function(error){return dispatch({type:"errors/add",payload:error})})))},onSelectedRangeChange:function onSelectedRangeChange(newRange){params.histogram&&dispatch({type:"histogram/setSelectedRange",payload:newRange})},toggleDependentAxisLogScale:function toggleDependentAxisLogScale(){return dispatch({type:"histogram/toggleDependentAxisLogScale"})},onDependentAxisRangeChange:function onDependentAxisRangeChange(newRange){params.histogram&&dispatch({type:"histogram/onDependentAxisRangeChange",payload:newRange})},onDependentAxisModeChange:function onDependentAxisModeChange(){return dispatch({type:"histogram/onDependentAxisModeChange"})},onDependentAxisRangeReset:function onDependentAxisRangeReset(){return dispatch({type:"histogram/onDependentAxisRangeReset"})},onIndependentAxisRangeChange:function onIndependentAxisRangeChange(newRange){params.histogram&&dispatch({type:"histogram/onIndependentAxisRangeChange",payload:newRange})},onIndependentAxisRangeReset:function onIndependentAxisRangeReset(){return dispatch({type:"histogram/onIndependentAxisRangeReset"})}}),resetOpacity:function resetOpacity(){return dispatch({type:"resetOpacity"})},onBarLayoutChange:function onBarLayoutChange(layout){return dispatch({type:"setBarLayout",payload:layout})},onSelectedUnitChange:onSelectedUnitChange,onOpacityChange:function onOpacityChange(opacity){return dispatch({type:"setOpacity",payload:opacity})},toggleDisplayLegend:function toggleDisplayLegend(){return dispatch({type:"toggleDisplayLegend"})},toggleOrientation:function toggleOrientation(){return dispatch({type:"toggleOrientation"})},toggleLibraryControls:function toggleLibraryControls(){return dispatch({type:"toggleLibraryControls"})},onResetAll:function onResetAll(){return dispatch({type:"onResetAll"})}})}try{usePlotControls.displayName="usePlotControls",usePlotControls.__docgenInfo={description:"Custom hook to manage and share state between controls and plot components.",displayName:"usePlotControls",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"DataShape"}},onSelectedUnitChange:{defaultValue:null,description:"",name:"onSelectedUnitChange",required:!1,type:{name:"((newUnit: string) => Promise<DataShape>)"}},histogram:{defaultValue:null,description:"",name:"histogram",required:!1,type:{name:"{ binWidthRange?: NumberRange | TimeDeltaRange; binWidthStep?: number | undefined; onBinWidthChange: (params: { binWidth: NumberOrTimeDelta; selectedUnit?: string | undefined; }) => Promise<...>; ... 6 more ...; independentAxisRange?: DateRange | ... 1 more ... | undefined; } | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/usePlotControls.tsx#usePlotControls"]={docgenInfo:usePlotControls.__docgenInfo,name:"usePlotControls",path:"src/hooks/usePlotControls.tsx#usePlotControls"})}catch(__react_docgen_typescript_loader_error){}}},[[700,1,2]]]);
//# sourceMappingURL=main.16169389fb2b2f67a1dd.bundle.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{100:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return dataSetSequentialGradient})),__webpack_require__.d(__webpack_exports__,"d",(function(){return dataSetSequentialDiscrete})),__webpack_require__.d(__webpack_exports__,"c",(function(){return dataSetDivergingGradient})),__webpack_require__.d(__webpack_exports__,"b",(function(){return dataSetCategoricalOverlay})),__webpack_require__.d(__webpack_exports__,"a",(function(){return dataSet})),__webpack_require__.d(__webpack_exports__,"f",(function(){return processInputData}));__webpack_require__(25),__webpack_require__(15),__webpack_require__(207),__webpack_require__(76),__webpack_require__(248),__webpack_require__(729),__webpack_require__(41),__webpack_require__(831),__webpack_require__(151);for(var lodash__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(17),_types_plots_addOns__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(92),d3_scale__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(632),sequentialIntegers=[],index=0;index<300;index++)sequentialIntegers.push(index);var randomIntegers=sequentialIntegers.map((function(i){return Math.ceil(7*Math.random())})),randomPosValues=sequentialIntegers.map((function(i){return Math.abs(getNormallyDistributedRandomNumber(0,1))})),randPosNegvalues=sequentialIntegers.map((function(){return getNormallyDistributedRandomNumber(0,1)})),randNegvalues=sequentialIntegers.map((function(){return-Math.abs(getNormallyDistributedRandomNumber(0,1))})),dataSetSequentialGradient={scatterplot:{data:[{seriesX:randPosNegvalues,seriesY:randNegvalues,seriesGradientColorscale:randomPosValues}]}},dataSetSequentialDiscrete={scatterplot:{data:[{seriesX:randomPosValues,seriesY:randPosNegvalues,seriesGradientColorscale:randomIntegers}]}},dataSetDivergingGradient={scatterplot:{data:[{seriesX:randomPosValues,seriesY:randNegvalues,seriesGradientColorscale:randPosNegvalues}]}},dataSetCategoricalOverlay={scatterplot:{data:[{seriesX:sequentialIntegers.slice(150),seriesY:sequentialIntegers.slice(150).map((function(i){return Math.random()}))},{seriesX:sequentialIntegers.slice(150),seriesY:sequentialIntegers.slice(150).map((function(i){return Math.random()}))},{seriesX:sequentialIntegers.slice(150),seriesY:sequentialIntegers.slice(150).map((function(i){return Math.random()}))},{seriesX:sequentialIntegers.slice(150),seriesY:sequentialIntegers.slice(150).map((function(i){return Math.random()}))},{seriesX:sequentialIntegers.slice(150),seriesY:sequentialIntegers.slice(150).map((function(i){return Math.random()}))},{seriesX:sequentialIntegers.slice(150),seriesY:sequentialIntegers.slice(150).map((function(i){return Math.random()}))},{seriesX:sequentialIntegers.slice(150),seriesY:sequentialIntegers.slice(150).map((function(i){return Math.random()}))},{seriesX:sequentialIntegers.slice(150),seriesY:sequentialIntegers.slice(150).map((function(i){return Math.random()}))}]}},dataSet={scatterplot:{data:[{seriesX:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","46","47"],seriesY:["0.58","0.54","0.43","0.86","1.19","1.47","0.98","1.36","0.58","0.82","0.77","1.22","2.21","0.46","1.55","1.38","0.98","1.4","1.29","1.3","1.56","1.73","1.48","1.38","1.1","1.14","0.84","1.12","1.07","1.1","0.73","0.86","1.16","1.02","0.77","1.04","0.57","0.08","0.2","0.4","0.23","0.13","-0.51","0","-0.35","0.21","-0.08"],smoothedMeanX:["0","0.5949367","1.1898734","1.7848101","2.3797468","2.9746835","3.5696203","4.164557","4.7594937","5.3544304","5.9493671","6.5443038","7.1392405","7.7341772","8.3291139","8.9240506","9.5189873","10.1139241","10.7088608","11.3037975","11.8987342","12.4936709","13.0886076","13.6835443","14.278481","14.8734177","15.4683544","16.0632911","16.6582278","17.2531646","17.8481013","18.443038","19.0379747","19.6329114","20.2278481","20.8227848","21.4177215","22.0126582","22.6075949","23.2025316","23.7974684","24.3924051","24.9873418","25.5822785","26.1772152","26.7721519","27.3670886","27.9620253","28.556962","29.1518987","29.7468354","30.3417722","30.9367089","31.5316456","32.1265823","32.721519","33.3164557","33.9113924","34.5063291","35.1012658","35.6962025","36.2911392","36.8860759","37.4810127","38.0759494","38.6708861","39.2658228","39.8607595","40.4556962","41.0506329","41.6455696","42.2405063","42.835443","43.4303797","44.0253165","44.6202532","45.2151899","45.8101266","46.4050633","47"],smoothedMeanY:[.5785742,.62672442,.67323618,.71814504,.76148657,.80329633,.84360987,.88246277,.91989058,.95593748,.9906337,1.02392407,1.05574679,1.08604006,1.11474209,1.1417911,1.16712527,1.19068283,1.21240197,1.23233582,1.25106432,1.26858248,1.28477776,1.29953759,1.31274943,1.32430073,1.33407893,1.34197147,1.34786582,1.35163861,1.35316678,1.35253669,1.34986715,1.34527693,1.33888484,1.33080965,1.32117016,1.31008516,1.29767344,1.28403089,1.26893232,1.25223203,1.23385632,1.2137315,1.19178388,1.16793976,1.14212545,1.11426725,1.08429147,1.05204324,1.01595307,.97602739,.93304169,.88777145,.84099215,.79347928,.74600833,.69935477,.6542941,.61154602,.56925692,.52625652,.48261979,.43842174,.39373736,.34864164,.30320957,.25751615,.21163636,.16564487,.11954102,.07326909,.02679829,-.01990212,-.0668629,-.11411483,-.16168865,-.20961514,-.25792504,-.30664913],smoothedMeanSE:[.17707248,.16235568,.14874309,.13631127,.12513697,.11529107,.10682941,.09978058,.09413275,.08982227,.08673276,.08472218,.08363165,.08329509,.08354947,.08424304,.08524034,.08642434,.08769652,.08891579,.08974583,.09031039,.09083636,.09151829,.09246373,.09366216,.09498058,.09618371,.09697145,.09698261,.0958602,.09411663,.09241673,.09133085,.09120903,.0920902,.09369136,.09548291,.09681067,.09702663,.09595857,.0941586,.09226917,.0908584,.09030512,.09070753,.09185823,.0933012,.09444301,.09469448,.09409325,.09303255,.09183424,.09076517,.089992,.08955262,.08935269,.0891909,.08880915,.08797016,.08692468,.08591592,.08501907,.08432286,.08393048,.08395982,.08454239,.0858203,.08794106,.09105076,.09529446,.10077931,.10755986,.11564935,.12502808,.13565382,.14747146,.16042048,.17443995,.18947155]},{seriesX:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29"],seriesY:["-1","-0.8","-0.4","0","0.5","0.8","1.3","1.7","2.0","2.3","2.7","3.5","4.0","4.5","4.7","4.7","4.6","4.0","3.5","2.7","2.3","2.0","1.7","1.3","0.8","0.5","0","-0.4","-0.67","-1"]},{seriesX:["20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47"],seriesY:["-1","-0.8","-0.7","-0.5","-0.2","0","0.5","0.8","1.2","1.5","2.3","2.6","2.9","3.0","2.85","2.6","2.0","1.5","1.2","1.0","0.8","0.4","0","-0.3","-0.6","-0.7","-0.8","-1"]}]}};function processInputData(dataSet,vizType,modeValue,independentValueType,dependentValueType,defineColors,colorPaletteOverride){var fillAreaValue="densityplot"===vizType?"toself":"",plotDataSet=dataSet.scatterplot,yMin=0,yMax=0,markerColors=null!=colorPaletteOverride?colorPaletteOverride:["rgb(31, 119, 180)","rgb(255, 127, 14)","rgb(44, 160, 44)","rgb(214, 39, 40)","rgb(148, 103, 189)","rgb(140, 86, 75)","rgb(227, 119, 194)","rgb(127, 127, 127)","rgb(188, 189, 34)","rgb(23, 190, 207)"],dataSetProcess=[];return plotDataSet.data.forEach((function(el,index){var seriesX=[],seriesY=[],seriesGradientColorscale=[],markerColorsGradient=[];if(el.seriesX&&el.seriesY){var _seriesGradientColors,_seriesGradientColors2;if(el.seriesX.length!==el.seriesY.length)throw new Error("The number of X data is not equal to the number of Y data");if(seriesX="date"===independentValueType?el.seriesX:el.seriesX.map(Number),seriesY="date"===dependentValueType?el.seriesY:el.seriesY.map(Number),0===index?(yMin=Object(lodash__WEBPACK_IMPORTED_MODULE_9__.min)(seriesY),yMax=Object(lodash__WEBPACK_IMPORTED_MODULE_9__.max)(seriesY)):(yMin=Object(lodash__WEBPACK_IMPORTED_MODULE_9__.lte)(yMin,Object(lodash__WEBPACK_IMPORTED_MODULE_9__.min)(seriesY))?yMin:Object(lodash__WEBPACK_IMPORTED_MODULE_9__.min)(seriesY),yMax=Object(lodash__WEBPACK_IMPORTED_MODULE_9__.gte)(yMax,Object(lodash__WEBPACK_IMPORTED_MODULE_9__.max)(seriesY))?yMax:Object(lodash__WEBPACK_IMPORTED_MODULE_9__.max)(seriesY)),el.seriesGradientColorscale){var overlayMin,overlayMax,gradientColorscaleType;seriesGradientColorscale=el.seriesGradientColorscale.map(Number);var defaultOverlayMin=Object(lodash__WEBPACK_IMPORTED_MODULE_9__.min)(seriesGradientColorscale),defaultOverlayMax=Object(lodash__WEBPACK_IMPORTED_MODULE_9__.max)(seriesGradientColorscale);if("divergent"===(gradientColorscaleType=defaultOverlayMin>=0&&defaultOverlayMax>=0?"sequential":defaultOverlayMin<=0&&defaultOverlayMax<=0?"sequential reversed":"divergent")?(overlayMin=-Math.max(Math.abs(defaultOverlayMin),Math.abs(defaultOverlayMax)),overlayMax=Math.max(Math.abs(defaultOverlayMin),Math.abs(defaultOverlayMax))):(overlayMin=defaultOverlayMin,overlayMax=defaultOverlayMax),gradientColorscaleType&&(overlayMin||0===overlayMin)&&overlayMax){var normalize=Object(d3_scale__WEBPACK_IMPORTED_MODULE_11__.a)();if("divergent"===gradientColorscaleType){var maxAbsOverlay=Math.abs(overlayMin)>overlayMax?Math.abs(overlayMin):overlayMax;normalize.domain([-maxAbsOverlay,maxAbsOverlay]).range([-1,1]),markerColorsGradient=seriesGradientColorscale.map((function(a){return Object(_types_plots_addOns__WEBPACK_IMPORTED_MODULE_10__.j)(normalize(a))}))}else"sequntial reverse"===gradientColorscaleType?(normalize.domain([overlayMin,overlayMax]).range([1,0]),markerColorsGradient=seriesGradientColorscale.map((function(a){return Object(_types_plots_addOns__WEBPACK_IMPORTED_MODULE_10__.k)(normalize(a))})),gradientColorscaleType="sequential"):(normalize.domain([overlayMin,overlayMax]).range([0,1]),markerColorsGradient=seriesGradientColorscale.map((function(a){return Object(_types_plots_addOns__WEBPACK_IMPORTED_MODULE_10__.k)(normalize(a))})),gradientColorscaleType="sequential")}}dataSetProcess.push({x:seriesX,y:seriesY,name:el.overlayVariableDetails?el.overlayVariableDetails.value:"Data",mode:modeValue,type:"lineplot"===vizType||"densityplot"===vizType?"scatter":"scattergl",fill:fillAreaValue,marker:{color:defineColors||colorPaletteOverride?markerColors[index]:(null===(_seriesGradientColors=seriesGradientColorscale)||void 0===_seriesGradientColors?void 0:_seriesGradientColors.length)>0?markerColorsGradient:void 0,size:12,line:{color:defineColors||colorPaletteOverride?markerColors[index]:(null===(_seriesGradientColors2=seriesGradientColorscale)||void 0===_seriesGradientColors2?void 0:_seriesGradientColors2.length)>0?markerColorsGradient:void 0,width:2},symbol:"circle"},line:{color:defineColors?"rgb("+markerColors[index]+")":void 0,shape:"spline"}})}})),plotDataSet.data.forEach((function(el,index){var xIntervalLineValue=[],yIntervalLineValue=[],standardErrorValue=[],xIntervalBounds=[],yIntervalBounds=[],smoothedMeanX=[],bestFitLineX=[];if(el.smoothedMeanX&&el.smoothedMeanY&&el.smoothedMeanSE){if(el.smoothedMeanX.length!==el.smoothedMeanY.length)throw new Error("The number of X data is not equal to the number of Y data or standardError data");smoothedMeanX="date"===independentValueType?el.smoothedMeanX:el.smoothedMeanX.map(Number);for(var combinedArrayInterval=[],j=0;j<smoothedMeanX.length;j++)combinedArrayInterval.push({xValue:smoothedMeanX[j],yValue:el.smoothedMeanY[j],zValue:el.smoothedMeanSE[j]});combinedArrayInterval.sort((function(a,b){return a.xValue<b.xValue?-1:a.xValue===b.xValue?0:1}));for(var k=0;k<combinedArrayInterval.length;k++)xIntervalLineValue[k]=combinedArrayInterval[k].xValue,yIntervalLineValue[k]=combinedArrayInterval[k].yValue,standardErrorValue[k]=combinedArrayInterval[k].zValue;yMin=el.seriesY&&Object(lodash__WEBPACK_IMPORTED_MODULE_9__.lte)(yMin,Object(lodash__WEBPACK_IMPORTED_MODULE_9__.min)(yIntervalLineValue))?yMin:Object(lodash__WEBPACK_IMPORTED_MODULE_9__.min)(yIntervalLineValue),yMax=el.seriesY&&Object(lodash__WEBPACK_IMPORTED_MODULE_9__.gte)(yMax,Object(lodash__WEBPACK_IMPORTED_MODULE_9__.max)(yIntervalLineValue))?yMax:Object(lodash__WEBPACK_IMPORTED_MODULE_9__.max)(yIntervalLineValue),dataSetProcess.push({x:xIntervalLineValue,y:yIntervalLineValue,name:el.overlayVariableDetails?el.overlayVariableDetails.value+"<br>Smoothed mean":"Smoothed mean",mode:"lines",line:{color:defineColors?"rgba("+markerColors[index]+",1)":void 0,shape:"spline",width:2},type:"scattergl"}),xIntervalBounds=(xIntervalBounds=xIntervalLineValue).concat(xIntervalLineValue.map((function(element){return element})).reverse());var _getBounds=function getBounds(values,standardErrors){var yUpperValues=values.map((function(value,idx){var tmp=Number(value)+2*Number(standardErrors[idx]);return value instanceof Date?new Date(tmp):tmp})),yLowerValues=values.map((function(value,idx){var tmp=Number(value)-2*Number(standardErrors[idx]);return value instanceof Date?new Date(tmp):tmp}));return{yUpperValues:yUpperValues,yLowerValues:yLowerValues}}(yIntervalLineValue,standardErrorValue),yUpperValues=_getBounds.yUpperValues,yLowerValues=_getBounds.yLowerValues;yIntervalBounds=(yIntervalBounds=yUpperValues).concat(yLowerValues.map((function(element){return element})).reverse()),yMin=Object(lodash__WEBPACK_IMPORTED_MODULE_9__.lte)(yMin,Object(lodash__WEBPACK_IMPORTED_MODULE_9__.min)(yLowerValues))?yMin:Object(lodash__WEBPACK_IMPORTED_MODULE_9__.min)(yLowerValues),yMax=Object(lodash__WEBPACK_IMPORTED_MODULE_9__.gte)(yMax,Object(lodash__WEBPACK_IMPORTED_MODULE_9__.max)(yLowerValues))?yMax:Object(lodash__WEBPACK_IMPORTED_MODULE_9__.max)(yLowerValues),dataSetProcess.push({x:xIntervalBounds,y:yIntervalBounds,name:el.overlayVariableDetails?el.overlayVariableDetails.value+"<br>95% Confidence interval":"95% Confidence interval",fill:"tozeroy",fillcolor:defineColors?"rgba("+markerColors[index]+",0.2)":void 0,type:"scattergl",line:{color:defineColors?"transparent":void 0,shape:"spline"}})}if(el.bestFitLineX&&el.bestFitLineY){if(el.bestFitLineX.length!==el.bestFitLineY.length)throw new Error("The number of X data is not equal to the number of Y data or standardError data");bestFitLineX="date"===independentValueType?el.bestFitLineX:el.bestFitLineX.map(Number),yMin=el.seriesY&&Object(lodash__WEBPACK_IMPORTED_MODULE_9__.lte)(yMin,Object(lodash__WEBPACK_IMPORTED_MODULE_9__.min)(el.bestFitLineY))?yMin:Object(lodash__WEBPACK_IMPORTED_MODULE_9__.min)(el.bestFitLineY),yMax=el.seriesY&&Object(lodash__WEBPACK_IMPORTED_MODULE_9__.gte)(yMax,Object(lodash__WEBPACK_IMPORTED_MODULE_9__.max)(el.bestFitLineY))?yMax:Object(lodash__WEBPACK_IMPORTED_MODULE_9__.max)(el.bestFitLineY),dataSetProcess.push({x:bestFitLineX,y:el.bestFitLineY,name:el.overlayVariableDetails?el.overlayVariableDetails.value+"<br>R<sup>2</sup> = "+el.r2:"Best fit<br>R<sup>2</sup> = "+el.r2,mode:"lines",line:{color:defineColors?"rgba("+markerColors[index]+",1)":void 0,shape:"spline"},type:"scattergl"})}})),"number"==typeof yMin&&"number"==typeof yMax?yMax+=.05*(yMax-(yMin-=.05*(yMax-yMin))):(yMin=NaN,yMax=NaN),{dataSetProcess:{series:dataSetProcess},yMin:yMin,yMax:yMax}}function getNormallyDistributedRandomNumber(mean,stddev){var _boxMullerTransform=function boxMullerTransform(){var u1=Math.random(),u2=Math.random();return{z0:Math.sqrt(-2*Math.log(u1))*Math.cos(2*Math.PI*u2),z1:Math.sqrt(-2*Math.log(u1))*Math.sin(2*Math.PI*u2)}}(),z0=_boxMullerTransform.z0;_boxMullerTransform.z1;return z0*stddev+mean}},1029:function(module,__webpack_exports__,__webpack_require__){"use strict";var leaflet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49),leaflet__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_0__);delete leaflet__WEBPACK_IMPORTED_MODULE_0___default.a.Icon.Default.prototype._getIconUrl,leaflet__WEBPACK_IMPORTED_MODULE_0___default.a.Icon.Default.mergeOptions({iconRetinaUrl:__webpack_require__(1926),iconUrl:__webpack_require__(1015),shadowUrl:__webpack_require__(1927)})},105:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULT_CONTAINER_HEIGHT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DEFAULT_MAX_LEGEND_TEXT_LENGTH})),__webpack_require__.d(__webpack_exports__,"d",(function(){return makePlotlyPlotComponent}));__webpack_require__(63),__webpack_require__(8),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(10),__webpack_require__(25),__webpack_require__(9),__webpack_require__(144),__webpack_require__(150),__webpack_require__(40),__webpack_require__(152),__webpack_require__(7);var react=__webpack_require__(0),legendSpecification=function(args){var _args$horizontalPaddi,_args$horizontalPaddi2,_args$horizontalPaddi3,_args$horizontalPaddi4,_args$verticalPadding,_args$verticalPadding2,_args$verticalPadding3,_args$verticalPadding4,xPosition,yPosition;switch(args.horizontalPosition){case"left":xPosition=0+(null!==(_args$horizontalPaddi=args.horizontalPaddingAdjustment)&&void 0!==_args$horizontalPaddi?_args$horizontalPaddi:0);break;case"center":xPosition=.5+(null!==(_args$horizontalPaddi2=args.horizontalPaddingAdjustment)&&void 0!==_args$horizontalPaddi2?_args$horizontalPaddi2:0);break;case"right":xPosition=1+(null!==(_args$horizontalPaddi3=args.horizontalPaddingAdjustment)&&void 0!==_args$horizontalPaddi3?_args$horizontalPaddi3:0);break;default:xPosition=1+(null!==(_args$horizontalPaddi4=args.horizontalPaddingAdjustment)&&void 0!==_args$horizontalPaddi4?_args$horizontalPaddi4:0)}switch(args.verticalPosition){case"bottom":yPosition=0+(null!==(_args$verticalPadding=args.verticalPaddingAdjustment)&&void 0!==_args$verticalPadding?_args$verticalPadding:0);break;case"middle":yPosition=.5+(null!==(_args$verticalPadding2=args.verticalPaddingAdjustment)&&void 0!==_args$verticalPadding2?_args$verticalPadding2:0);break;case"top":yPosition=1+(null!==(_args$verticalPadding3=args.verticalPaddingAdjustment)&&void 0!==_args$verticalPadding3?_args$verticalPadding3:0);break;default:yPosition=.5+(null!==(_args$verticalPadding4=args.verticalPaddingAdjustment)&&void 0!==_args$verticalPadding4?_args$verticalPadding4:0)}return{orientation:args.orientation[0],x:xPosition,xanchor:"auto",y:yPosition,yanchor:"auto",font:args.font,traceorder:args.traceorder}},Spinner=__webpack_require__(605),addOns=__webpack_require__(92),src=__webpack_require__(94),lib=__webpack_require__(1321),lodash=__webpack_require__(17),promise_utils=__webpack_require__(611),NoDataOverlay=__webpack_require__(610),removeHtmlTags=__webpack_require__(312),jsx_runtime=__webpack_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Plot=Object(react.lazy)((function(){return __webpack_require__.e(6).then(__webpack_require__.t.bind(null,2866,7))})),DEFAULT_CONTAINER_HEIGHT="400px",DEFAULT_MAX_LEGEND_TEXT_LENGTH=20;function PlotlyPlot(props,ref){var _plotlyProps$layout,_plotlyProps$layout$x,_plotlyProps$layout2,_plotlyProps$layout2$,_spacingOptions$margi,title=props.title,_props$displayLegend=props.displayLegend,displayLegend=void 0===_props$displayLegend||_props$displayLegend,_props$containerStyle=props.containerStyles,containerStyles=void 0===_props$containerStyle?{width:"100%",height:DEFAULT_CONTAINER_HEIGHT}:_props$containerStyle,_props$containerClass=props.containerClass,containerClass=void 0===_props$containerClass?"web-components-plot":_props$containerClass,_props$interactive=props.interactive,interactive=void 0!==_props$interactive&&_props$interactive,displayLibraryControls=props.displayLibraryControls,legendOptions=props.legendOptions,legendTitle=props.legendTitle,spacingOptions=props.spacingOptions,showSpinner=props.showSpinner,showNoDataOverlay=props.showNoDataOverlay,_props$maxLegendTextL=props.maxLegendTextLength,maxLegendTextLength=void 0===_props$maxLegendTextL?DEFAULT_MAX_LEGEND_TEXT_LENGTH:_props$maxLegendTextL,data=props.data,storedIndependentAxisTickLabel=props.storedIndependentAxisTickLabel,checkedLegendItems=props.checkedLegendItems,_props$colorPalette=props.colorPalette,colorPalette=void 0===_props$colorPalette?addOns.a:_props$colorPalette,onPlotlyRender=props.onPlotlyRender,plotlyProps=_objectWithoutProperties(props,["title","displayLegend","containerStyles","containerClass","interactive","displayLibraryControls","legendOptions","legendTitle","spacingOptions","showSpinner","showNoDataOverlay","maxLegendTextLength","data","storedIndependentAxisTickLabel","checkedLegendItems","colorPalette","onPlotlyRender"]),maxLegendTitleTextLength=maxLegendTextLength+5,sharedPlotCreation=Object(react.useMemo)((function(){return Object(promise_utils.a)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}}),_callee)}))))}),[]),finalConfig=Object(react.useMemo)((function(){return{responsive:!0,displaylogo:!1,displayModeBar:!!displayLibraryControls&&"hover",staticPlot:!interactive}}),[displayLibraryControls,interactive]),xAxisTitle=null==plotlyProps||null===(_plotlyProps$layout=plotlyProps.layout)||void 0===_plotlyProps$layout||null===(_plotlyProps$layout$x=_plotlyProps$layout.xaxis)||void 0===_plotlyProps$layout$x?void 0:_plotlyProps$layout$x.title,yAxisTitle=null==plotlyProps||null===(_plotlyProps$layout2=plotlyProps.layout)||void 0===_plotlyProps$layout2||null===(_plotlyProps$layout2$=_plotlyProps$layout2.yaxis)||void 0===_plotlyProps$layout2$?void 0:_plotlyProps$layout2$.title,finalLayout=Object(react.useMemo)((function(){return Object.assign({},plotlyProps.layout,{xaxis:Object.assign({linecolor:"black"},plotlyProps.layout.xaxis,{fixedrange:!0,linewidth:1,title:axisTitleEllipsis(xAxisTitle,60)}),yaxis:Object.assign({linecolor:"black"},plotlyProps.layout.yaxis,{fixedrange:!0,linewidth:1,title:axisTitleEllipsis(yAxisTitle,50)}),showlegend:null==displayLegend||displayLegend,margin:{t:null==spacingOptions?void 0:spacingOptions.marginTop,r:null==spacingOptions?void 0:spacingOptions.marginRight,b:null==spacingOptions?void 0:spacingOptions.marginBottom,l:null==spacingOptions?void 0:spacingOptions.marginLeft,pad:(null==spacingOptions?void 0:spacingOptions.padding)||0},legend:Object.assign({},plotlyProps.layout.legend,{title:{text:(legendTitle||"").length>maxLegendTitleTextLength?(legendTitle||"").substring(0,maxLegendTitleTextLength)+"...":legendTitle}},legendOptions?legendSpecification(legendOptions):{}),autosize:!0,colorway:colorPalette})}),[plotlyProps.layout,spacingOptions,legendOptions,displayLegend,legendTitle,title,colorPalette]),storedLegendList=Object(react.useMemo)((function(){return null!=data?data.map((function(data){var _data$name;return null!==(_data$name=data.name)&&void 0!==_data$name?_data$name:""})):[]}),[data]),originalIndependentAxisTitle=Object(react.useMemo)((function(){return"object"==typeof xAxisTitle&&null!=xAxisTitle?xAxisTitle.text:xAxisTitle}),[xAxisTitle]),originalDependentAxisTitle=Object(react.useMemo)((function(){return"object"==typeof yAxisTitle&&null!=yAxisTitle?yAxisTitle.text:yAxisTitle}),[yAxisTitle]),onRender=Object(react.useCallback)((function(figure,graphDiv){onPlotlyRender&&onPlotlyRender(figure,graphDiv),Object(src.c)(graphDiv).select("g.legend").selectAll("g.traces").selectAll("title").remove(),Object(src.c)(graphDiv).select("g.legend").selectAll("g.traces").append("svg:title").text((function(d){return Object(removeHtmlTags.a)(storedLegendList[d[0].trace.index])})),Object(src.c)(graphDiv).select("g.legend g.scrollbox text.legendtitletext").selectAll("title").remove(),null!=legendTitle&&legendTitle.length>maxLegendTitleTextLength&&Object(src.c)(graphDiv).select("g.legend g.scrollbox text.legendtitletext").append("svg:title").text(Object(removeHtmlTags.a)(legendTitle)),null!=storedIndependentAxisTickLabel&&storedIndependentAxisTickLabel.length>0&&(Object(src.c)(graphDiv).select(".plot-container svg.main-svg g.cartesianlayer g.xaxislayer-above").selectAll("g.xtick").selectAll("title").remove(),Object(src.c)(graphDiv).select(".plot-container svg.main-svg g.cartesianlayer g.xaxislayer-above").selectAll("g.xtick").attr("pointer-events","all").append("svg:title").text((function(d,i){return null!=storedIndependentAxisTickLabel?Object(removeHtmlTags.a)(storedIndependentAxisTickLabel[i]):""}))),null!=originalIndependentAxisTitle&&originalIndependentAxisTitle.length>60&&(Object(src.c)(graphDiv).select(".plot-container svg.main-svg g.infolayer g.g-xtitle").selectAll("title").remove(),Object(src.c)(graphDiv).select(".plot-container svg.main-svg g.infolayer g.g-xtitle text.xtitle").attr("pointer-events","all").append("svg:title").text(Object(removeHtmlTags.a)(originalIndependentAxisTitle))),null!=originalDependentAxisTitle&&originalDependentAxisTitle.length>50&&(Object(src.c)(graphDiv).select(".plot-container svg.main-svg g.infolayer g.g-ytitle").selectAll("title").remove(),Object(src.c)(graphDiv).select(".plot-container svg.main-svg g.infolayer g.g-ytitle text.ytitle").attr("pointer-events","all").append("svg:title").text(Object(removeHtmlTags.a)(originalDependentAxisTitle)))}),[onPlotlyRender,storedLegendList,legendTitle,maxLegendTitleTextLength,storedIndependentAxisTickLabel,originalDependentAxisTitle]),onInitialized=Object(react.useCallback)((function(figure,graphDiv){onRender(figure,graphDiv),sharedPlotCreation.run()}),[onRender,sharedPlotCreation.run]),finalData=Object(react.useMemo)((function(){return data.map((function(d){return Object.assign({},d,{visible:null!=checkedLegendItems&&null!=d.name?!(null==checkedLegendItems||!checkedLegendItems.includes(d.name))||"legendonly":void 0,name:(d.name||"").length>maxLegendTextLength?(d.name||"").substring(0,maxLegendTextLength)+"...":d.name})}))}),[data,checkedLegendItems]),plotId=Object(react.useMemo)((function(){return Object(lodash.uniqueId)("plotly_plot_div_")}),[]);Object(react.useImperativeHandle)(ref,(function(){return{toImage:(_toImage2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(imageOpts){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,sharedPlotCreation.promise;case 3:return _context2.next=5,Object(lib.toImage)(plotId,imageOpts);case 5:return _context2.abrupt("return",_context2.sent);case 8:_context2.prev=8,_context2.t0=_context2.catch(0),console.error("Could not create image for plot:",_context2.t0);case 11:return _context2.abrupt("return","");case 12:case"end":return _context2.stop()}}),_callee2,null,[[0,8]])}))),function toImage(_x){return _toImage2.apply(this,arguments)})};var _toImage2}),[plotId]);var marginTop=null!==(_spacingOptions$margi=null==spacingOptions?void 0:spacingOptions.marginTop)&&void 0!==_spacingOptions$margi?_spacingOptions$margi:addOns.h.marginTop;return Object(jsx_runtime.jsx)(react.Suspense,{fallback:"Loading...",children:Object(jsx_runtime.jsxs)("div",{className:containerClass,style:Object.assign({},containerStyles,{position:"relative"}),children:[Object(jsx_runtime.jsx)(Plot,Object.assign({},plotlyProps,{divId:plotId,data:finalData,layout:finalLayout,style:{width:"100%",height:"100%"},config:finalConfig,onUpdate:onRender,onInitialized:onInitialized})),showNoDataOverlay&&Object(jsx_runtime.jsx)(NoDataOverlay.a,{plotTitle:title,opacity:.85}),title&&Object(jsx_runtime.jsx)("div",{style:{position:"absolute",top:marginTop/3,left:"10%",fontSize:17,fontStyle:"No data"===title?"italic":"normal"},children:title}),showSpinner&&Object(jsx_runtime.jsx)(Spinner.a,{})]})})}PlotlyPlot.displayName="PlotlyPlot";var PlotlyPlotWithRef=Object(react.forwardRef)(PlotlyPlot);function makePlotlyPlotComponent(displayName,transformProps){function PlotlyPlotComponent(props,ref){var xformProps=transformProps(props);return Object(jsx_runtime.jsx)(PlotlyPlotWithRef,Object.assign({},xformProps,{ref:ref}))}return PlotlyPlotComponent.displayName=displayName,Object(react.forwardRef)(PlotlyPlotComponent)}function axisTitleEllipsis(axisTitle,axisTitleTextLength){return"object"==typeof axisTitle&&null!=axisTitle?(axisTitle.text||"").length>axisTitleTextLength?{text:(axisTitle.text||"").substring(0,axisTitleTextLength)+"...",standoff:axisTitle.standoff}:axisTitle:(axisTitle||"").length>axisTitleTextLength?(axisTitle||"").substring(0,axisTitleTextLength)+"...":axisTitle}__webpack_exports__.c=PlotlyPlotWithRef;try{makePlotlyPlotComponent.displayName="makePlotlyPlotComponent",makePlotlyPlotComponent.__docgenInfo={description:"Factory function to create a component that delegates to `PlotlyPlotWithRef`.\nThis encapsulates ref forwarding. See {@link PlotRef}.",displayName:"makePlotlyPlotComponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/PlotlyPlot.tsx#makePlotlyPlotComponent"]={docgenInfo:makePlotlyPlotComponent.__docgenInfo,name:"makePlotlyPlotComponent",path:"src/plots/PlotlyPlot.tsx#makePlotlyPlotComponent"})}catch(__react_docgen_typescript_loader_error){}try{PlotlyPlot.displayName="PlotlyPlot",PlotlyPlot.__docgenInfo={description:"",displayName:"PlotlyPlot",props:{showSpinner:{defaultValue:null,description:"show a loading... spinner in the middle of the container div",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:"Show an overlay with the words 'No Data'",name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},interactive:{defaultValue:null,description:"Enables mouse-overs and interaction if true. Default false.",name:"interactive",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Should plot legend be displayed? Default is yes",name:"displayLegend",required:!1,type:{name:"boolean"}},containerStyles:{defaultValue:null,description:"CSS styles for enclosing div\nDefault is { width: '100%', height: '400px' }",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},containerClass:{defaultValue:null,description:"class name for enclosing div. Default is web-components-plot",name:"containerClass",required:!1,type:{name:"string"}},displayLibraryControls:{defaultValue:null,description:"show Plotly's mode bar (only shows if interactive == true)",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend layout and appearance.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},legendTitle:{defaultValue:null,description:"legend title",name:"legendTitle",required:!1,type:{name:"string"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},maxLegendTextLength:{defaultValue:null,description:"maximum number of characters for legend ellipsis",name:"maxLegendTextLength",required:!1,type:{name:"number"}},storedIndependentAxisTickLabel:{defaultValue:null,description:"original independent axis tick labels as data is changed at each component (barplot and boxplot)",name:"storedIndependentAxisTickLabel",required:!1,type:{name:"string[]"}},checkedLegendItems:{defaultValue:null,description:"list of checked legend items via checkbox input",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},onPlotlyRender:{defaultValue:null,description:"A function to call each time after plotly renders the plot",name:"onPlotlyRender",required:!1,type:{name:"((figure: Readonly<Figure>, graphDiv: Readonly<HTMLElement>) => void)"}},colorPalette:{defaultValue:null,description:"",name:"colorPalette",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/PlotlyPlot.tsx#PlotlyPlot"]={docgenInfo:PlotlyPlot.__docgenInfo,name:"PlotlyPlot",path:"src/plots/PlotlyPlot.tsx#PlotlyPlot"})}catch(__react_docgen_typescript_loader_error){}},112:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return getSpeciesDonuts})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getSpeciesBasicMarkers})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCollectionDateChartMarkers})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getCollectionDateBasicMarkers}));__webpack_require__(63),__webpack_require__(8),__webpack_require__(724),__webpack_require__(74),__webpack_require__(445),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(207),__webpack_require__(76),__webpack_require__(729),__webpack_require__(19),__webpack_require__(25),__webpack_require__(108),__webpack_require__(723),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(15),__webpack_require__(9),__webpack_require__(0);var _map_config_map__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(56),_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(60),_map_DonutMarker__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(350),_map_ChartMarker__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(421),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function sleep(ms){return new Promise((function(resolve){return setTimeout(resolve,ms)}))}var getSpeciesDonuts=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref,duration,setLegendData,handleMarkerClick){var bounds,zoomLevel,delay,zoomLevelToGeohashLevel,donutSize,geohash_level,response,speciesData,buckets,speciesToCount,speciesToColor,legendData,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(bounds=_ref.bounds,zoomLevel=_ref.zoomLevel,delay=_args.length>4&&void 0!==_args[4]?_args[4]:0,zoomLevelToGeohashLevel=_args.length>5&&void 0!==_args[5]?_args[5]:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_23__.a,donutSize=_args.length>6&&void 0!==_args[6]?_args[6]:40,geohash_level=zoomLevelToGeohashLevel(zoomLevel),_context.t0=delay,!_context.t0){_context.next=9;break}return _context.next=9,sleep(delay);case 9:return _context.next=11,fetch("data/geoclust-species-testing-all-levels.json");case 11:return response=_context.sent,_context.next=14,response.json();case 14:return speciesData=_context.sent,buckets=speciesData["geohash_"+geohash_level].facets.geo.buckets.filter((function(bucket){var lat=bucket.ltAvg,long=bucket.lnAvg,south=bounds.southWest.lat,north=bounds.northEast.lat,west=bounds.southWest.lng,east=bounds.northEast.lng;return lat>south&&lat<north&&(west<east-1e-8?long>west&&long<east:!(west>east+1e-8)||!(long>east&&long<west))})),speciesToCount=new Map,buckets.forEach((function(bucket){bucket.term.buckets.forEach((function(bucket){var species=bucket.val,prevCount=speciesToCount.get(species);null==prevCount&&(prevCount=0),speciesToCount.set(species,prevCount+bucket.count)}))})),speciesToCount=new Map(Array.from(speciesToCount).sort((function(_ref3,_ref4){var _ref5=_slicedToArray(_ref3,2),v1=(_ref5[0],_ref5[1]),_ref6=_slicedToArray(_ref4,2),v2=(_ref6[0],_ref6[1]);return v1>v2?-1:v2>v1?1:0}))),speciesToColor=new Map(Array.from(speciesToCount).map((function(_ref7,index){var _ref8=_slicedToArray(_ref7,2),k=_ref8[0];_ref8[1];return index<10?[k,_map_config_map__WEBPACK_IMPORTED_MODULE_22__.a[index]]:[k,"silver"]}))),legendData=Array.from(speciesToCount.keys()).map((function(key){return{label:key,value:speciesToCount.get(key)||-1,color:speciesToColor.get(key)||"silver"}})),setLegendData(legendData),_context.abrupt("return",buckets.map((function(bucket){var lat=bucket.ltAvg,lng=bucket.lnAvg,bounds={southWest:{lat:bucket.ltMin,lng:bucket.lnMin},northEast:{lat:bucket.ltMax,lng:bucket.lnMax}},data=[];bucket.term.buckets.forEach((function(bucket){var species=bucket.val;data.push({label:species,value:bucket.count,color:speciesToColor.get(species)||"silver"})}));var atomicValue=!(!bucket.atomicCount||1!==bucket.atomicCount),key=bucket.val;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_map_DonutMarker__WEBPACK_IMPORTED_MODULE_24__.b,{id:key,position:{lat:lat,lng:lng},bounds:bounds,data:data,isAtomic:atomicValue,onClick:handleMarkerClick,duration:duration,markerScale:donutSize/40,markerLabel:donutSize<40?"":void 0},key)})));case 23:case"end":return _context.stop()}}),_callee)})));return function getSpeciesDonuts(_x,_x2,_x3,_x4){return _ref2.apply(this,arguments)}}(),getSpeciesBasicMarkers=function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref9,duration,handleMarkerClick){var bounds,zoomLevel,geohash_level,response,speciesData,buckets;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return bounds=_ref9.bounds,zoomLevel=_ref9.zoomLevel,geohash_level=Object(_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_23__.a)(zoomLevel),_context2.next=4,fetch("data/geoclust-species-testing-all-levels.json");case 4:return response=_context2.sent,_context2.next=7,response.json();case 7:return speciesData=_context2.sent,buckets=speciesData["geohash_"+geohash_level].facets.geo.buckets.filter((function(bucket){var lat=bucket.ltAvg,long=bucket.lnAvg,south=bounds.southWest.lat,north=bounds.northEast.lat,west=bounds.southWest.lng,east=bounds.northEast.lng;return lat>south&&lat<north&&(west<east-1e-8?long>west&&long<east:!(west>east+1e-8)||!(long>east&&long<west))})),_context2.abrupt("return",buckets.map((function(bucket){var lat=bucket.ltAvg,lng=bucket.lnAvg,bounds={southWest:{lat:bucket.ltMin,lng:bucket.lnMin},northEast:{lat:bucket.ltMax,lng:bucket.lnMax}},data=[{label:"unknown",value:bucket.count,color:"white"}],atomicValue=!(!bucket.atomicCount||1!==bucket.atomicCount),key=bucket.val;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_map_DonutMarker__WEBPACK_IMPORTED_MODULE_24__.b,{id:key,position:{lat:lat,lng:lng},bounds:bounds,data:data,isAtomic:atomicValue,onClick:handleMarkerClick,duration:duration},key)})));case 10:case"end":return _context2.stop()}}),_callee2)})));return function getSpeciesBasicMarkers(_x5,_x6,_x7){return _ref10.apply(this,arguments)}}(),getCollectionDateChartMarkers=function(){var _ref12=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(_ref11,duration,setLegendData,handleMarkerClick,legendRadioValue,setDependentAxisRange){var bounds,zoomLevel,delay,dependentAxisLogScale,geohash_level,response,collectionDateData,legendSums,legendLabels,legendColors,yAxisRange,yAxisRangeAll,buckets,markers,legendData,_args3=arguments;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(bounds=_ref11.bounds,zoomLevel=_ref11.zoomLevel,delay=_args3.length>6&&void 0!==_args3[6]?_args3[6]:0,dependentAxisLogScale=_args3.length>7?_args3[7]:void 0,geohash_level=Object(_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_23__.a)(zoomLevel),_context3.t0=delay,!_context3.t0){_context3.next=8;break}return _context3.next=8,sleep(delay);case 8:return _context3.next=10,fetch("data/geoclust-date-binning-testing-all-levels.json");case 10:return response=_context3.sent,_context3.next=13,response.json();case 13:return collectionDateData=_context3.sent,legendSums=[],legendLabels=[],legendColors=[],yAxisRange=[],yAxisRangeAll=[],buckets=collectionDateData["geohash_"+geohash_level].facets.geo.buckets.filter((function(bucket){var lat=bucket.ltAvg,long=bucket.lnAvg,south=bounds.southWest.lat,north=bounds.northEast.lat,west=bounds.southWest.lng,east=bounds.northEast.lng;return lat>south&&lat<north&&(west<east-1e-8?long>west&&long<east:!(west>east+1e-8)||!(long>east&&long<west))})),yAxisRangeAll=[0,buckets.reduce((function(currentMax,bucket){return Math.max(currentMax,bucket.count-bucket.term.before.count-bucket.term.after.count-bucket.term.between.count,bucket.term.buckets.reduce((function(currentMax,bucket){return Math.max(currentMax,bucket.count)}),0))}),0)],"Regional"===legendRadioValue&&(yAxisRange=yAxisRangeAll),setDependentAxisRange(yAxisRangeAll),markers=buckets.map((function(bucket){var noDataValue,lat=bucket.ltAvg,lng=bucket.lnAvg,bounds={southWest:{lat:bucket.ltMin,lng:bucket.lnMin},northEast:{lat:bucket.ltMax,lng:bucket.lnMax}},markerData=[];bucket.term.buckets.forEach((function(bucket,index){var start=bucket.val.substring(0,4),label=start+"-"+(parseInt(start,10)+3);markerData.push({label:label,value:bucket.count,color:_map_config_map__WEBPACK_IMPORTED_MODULE_22__.b[index]}),null==legendSums[index]&&(legendSums[index]=0,legendLabels[index]=label,legendColors[index]=_map_config_map__WEBPACK_IMPORTED_MODULE_22__.b[index]),legendSums[index]+=bucket.count})),noDataValue=bucket.count-bucket.term.between.count,markerData.push({label:"noDataOrOutOfBounds",value:noDataValue,color:"silver"}),legendLabels[5]="no data/out of bounds",null==legendSums[5]&&(legendSums[5]=0),legendSums[5]+=noDataValue,legendColors[5]="silver";var atomicValue=!(!bucket.atomicCount||1!==bucket.atomicCount),key=bucket.val,yAxisRangeValue=yAxisRange.length?yAxisRange:null;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_map_ChartMarker__WEBPACK_IMPORTED_MODULE_25__.b,{borderColor:"#AAAAAA",borderWidth:3.5,id:key,position:{lat:lat,lng:lng},bounds:bounds,data:markerData,isAtomic:atomicValue,dependentAxisRange:yAxisRangeValue?{min:yAxisRangeValue[0],max:yAxisRangeValue[1]}:null,duration:duration,onClick:handleMarkerClick,dependentAxisLogScale:dependentAxisLogScale},key)})),legendData=legendSums.map((function(count,index){return{label:legendLabels[index],value:count,color:legendColors[index]}})),setLegendData(legendData),_context3.abrupt("return",markers);case 27:case"end":return _context3.stop()}}),_callee3)})));return function getCollectionDateChartMarkers(_x8,_x9,_x10,_x11,_x12,_x13){return _ref12.apply(this,arguments)}}(),getCollectionDateBasicMarkers=function(){var _ref14=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(_ref13,duration,handleMarkerClick){var bounds,zoomLevel,geohash_level,response,collectionDateData,buckets,markers;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return bounds=_ref13.bounds,zoomLevel=_ref13.zoomLevel,geohash_level=Object(_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_23__.a)(zoomLevel),_context4.next=4,fetch("data/geoclust-date-binning-testing-all-levels.json");case 4:return response=_context4.sent,_context4.next=7,response.json();case 7:return collectionDateData=_context4.sent,buckets=collectionDateData["geohash_"+geohash_level].facets.geo.buckets.filter((function(bucket){var lat=bucket.ltAvg,long=bucket.lnAvg,south=bounds.southWest.lat,north=bounds.northEast.lat,west=bounds.southWest.lng,east=bounds.northEast.lng;return lat>south&&lat<north&&(west<east-1e-8?long>west&&long<east:!(west>east+1e-8)||!(long>east&&long<west))})),markers=buckets.map((function(bucket){var lat=bucket.ltAvg,lng=bucket.lnAvg,bounds={southWest:{lat:bucket.ltMin,lng:bucket.lnMin},northEast:{lat:bucket.ltMax,lng:bucket.lnMax}},atomicValue=!(!bucket.atomicCount||1!==bucket.atomicCount),key=bucket.val;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_map_ChartMarker__WEBPACK_IMPORTED_MODULE_25__.b,{borderColor:"#AAAAAA",borderWidth:3.5,id:key,position:{lat:lat,lng:lng},bounds:bounds,data:[{label:"count",value:bucket.count,color:"white"}],isAtomic:atomicValue,dependentAxisRange:null,duration:duration,onClick:handleMarkerClick},key)})),_context4.abrupt("return",markers);case 11:case"end":return _context4.stop()}}),_callee4)})));return function getCollectionDateBasicMarkers(_x14,_x15,_x16){return _ref14.apply(this,arguments)}}()},1241:function(module,__webpack_exports__,__webpack_require__){},1242:function(module,__webpack_exports__,__webpack_require__){},1243:function(module,__webpack_exports__,__webpack_require__){},1244:function(module,exports){},1245:function(module,exports){},1246:function(module,exports){},1247:function(module,exports){},1248:function(module,exports){},1249:function(module,__webpack_exports__,__webpack_require__){},1251:function(module,exports,__webpack_require__){var api=__webpack_require__(367),content=__webpack_require__(2535);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},133:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(10),__webpack_require__(25),__webpack_require__(338),__webpack_require__(38),__webpack_require__(8),__webpack_require__(121),__webpack_require__(151),__webpack_require__(40),__webpack_require__(152),__webpack_require__(7);var react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0),_PlotlyPlot__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(105),_types_plots__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(93),_utils_extended_axis_range_truncations__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(186),_utils_truncation_layout_shapes__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(239),_utils_tick_settings__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(245),color_math__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(351);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var EmptyScatterPlotData={series:[]},ScatterPlot=Object(_PlotlyPlot__WEBPACK_IMPORTED_MODULE_11__.d)("ScatterPlot",(function(props){var _props$data=props.data,data=void 0===_props$data?EmptyScatterPlotData:_props$data,independentAxisRange=props.independentAxisRange,dependentAxisRange=props.dependentAxisRange,independentAxisLabel=props.independentAxisLabel,dependentAxisLabel=props.dependentAxisLabel,independentValueType=props.independentValueType,dependentValueType=props.dependentValueType,_props$orientation=props.orientation,orientation=void 0===_props$orientation?_types_plots__WEBPACK_IMPORTED_MODULE_12__.OrientationDefault:_props$orientation,axisTruncationConfig=props.axisTruncationConfig,_props$independentAxi=props.independentAxisLogScale,independentAxisLogScale=void 0===_props$independentAxi?_types_plots__WEBPACK_IMPORTED_MODULE_12__.independentAxisLogScaleDefault:_props$independentAxi,_props$dependentAxisL=props.dependentAxisLogScale,dependentAxisLogScale=void 0===_props$dependentAxisL?_types_plots__WEBPACK_IMPORTED_MODULE_12__.DependentAxisLogScaleDefault:_props$dependentAxisL,markerBodyOpacity=props.markerBodyOpacity,restProps=_objectWithoutProperties(props,["data","independentAxisRange","dependentAxisRange","independentAxisLabel","dependentAxisLabel","independentValueType","dependentValueType","orientation","axisTruncationConfig","independentAxisLogScale","dependentAxisLogScale","markerBodyOpacity"]),standardIndependentAxisRange=independentAxisRange,extendedIndependentAxisRange=Object(_utils_extended_axis_range_truncations__WEBPACK_IMPORTED_MODULE_13__.a)(standardIndependentAxisRange,null==axisTruncationConfig?void 0:axisTruncationConfig.independentAxis,"date"===independentValueType?"date":"number",!0,independentAxisLogScale),standardDependentAxisRange=dependentAxisRange,extendedDependentAxisRange=Object(_utils_extended_axis_range_truncations__WEBPACK_IMPORTED_MODULE_13__.a)(standardDependentAxisRange,null==axisTruncationConfig?void 0:axisTruncationConfig.dependentAxis,"date"===dependentValueType?"date":"number",!0,dependentAxisLogScale),truncatedAxisHighlighting=Object(react__WEBPACK_IMPORTED_MODULE_10__.useMemo)((function(){return data.series.length>0?Object(_utils_truncation_layout_shapes__WEBPACK_IMPORTED_MODULE_14__.a)(orientation,standardIndependentAxisRange,standardDependentAxisRange,extendedIndependentAxisRange,extendedDependentAxisRange,axisTruncationConfig):[]}),[standardDependentAxisRange,extendedDependentAxisRange,orientation,data,axisTruncationConfig]),layout={hovermode:"closest",xaxis:Object.assign({title:independentAxisLabel,range:data.series.length?[null==extendedIndependentAxisRange?void 0:extendedIndependentAxisRange.min,null==extendedIndependentAxisRange?void 0:extendedIndependentAxisRange.max].map((function(val){return independentAxisLogScale&&null!=val?Math.log10(val):val})):void 0,zeroline:!1,mirror:!0,type:"date"===independentValueType?"date":independentAxisLogScale?"log":void 0,tickfont:data.series.length?{}:{color:"transparent"}},Object(_utils_tick_settings__WEBPACK_IMPORTED_MODULE_15__.a)(independentAxisLogScale,extendedIndependentAxisRange,independentValueType)),yaxis:Object.assign({title:dependentAxisLabel,range:data.series.length?[null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.min,null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.max].map((function(val){return dependentAxisLogScale&&null!=val?Math.log10(val):val})):void 0,zeroline:!1,mirror:!0,type:"date"===dependentValueType?"date":dependentAxisLogScale?"log":void 0,tickfont:data.series.length?{}:{color:"transparent"}},Object(_utils_tick_settings__WEBPACK_IMPORTED_MODULE_15__.a)(dependentAxisLogScale,extendedDependentAxisRange,dependentValueType)),shapes:truncatedAxisHighlighting},finalData=Object(react__WEBPACK_IMPORTED_MODULE_10__.useMemo)((function(){return data.series.map((function(d){return Object.assign({},d,{marker:Object.assign({},d.marker,{color:null==d.marker?void 0:null!=markerBodyOpacity?Array.isArray(d.marker.color)?d.marker.color.map((function(color){return color_math__WEBPACK_IMPORTED_MODULE_16__.evaluate(color+" @a "+(100*markerBodyOpacity).toString()+"%").result.css()})):color_math__WEBPACK_IMPORTED_MODULE_16__.evaluate(d.marker.color+" @a "+(100*markerBodyOpacity).toString()+"%").result.css():d.marker.color,line:null==d.marker?void 0:Object.assign({},d.marker.line,{width:null!=markerBodyOpacity?0===markerBodyOpacity?1:0:1})})})}))}),[data,markerBodyOpacity]);return Object.assign({data:finalData,layout:layout},restProps)}));__webpack_exports__.a=ScatterPlot;try{ScatterPlot.displayName="ScatterPlot",ScatterPlot.__docgenInfo={description:"This component handles several plots such as marker, line, confidence interval,\ndensity, and combinations of plots like marker + line + confidence interval",displayName:"ScatterPlot",props:{independentAxisRange:{defaultValue:null,description:"x-axis range: required for confidence interval - not really",name:"independentAxisRange",required:!1,type:{name:"NumberOrDateRange"}},dependentAxisRange:{defaultValue:null,description:"y-axis range: required for confidence interval",name:"dependentAxisRange",required:!1,type:{name:"NumberOrDateRange"}},independentAxisLabel:{defaultValue:null,description:"x-axis label",name:"independentAxisLabel",required:!1,type:{name:"string"}},dependentAxisLabel:{defaultValue:null,description:"y-axis label",name:"dependentAxisLabel",required:!1,type:{name:"string"}},independentValueType:{defaultValue:null,description:"independentValueType",name:"independentValueType",required:!1,type:{name:"enum",value:[{value:'"string"'},{value:'"number"'},{value:'"date"'},{value:'"category"'},{value:'"longitude"'}]}},dependentValueType:{defaultValue:null,description:"dependentValueType",name:"dependentValueType",required:!1,type:{name:"enum",value:[{value:'"string"'},{value:'"number"'},{value:'"date"'},{value:'"category"'},{value:'"longitude"'}]}},markerBodyOpacity:{defaultValue:null,description:"marker color opacity: range from 0 to 1",name:"markerBodyOpacity",required:!1,type:{name:"number"}},data:{defaultValue:null,description:"plot data - following web-components' API, not Plotly's",name:"data",required:!1,type:{name:"ScatterPlotData"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Should plot legend be displayed? Default is yes",name:"displayLegend",required:!1,type:{name:"boolean"}},containerStyles:{defaultValue:null,description:"CSS styles for enclosing div\nDefault is { width: '100%', height: '400px' }",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},containerClass:{defaultValue:null,description:"class name for enclosing div. Default is web-components-plot",name:"containerClass",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"Enables mouse-overs and interaction if true. Default false.",name:"interactive",required:!1,type:{name:"boolean"}},displayLibraryControls:{defaultValue:null,description:"show Plotly's mode bar (only shows if interactive == true)",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},showSpinner:{defaultValue:null,description:"show a loading... spinner in the middle of the container div",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:"Show an overlay with the words 'No Data'",name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend layout and appearance.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},legendTitle:{defaultValue:null,description:"legend title",name:"legendTitle",required:!1,type:{name:"string"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},maxLegendTextLength:{defaultValue:null,description:"maximum number of characters for legend ellipsis",name:"maxLegendTextLength",required:!1,type:{name:"number"}},storedIndependentAxisTickLabel:{defaultValue:null,description:"original independent axis tick labels as data is changed at each component (barplot and boxplot)",name:"storedIndependentAxisTickLabel",required:!1,type:{name:"string[]"}},checkedLegendItems:{defaultValue:null,description:"list of checked legend items via checkbox input",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},onPlotlyRender:{defaultValue:null,description:"A function to call each time after plotly renders the plot",name:"onPlotlyRender",required:!1,type:{name:"((figure: Readonly<Figure>, graphDiv: Readonly<HTMLElement>) => void)"}},colorPalette:{defaultValue:null,description:"",name:"colorPalette",required:!1,type:{name:"string[]"}},orientation:{defaultValue:null,description:"Orientation of plot - default is vertical (e.g. independent axis at bottom)",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},independentAxisLogScale:{defaultValue:null,description:"Use a log scale for independent axis. Default is false",name:"independentAxisLogScale",required:!1,type:{name:"boolean"}},dependentAxisLogScale:{defaultValue:null,description:"Use a log scale for dependent axis. Default is false",name:"dependentAxisLogScale",required:!1,type:{name:"boolean"}},axisTruncationConfig:{defaultValue:null,description:"truncation config (flags) to show truncated axis (true) or not (false)",name:"axisTruncationConfig",required:!1,type:{name:"AxisTruncationConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/ScatterPlot.tsx#ScatterPlot"]={docgenInfo:ScatterPlot.__docgenInfo,name:"ScatterPlot",path:"src/plots/ScatterPlot.tsx#ScatterPlot"})}catch(__react_docgen_typescript_loader_error){}},134:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return NumberRangeInput})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DateRangeInput}));__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_material_ui_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(200),_constants_colors__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(36),_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(95),_Button__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(311),_Notification__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(306),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function NumberRangeInput(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(BaseInput,Object.assign({},props,{valueType:"number"}))}function DateRangeInput(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(BaseInput,Object.assign({},props,{valueType:"date"}))}function BaseInput(_ref){var range=_ref.range,_ref$required=_ref.required,required=void 0!==_ref$required&&_ref$required,rangeBounds=_ref.rangeBounds,validator=_ref.validator,onRangeChange=_ref.onRangeChange,_ref$allowPartialRang=_ref.allowPartialRange,allowPartialRange=void 0===_ref$allowPartialRang||_ref$allowPartialRang,label=_ref.label,_ref$lowerLabel=_ref.lowerLabel,lowerLabel=void 0===_ref$lowerLabel?"":_ref$lowerLabel,_ref$upperLabel=_ref.upperLabel,upperLabel=void 0===_ref$upperLabel?"":_ref$upperLabel,valueType=_ref.valueType,containerStyles=_ref.containerStyles,_ref$showClearButton=_ref.showClearButton,showClearButton=void 0!==_ref$showClearButton&&_ref$showClearButton,_ref$clearButtonLabel=_ref.clearButtonLabel,clearButtonLabel=void 0===_ref$clearButtonLabel?"Clear":_ref$clearButtonLabel,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled;validator&&required&&console.log("WARNING: NumberRangeInput or DateRangeInput will ignore `required` prop because validator was provided.");var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(range),2),localRange=_useState2[0],setLocalRange=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(!1),2),isReceiving=_useState4[0],setIsReceiving=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(""),2),validationWarning=_useState6[0],setValidationWarning=_useState6[1];Object(react__WEBPACK_IMPORTED_MODULE_12__.useEffect)((function(){setIsReceiving(!0),setLocalRange(range)}),[range]),Object(react__WEBPACK_IMPORTED_MODULE_12__.useEffect)((function(){if(!isReceiving)if(localRange&&(allowPartialRange||null!=localRange.min&&null!=localRange.max)){var _ref2=validator?validator(localRange):{validity:!0,message:""},validity=_ref2.validity,message=_ref2.message;validity?(localRange.min===(null==range?void 0:range.min)&&localRange.max===(null==range?void 0:range.max)||onRangeChange(localRange),setValidationWarning("")):setValidationWarning(message)}else null==(null==localRange?void 0:localRange.min)&&null==(null==localRange?void 0:localRange.max)&&null!=(null==range?void 0:range.min)&&null!=(null==range?void 0:range.max)?onRangeChange(void 0):localRange&&rangeBounds&&!allowPartialRange&&(null==localRange.min?setLocalRange({min:rangeBounds.min,max:localRange.max}):null==localRange.max&&setLocalRange({min:localRange.min,max:rangeBounds.max}))}),[localRange,range,isReceiving,onRangeChange,allowPartialRange,rangeBounds,validator]);var _ref3=null!=localRange?localRange:{},min=_ref3.min,max=_ref3.max;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{style:Object.assign({},containerStyles),children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{variant:"button",style:{color:disabled?_constants_colors__WEBPACK_IMPORTED_MODULE_14__.k:_constants_colors__WEBPACK_IMPORTED_MODULE_14__.a},children:label}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:["number"===valueType?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.b,{value:min,minValue:validator||null==rangeBounds?void 0:rangeBounds.min,maxValue:validator?void 0:null!=max?max:null==rangeBounds?void 0:rangeBounds.max,label:lowerLabel,required:validator?void 0:required,onValueChange:function onValueChange(newValue){setIsReceiving(!1),setLocalRange({min:newValue,max:max})},disabled:disabled}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.a,{value:min,minValue:validator||null==rangeBounds?void 0:rangeBounds.min,maxValue:validator?void 0:null!=max?max:null==rangeBounds?void 0:rangeBounds.max,label:lowerLabel,required:validator?void 0:required,onValueChange:function onValueChange(newValue){setIsReceiving(!1),setLocalRange({min:newValue,max:max})},disabled:disabled}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{style:{margin:"auto 10px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{variant:"button",style:{color:disabled?_constants_colors__WEBPACK_IMPORTED_MODULE_14__.k:_constants_colors__WEBPACK_IMPORTED_MODULE_14__.a},children:"to"})})}),"number"===valueType?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.b,{value:max,minValue:validator?void 0:null!=min?min:null==rangeBounds?void 0:rangeBounds.min,maxValue:validator||null==rangeBounds?void 0:rangeBounds.max,label:upperLabel,required:validator?void 0:required,onValueChange:function onValueChange(newValue){setIsReceiving(!1),setLocalRange({min:min,max:newValue})},disabled:disabled}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.a,{value:max,minValue:validator?void 0:null!=min?min:null==rangeBounds?void 0:rangeBounds.min,maxValue:validator||null==rangeBounds?void 0:rangeBounds.max,label:upperLabel,required:validator?void 0:required,onValueChange:function onValueChange(newValue){setIsReceiving(!1),setLocalRange({min:min,max:newValue})},disabled:disabled}),showClearButton&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_16__.a,{type:"outlined",text:clearButtonLabel,onClick:function onClick(){setIsReceiving(!1),setLocalRange(void 0)},containerStyles:{paddingLeft:"20px"}})]}),validationWarning?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_Notification__WEBPACK_IMPORTED_MODULE_17__.a,{title:"Warning",text:validationWarning,onAcknowledgement:function onAcknowledgement(){setValidationWarning("")}}):null]})}NumberRangeInput.displayName="NumberRangeInput",DateRangeInput.displayName="DateRangeInput",BaseInput.displayName="BaseInput";try{NumberRangeInput.displayName="NumberRangeInput",NumberRangeInput.__docgenInfo={description:"",displayName:"NumberRangeInput",props:{range:{defaultValue:null,description:"Externally controlled range.",name:"range",required:!1,type:{name:"NumberRange"}},required:{defaultValue:null,description:"If true, warn about empty lower or upper values. Default is false",name:"required",required:!1,type:{name:"boolean"}},onRangeChange:{defaultValue:null,description:"Function to invoke when range changes.",name:"onRangeChange",required:!0,type:{name:"(newRange?: NumberOrDateRange | undefined) => void"}},allowPartialRange:{defaultValue:null,description:"When true, allow undefined min or max. Default is true\nWhen false, and rangeBounds is given, use the min or max of rangeBounds to fill in the missing value.",name:"allowPartialRange",required:!1,type:{name:"boolean"}},rangeBounds:{defaultValue:null,description:"Minimum and maximum allowed values for the user-inputted range. Optional.",name:"rangeBounds",required:!1,type:{name:"NumberRange"}},validator:{defaultValue:null,description:"Optional validator function. Should return {validity: true, message: ''} if value is allowed.\nIf a validator is provided, `required` is no longer useful, and\nrangeBounds will only be used for auto-filling empty inputs.",name:"validator",required:!1,type:{name:"((newRange?: NumberOrDateRange) => { validity: boolean; message: string; })"}},label:{defaultValue:null,description:"UI Label for the widget. Optional",name:"label",required:!1,type:{name:"string"}},lowerLabel:{defaultValue:null,description:"Label for lower bound widget. Optional. Default is Min",name:"lowerLabel",required:!1,type:{name:"string"}},upperLabel:{defaultValue:null,description:"Label for upper bound widget. Optional. Default is Max",name:"upperLabel",required:!1,type:{name:"string"}},containerStyles:{defaultValue:null,description:"Additional styles for component container. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},showClearButton:{defaultValue:null,description:"Show cancel/clear button",name:"showClearButton",required:!1,type:{name:"boolean"}},clearButtonLabel:{defaultValue:null,description:"Text to adorn the clear button; Default is 'Clear'",name:"clearButtonLabel",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"add disabled prop to disable input fields",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/NumberAndDateRangeInputs.tsx#NumberRangeInput"]={docgenInfo:NumberRangeInput.__docgenInfo,name:"NumberRangeInput",path:"src/components/widgets/NumberAndDateRangeInputs.tsx#NumberRangeInput"})}catch(__react_docgen_typescript_loader_error){}try{DateRangeInput.displayName="DateRangeInput",DateRangeInput.__docgenInfo={description:"",displayName:"DateRangeInput",props:{range:{defaultValue:null,description:"Externally controlled range.",name:"range",required:!1,type:{name:"DateRange"}},required:{defaultValue:null,description:"If true, warn about empty lower or upper values. Default is false",name:"required",required:!1,type:{name:"boolean"}},onRangeChange:{defaultValue:null,description:"Function to invoke when range changes.",name:"onRangeChange",required:!0,type:{name:"(newRange?: NumberOrDateRange | undefined) => void"}},allowPartialRange:{defaultValue:null,description:"When true, allow undefined min or max. Default is true\nWhen false, and rangeBounds is given, use the min or max of rangeBounds to fill in the missing value.",name:"allowPartialRange",required:!1,type:{name:"boolean"}},rangeBounds:{defaultValue:null,description:"Minimum and maximum allowed values for the user-inputted range. Optional.",name:"rangeBounds",required:!1,type:{name:"DateRange"}},validator:{defaultValue:null,description:"Optional validator function. Should return {validity: true, message: ''} if value is allowed.\nIf a validator is provided, `required` is no longer useful, and\nrangeBounds will only be used for auto-filling empty inputs.",name:"validator",required:!1,type:{name:"((newRange?: NumberOrDateRange) => { validity: boolean; message: string; })"}},label:{defaultValue:null,description:"UI Label for the widget. Optional",name:"label",required:!1,type:{name:"string"}},lowerLabel:{defaultValue:null,description:"Label for lower bound widget. Optional. Default is Min",name:"lowerLabel",required:!1,type:{name:"string"}},upperLabel:{defaultValue:null,description:"Label for upper bound widget. Optional. Default is Max",name:"upperLabel",required:!1,type:{name:"string"}},containerStyles:{defaultValue:null,description:"Additional styles for component container. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},showClearButton:{defaultValue:null,description:"Show cancel/clear button",name:"showClearButton",required:!1,type:{name:"boolean"}},clearButtonLabel:{defaultValue:null,description:"Text to adorn the clear button; Default is 'Clear'",name:"clearButtonLabel",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"add disabled prop to disable input fields",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/NumberAndDateRangeInputs.tsx#DateRangeInput"]={docgenInfo:DateRangeInput.__docgenInfo,name:"DateRangeInput",path:"src/components/widgets/NumberAndDateRangeInputs.tsx#DateRangeInput"})}catch(__react_docgen_typescript_loader_error){}},1444:function(module,exports,__webpack_require__){__webpack_require__(1445),__webpack_require__(1626),__webpack_require__(1627),__webpack_require__(2692),__webpack_require__(2695),__webpack_require__(2704),__webpack_require__(2699),__webpack_require__(2705),__webpack_require__(2706),module.exports=__webpack_require__(1865)},1523:function(module,exports){},157:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FacetedPlot}));__webpack_require__(15),__webpack_require__(25),__webpack_require__(10),__webpack_require__(9),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),lodash__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(17),_veupathdb_coreui__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(167),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function renderFacetedPlot(props,ref){var data=props.data,Component=props.component,componentProps=props.componentProps,modalComponentProps=props.modalComponentProps,checkedLegendItems=props.checkedLegendItems,plotRefs=Object(react__WEBPACK_IMPORTED_MODULE_13__.useRef)([]),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(!1),2),modalIsOpen=_useState2[0],setModalIsOpen=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(null),2),modalPlot=_useState4[0],setModalPlot=_useState4[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useImperativeHandle)(ref,(function(){var _data$facets$length,plotRefsLength=null!==(_data$facets$length=null==data?void 0:data.facets.length)&&void 0!==_data$facets$length?_data$facets$length:0;return plotRefs.current=plotRefs.current.slice(0,plotRefsLength),plotRefs.current}),[null==data?void 0:data.facets]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h2",{children:componentProps.title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{style:{display:"flex",columnGap:"2.5em",overflow:"auto"},children:null==data?void 0:data.facets.map((function(_ref,index){var data=_ref.data,label=_ref.label,sharedProps=Object.assign({data:data},componentProps,{checkedLegendItems:checkedLegendItems,showNoDataOverlay:null==data}),divModalProps=modalComponentProps&&{onClick:function onClick(){setModalPlot(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(Component,Object.assign({},sharedProps,{displayLegend:!0,interactive:!0},modalComponentProps,{title:label,useResizeHandler:!0}))),setModalIsOpen(!0)},title:"Click to expand"};return Object(react__WEBPACK_IMPORTED_MODULE_13__.createElement)("div",Object.assign({},divModalProps,{key:index,style:{cursor:modalComponentProps&&"pointer"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(Component,Object.assign({},sharedProps,{ref:function ref(plotInstance){null==plotInstance?delete plotRefs.current[index]:plotRefs.current[index]=plotInstance},displayLegend:!1,interactive:!1,title:label})))}))}),modalComponentProps&&modalIsOpen&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_veupathdb_coreui__WEBPACK_IMPORTED_MODULE_15__.Modal,{visible:modalIsOpen,includeCloseButton:!0,toggleVisible:setModalIsOpen,styleOverrides:{content:{padding:{top:20,bottom:20,left:20,right:20},size:{width:"100%",height:"100%"}}},children:modalPlot})]})}var makeFacetedPlotComponent=Object(lodash__WEBPACK_IMPORTED_MODULE_14__.memoize)((function(UnfacetedPlotComponent){var FacetedPlotComponent=Object(react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)(renderFacetedPlot);return FacetedPlotComponent.displayName="FacetedPlotComponent("+(UnfacetedPlotComponent.displayName||UnfacetedPlotComponent.name)+")",FacetedPlotComponent}));function FacetedPlot(props){var FacetedPlotComponent=makeFacetedPlotComponent(props.component);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(FacetedPlotComponent,Object.assign({},props,{ref:props.facetedPlotRef}))}FacetedPlot.displayName="FacetedPlot";try{FacetedPlot.displayName="FacetedPlot",FacetedPlot.__docgenInfo={description:"",displayName:"FacetedPlot",props:{facetedPlotRef:{defaultValue:null,description:"",name:"facetedPlotRef",required:!1,type:{name:"Ref<FacetedPlotRef>"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"FacetedData<D>"}},component:{defaultValue:null,description:"",name:"component",required:!0,type:{name:"ComponentWithPlotRef<P>"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!0,type:{name:"PlotProps<D>"}},modalComponentProps:{defaultValue:null,description:"Provide modalComponentProps to activate click-to-expand\nThese are the props the expanded plot inside the modal will receive",name:"modalComponentProps",required:!1,type:{name:"PlotProps<D>"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/FacetedPlot.tsx#FacetedPlot"]={docgenInfo:FacetedPlot.__docgenInfo,name:"FacetedPlot",path:"src/plots/FacetedPlot.tsx#FacetedPlot"})}catch(__react_docgen_typescript_loader_error){}},1627:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(924)},164:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SliderWidget}));__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1336),_material_ui_core_Slider__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2730),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(200),_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(95),_constants_colors__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(36),lodash__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(17),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SliderWidget(_ref){var minimum=_ref.minimum,maximum=_ref.maximum,value=_ref.value,valueFormatter=_ref.valueFormatter,_ref$step=_ref.step,step=void 0===_ref$step?1:_ref$step,_ref$debounceRateMs=_ref.debounceRateMs,debounceRateMs=void 0===_ref$debounceRateMs?100:_ref$debounceRateMs,onChange=_ref.onChange,label=_ref.label,colorSpec=_ref.colorSpec,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,showTextInput=_ref.showTextInput,_ref$showLimits=_ref.showLimits,showLimits=void 0!==_ref$showLimits&&_ref$showLimits,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(!1),2),setFocused=(_useState2[0],_useState2[1]),classes=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_13__.a)({root:Object.assign({height:0,paddingTop:11,flex:1,width:"11em"},showLimits&&null!=minimum&&null!=maximum?{marginLeft:"1.0em",marginRight:"1.0em"}:{}),rail:{background:colorSpec?"gradient"===colorSpec.type?"linear-gradient(90deg, "+colorSpec.trackGradientStart+", "+colorSpec.trackGradientEnd+")":colorSpec.trackColor:_constants_colors__WEBPACK_IMPORTED_MODULE_17__.e,opacity:1,height:8,borderRadius:5,marginTop:-3},track:{display:"none"},thumb:{backgroundColor:"#fff",border:"2px solid "+(colorSpec?colorSpec.knobColor:disabled?_constants_colors__WEBPACK_IMPORTED_MODULE_17__.e:_constants_colors__WEBPACK_IMPORTED_MODULE_17__.k)},disabled:{},valueLabel:{color:colorSpec?colorSpec.tooltip:_constants_colors__WEBPACK_IMPORTED_MODULE_17__.k,marginLeft:2}})(),_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(value),2),localValue=_useState4[0],setLocalValue=_useState4[1],debouncedOnChange=Object(react__WEBPACK_IMPORTED_MODULE_12__.useMemo)((function(){return Object(lodash__WEBPACK_IMPORTED_MODULE_18__.debounce)(onChange,debounceRateMs)}),[onChange]);Object(react__WEBPACK_IMPORTED_MODULE_12__.useEffect)((function(){return debouncedOnChange.cancel}),[]),Object(react__WEBPACK_IMPORTED_MODULE_12__.useEffect)((function(){setLocalValue(value)}),[value]);var handleChange=Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)((function(_,value){if(Array.isArray(value))throw new Error("Expected a number, but got an array.");setLocalValue(value),debouncedOnChange(value)}),[debouncedOnChange]),valueLabelDisplay=showTextInput?"off":"auto",fontColor=disabled?_constants_colors__WEBPACK_IMPORTED_MODULE_17__.k:_constants_colors__WEBPACK_IMPORTED_MODULE_17__.b;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},containerStyles),onMouseOver:function onMouseOver(){return setFocused(!0)},onMouseOut:function onMouseOut(){return setFocused(!1)},children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15__.a,{variant:"button",style:{color:fontColor,paddingRight:15},children:label}),showTextInput&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_16__.b,{value:null!=localValue?localValue:0,minValue:minimum,maxValue:maximum,onValueChange:function onValueChange(newValue){return null!=newValue&&handleChange(null,newValue)},displayRangeViolationWarnings:!1,containerStyles:{maxWidth:100,marginRight:10},disabled:disabled}),showLimits&&null!=minimum&&null!=maximum&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15__.a,{style:{color:fontColor,fontSize:"0.75em"},children:minimum}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_material_ui_core_Slider__WEBPACK_IMPORTED_MODULE_14__.a,{classes:{root:classes.root,rail:classes.rail,track:classes.track,thumb:classes.thumb,valueLabel:classes.valueLabel,disabled:classes.disabled},"aria-label":null!=label?label:"slider",min:minimum,max:maximum,value:null!=localValue?localValue:0,step:step,valueLabelDisplay:valueLabelDisplay,valueLabelFormat:valueFormatter,onChange:handleChange,disabled:disabled}),showLimits&&null!=minimum&&null!=maximum&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15__.a,{style:{color:fontColor,fontSize:"0.75em"},children:maximum})]})}SliderWidget.displayName="SliderWidget";try{Slider.displayName="Slider",Slider.__docgenInfo={description:"A customizable slider widget.\n\nTODO: There is a good chance that we will need to add some debounce logic\nto allow for us to update UI immediately and then handle backend calls\nas needed.",displayName:"Slider",props:{minimum:{defaultValue:null,description:"The minimum value of the slider.",name:"minimum",required:!1,type:{name:"number"}},maximum:{defaultValue:null,description:"The maximum value of the slider.",name:"maximum",required:!1,type:{name:"number"}},value:{defaultValue:null,description:"The current value of the slider.",name:"value",required:!1,type:{name:"number"}},valueFormatter:{defaultValue:null,description:"An optional function which returns a string\nrepresentation of the value. Used in the tooltip.",name:"valueFormatter",required:!1,type:{name:"((value: number) => string)"}},step:{defaultValue:{value:"1"},description:"The amount the value will change each time the mouse moves. Defaults to 1.",name:"step",required:!1,type:{name:"number"}},debounceRateMs:{defaultValue:{value:"100"},description:"Rate at which to debounce onChange calls, in milliseconds. Defaults to 100.",name:"debounceRateMs",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"Function to invoke whenever the value changes.",name:"onChange",required:!0,type:{name:"(value: number) => void"}},label:{defaultValue:null,description:"Optional label for the widget.",name:"label",required:!1,type:{name:"string"}},colorSpec:{defaultValue:null,description:"Optional color specification that allows for complete\ncontrol of slider colors.",name:"colorSpec",required:!1,type:{name:'{ type: "singleColor"; tooltip: string; trackColor: string; knobColor: string; } | { type: "gradient"; tooltip: string; knobColor: string; trackGradientStart: string; trackGradientEnd: string; }'}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to component container.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},showTextInput:{defaultValue:null,description:"Show an auxillary text input box",name:"showTextInput",required:!1,type:{name:"boolean"}},showLimits:{defaultValue:{value:"false"},description:"Show min and max limits",name:"showLimits",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"Disable the slider. Default is false",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/Slider.tsx#Slider"]={docgenInfo:Slider.__docgenInfo,name:"Slider",path:"src/components/widgets/Slider.tsx#Slider"})}catch(__react_docgen_typescript_loader_error){}},165:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return geohashAnimation}));__webpack_require__(41),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(19),__webpack_require__(15),__webpack_require__(9),__webpack_require__(25),__webpack_require__(74);var react=__webpack_require__(0);function updateMarkers(toChangeMarkers,sourceMarkers,hashDif){return toChangeMarkers.map((function(markerObj){var sourceHash=markerObj.key.slice(0,-hashDif),matchingMarkers=sourceMarkers.filter((function(obj){return obj.key===sourceHash})),markerCloneProps={};return 1==matchingMarkers.length&&(markerCloneProps={position:matchingMarkers[0].props.position}),Object(react.cloneElement)(markerObj,markerCloneProps)}))}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function geohashAnimation(_ref){var zoomType,consolidatedMarkers,prevMarkers=_ref.prevMarkers,markers=_ref.markers,prevGeoHash=prevMarkers[0].key,currentGeohash=markers[0].key;if(prevGeoHash.length>currentGeohash.length){zoomType="out";var cloneArray=updateMarkers(prevMarkers,markers,prevGeoHash.length-currentGeohash.length);consolidatedMarkers=[].concat(_toConsumableArray(markers),_toConsumableArray(cloneArray))}else if(prevGeoHash.length<currentGeohash.length){zoomType="in",consolidatedMarkers=updateMarkers(markers,prevMarkers,currentGeohash.length-prevGeoHash.length)}else zoomType=null,consolidatedMarkers=_toConsumableArray(markers);return{zoomType:zoomType,markers:consolidatedMarkers}}try{geohash.displayName="geohash",geohash.__docgenInfo={description:"",displayName:"geohash",props:{prevMarkers:{defaultValue:null,description:"",name:"prevMarkers",required:!0,type:{name:"ReactElement<MarkerProps, string | JSXElementConstructor<any>>[]"}},markers:{defaultValue:null,description:"",name:"markers",required:!0,type:{name:"ReactElement<MarkerProps, string | JSXElementConstructor<any>>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/animation_functions/geohash.tsx#geohash"]={docgenInfo:geohash.__docgenInfo,name:"geohash",path:"src/map/animation_functions/geohash.tsx#geohash"})}catch(__react_docgen_typescript_loader_error){}},178:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return isHistogramData})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isPiePlotData})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isDate})),__webpack_require__.d(__webpack_exports__,"d",(function(){return isNumber})),__webpack_require__.d(__webpack_exports__,"a",(function(){return isArrayOfNumbersOrNulls}));__webpack_require__(2532),__webpack_require__(40),__webpack_require__(8),__webpack_require__(121),__webpack_require__(151),__webpack_require__(38);function isHistogramData(data){return!!("series"in data&&"length"in data.series&&data.series.length&&"bins"in data.series[0])}function isPiePlotData(data){return!!("slices"in data&&"length"in data.slices&&data.slices.length&&"value"in data.slices[0]&&"label"in data.slices[0])}function isDate(date){return"Invalid Date"!==new Date(date).toString()}function isNumber(x){return"number"==typeof x}function isArrayOfNumbersOrNulls(array){return array.length>0&&array.every((function(el){return null===el||"number"==typeof el}))}},186:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return extendAxisRangeForTruncations}));__webpack_require__(151),__webpack_require__(828),__webpack_require__(338);var date_arithmetic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(120);function extendAxisRangeForTruncations(axisRange,config,valueType){var addPadding=arguments.length>3&&void 0!==arguments[3]&&arguments[3],logScale=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!=axisRange){var truncationMarginFactor=.05,noTruncationMarginFactor=.02;if(null!=valueType){if("date"===valueType){var dateRangeDiff=Math.round(date_arithmetic__WEBPACK_IMPORTED_MODULE_3__.b(new Date(null==axisRange?void 0:axisRange.min),new Date(null==axisRange?void 0:axisRange.max),"hours")*truncationMarginFactor),dateRangeDiffNoTruncation=Math.round(.02*date_arithmetic__WEBPACK_IMPORTED_MODULE_3__.b(new Date(axisRange.min),new Date(axisRange.max),"hours")),axisLowerExtensionStart=date_arithmetic__WEBPACK_IMPORTED_MODULE_3__.d(new Date(axisRange.min),null!=config&&config.min?dateRangeDiff:addPadding?dateRangeDiffNoTruncation:0,"hours").toISOString(),axisUpperExtensionEnd=date_arithmetic__WEBPACK_IMPORTED_MODULE_3__.a(new Date(axisRange.max),null!=config&&config.max?dateRangeDiff:addPadding?dateRangeDiffNoTruncation:0,"hours").toISOString();return{min:axisLowerExtensionStart,max:axisUpperExtensionEnd}}var diff=axisRange.max-axisRange.min,ratio=axisRange.max/axisRange.min,_axisLowerExtensionStart=null!=config&&config.min?logScale&&isFinite(ratio)&&ratio>0?axisRange.min/Math.pow(10,truncationMarginFactor*Math.log10(ratio)):axisRange.min-truncationMarginFactor*diff:addPadding?logScale&&isFinite(ratio)&&ratio>0?axisRange.min/Math.pow(10,noTruncationMarginFactor*Math.log10(ratio)):axisRange.min-noTruncationMarginFactor*diff:axisRange.min,_axisUpperExtensionEnd=null!=config&&config.max?logScale&&isFinite(ratio)&&ratio>0?axisRange.max*Math.pow(10,truncationMarginFactor*Math.log10(ratio)):axisRange.max+truncationMarginFactor*diff:addPadding?logScale&&isFinite(ratio)&&ratio>0?axisRange.max*Math.pow(10,noTruncationMarginFactor*Math.log10(ratio)):axisRange.max+noTruncationMarginFactor*diff:axisRange.max;return{min:_axisLowerExtensionStart,max:_axisUpperExtensionEnd}}}}},1865:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(924).configure)([__webpack_require__(1866)],module,!1)}).call(this,__webpack_require__(289)(module))},1866:function(module,exports,__webpack_require__){var map={"./EntityDiagram/EntityDiagram.stories.tsx":2707,"./map/PopupError.stories.tsx":1879,"./stories/AnimatedMarkers.stories.tsx":1880,"./stories/ChartMarkers.stories.tsx":1929,"./stories/DonutMarkers.stories.tsx":2636,"./stories/Map.stories.tsx":2637,"./stories/MapRefRelated.stories.tsx":2638,"./stories/MultipleWorlds.stories.tsx":2639,"./stories/SidebarResize.stories.tsx":2708,"./stories/SidebarStandAlone.stories.tsx":2643,"./stories/colormaps/Categorical.stories.tsx":2644,"./stories/colormaps/GradientDiverging.stories.tsx":2675,"./stories/colormaps/GradientSequential.stories.tsx":2676,"./stories/plotControls/HistogramControls.stories.tsx":2677,"./stories/plotControls/PieControls.stories.tsx":2709,"./stories/plotControls/PlotLegend.stories.tsx":2680,"./stories/plotControls/ScatterPlotControls.stories.tsx":2710,"./stories/plots/Barplot.stories.tsx":2711,"./stories/plots/BirdsEyePlot.stories.tsx":2712,"./stories/plots/Boxplot.stories.tsx":2700,"./stories/plots/Heatmap.stories.tsx":2701,"./stories/plots/Histogram.stories.tsx":2698,"./stories/plots/LinePlot.stories.tsx":2702,"./stories/plots/MosaicPlot.stories.tsx":2703,"./stories/plots/PiePlot.stories.tsx":2713,"./stories/plots/PlotlyPlot.stories.tsx":2681,"./stories/plots/ScatterPlot.stories.tsx":2714,"./stories/widgets/ButtonGroup.stories.tsx":2682,"./stories/widgets/DateInput.stories.tsx":2683,"./stories/widgets/DateRangeInput.stories.tsx":2684,"./stories/widgets/NumberInput.stories.tsx":2685,"./stories/widgets/NumberRangeInput.stories.tsx":2686,"./stories/widgets/OpacitySlider.stories.tsx":2687,"./stories/widgets/OrientationToggle.stories.tsx":2688,"./stories/widgets/PopoverButton.stories.tsx":2715,"./stories/widgets/RadioButtonGroup.stories.tsx":2689,"./stories/widgets/Slider.stories.tsx":2690};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1866},1877:function(module,exports,__webpack_require__){var api=__webpack_require__(367),content=__webpack_require__(1878);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1878:function(module,exports,__webpack_require__){(exports=__webpack_require__(368)(!1)).push([module.i,".mini-diagram {\n  position: absolute;\n}\n\n.expanded-diagram {\n  margin: auto;\n  max-width: 100vw;\n}\n\n.expanded-diagram-enter {\n  opacity: 0;\n  transform: scale(-0.5);\n  transform-origin: top left;\n  margin-top: 60px;\n  margin-left: 60px;\n}\n\n.expanded-diagram-enter-active {\n  opacity: 1;\n  transition: 1000ms;\n  transform: initial;\n  margin-top: 0;\n  margin-left: 0;\n}\n\n.expanded-diagram-exit {\n  opacity: 1;\n}\n.expanded-diagram-exit-active {\n  opacity: 0;\n  transition: 1000ms;\n  transform: scale(-0.2);\n  transform-origin: top left;\n}\n",""]),module.exports=exports},1879:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"PopupError",(function(){return PopupError}));__webpack_require__(445),__webpack_require__(8),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__),react_leaflet__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1330),react_leaflet__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(354),react_leaflet__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2716),react_leaflet__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1331),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Popup Errors",component:Map};var position=[51.505,-.09],PopupError=function PopupError(){var _React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(!1),2),showPopup=_React$useState2[0],setShowPopup=_React$useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("button",{onClick:function onClick(){return setShowPopup((function(val){return!val}))},children:"Toggle popups"})," ","(show: ",showPopup?"true":"false",")",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(react_leaflet__WEBPACK_IMPORTED_MODULE_14__.a,{style:{height:500,width:500},center:position,zoom:12,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_15__.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.a,{position:position,children:showPopup&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_17__.a,{children:"Hello, world"})})]})]})};PopupError.parameters=Object.assign({storySource:{source:"() => {\n  const [showPopup, setShowPopup] = React.useState(false);\n  return (\n    <>\n      <button onClick={() => setShowPopup((val) => !val)}>Toggle popups</button>{' '}\n      (show: {showPopup ? 'true' : 'false'})\n      <MapContainer\n        style={{ height: 500, width: 500 }}\n        center={position}\n        zoom={12}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        <Marker position={position}>\n          {showPopup && <Popup>Hello, world</Popup>}\n        </Marker>\n      </MapContainer>\n    </>\n  );\n}"}},PopupError.parameters)},188:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react=__webpack_require__(0),Dropdown=(__webpack_require__(25),__webpack_require__(502)),jsx_runtime=(__webpack_require__(2533),__webpack_require__(1251),__webpack_require__(1));function LegendListDropDown(props){var dropDownID="";return dropDownID="categorical"===props.legendType?"legend-dropdown-category":"legend-dropdown-chart",Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(Dropdown.a,{children:[Object(jsx_runtime.jsx)(Dropdown.a.Toggle,{variant:"success",id:dropDownID,children:props.dropdownTitle}),Object(jsx_runtime.jsx)(Dropdown.a.Menu,{className:"legend-dropdown-menu",children:props.dropdownItemText.map((function(item,index){return Object(jsx_runtime.jsx)(Dropdown.a.Item,{href:props.dropdownHref[index],className:"legend-dropdown-item",children:item},props.dropdownItemText[index])}))})]},props.dropdownTitle),Object(jsx_runtime.jsx)("br",{})]})}try{LegendListDropDown.displayName="LegendListDropDown",LegendListDropDown.__docgenInfo={description:"",displayName:"LegendListDropDown",props:{legendType:{defaultValue:null,description:"",name:"legendType",required:!0,type:{name:"string"}},dropdownTitle:{defaultValue:null,description:"",name:"dropdownTitle",required:!0,type:{name:"string"}},dropdownHref:{defaultValue:null,description:"",name:"dropdownHref",required:!0,type:{name:"string[]"}},dropdownItemText:{defaultValue:null,description:"",name:"dropdownItemText",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/LegendListDropDown.tsx#LegendListDropDown"]={docgenInfo:LegendListDropDown.__docgenInfo,name:"LegendListDropDown",path:"src/map/LegendListDropDown.tsx#LegendListDropDown"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(107),__webpack_require__(50),__webpack_require__(121),__webpack_require__(151),__webpack_require__(143);var lib=__webpack_require__(1324),lib_default=__webpack_require__.n(lib);__webpack_require__(2568);function numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function LegendListSquare(props){var labels=[],maxList=10,legendIconClass="";"numeric"===props.legendType&&(legendIconClass=" legend-square-icon"),props.data.length<=maxList&&(maxList=props.data.length),labels.push('<div class="legend-field-text"># of '+props.legendInfoNumberText+"</div>");for(var i=0;i<maxList;i++)labels.push('<div class="active-legend-area'+legendIconClass+'"><div class="active-legend" title="'+props.data[i].label+'"><i style="background:'+props.data[i].color+'"></i> <em>'+props.data[i].label.truncate(22)+'</em></div></div><div class="legend-count">'+numberWithCommas(props.data[i].value)+"</div>");if(props.data.length>maxList){for(var othersSum=0,_i=10;_i<props.data.length;_i++)othersSum+=props.data[_i].value;labels.push('<div class="active-legend-area"><div class="active-legend" title="Others"><i style="background:silver"></i> <em>Others</em></div></div><div class="legend-count">'+numberWithCommas(othersSum)+"</div>")}var SingleLabels=labels.join("<br>");return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:lib_default()(SingleLabels)})}String.prototype.truncate=function(max,add){return add=add||"...",this.length>max?this.substring(0,max)+add:this};try{LegendListGeneral.displayName="LegendListGeneral",LegendListGeneral.__docgenInfo={description:"",displayName:"LegendListGeneral",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ label: string; value: number; color: string; }[]"}},legendType:{defaultValue:null,description:"",name:"legendType",required:!0,type:{name:"string"}},legendInfoNumberText:{defaultValue:null,description:"",name:"legendInfoNumberText",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/LegendListGeneral.tsx#LegendListGeneral"]={docgenInfo:LegendListGeneral.__docgenInfo,name:"LegendListGeneral",path:"src/map/LegendListGeneral.tsx#LegendListGeneral"})}catch(__react_docgen_typescript_loader_error){}function LegendListRadioButton_numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function LegendListRadioButton(props){return"categorical"==props.legendType?null:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsxs)("div",{className:"legend-list-radio-button",children:[Object(jsx_runtime.jsx)("div",{className:"legend-list-radio-button-title",children:Object(jsx_runtime.jsx)("b",{children:"Y-axis scaling"})}),Object(jsx_runtime.jsx)("input",{id:"Regional",type:"radio",value:"Regional",name:"legendListRadio",onChange:props.onChange,checked:"Regional"===props.selectedOption}),"",Object(jsx_runtime.jsxs)("label",{htmlFor:"Regional",children:[" ","Regional (",props.dependentAxisRange&&props.dependentAxisRange[0]?LegendListRadioButton_numberWithCommas(props.dependentAxisRange[0]):0," ","-"," ",props.dependentAxisRange&&props.dependentAxisRange[1]?LegendListRadioButton_numberWithCommas(props.dependentAxisRange[1]):0,")"]}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("input",{id:"Individual",type:"radio",value:"Individual",name:"legendListRadio",onChange:props.onChange,checked:"Individual"===props.selectedOption}),"",Object(jsx_runtime.jsx)("label",{htmlFor:"Individual",children:" Per-marker (varies)"})]})]})}try{LegendListRadioButton.displayName="LegendListRadioButton",LegendListRadioButton.__docgenInfo={description:"",displayName:"LegendListRadioButton",props:{legendType:{defaultValue:null,description:"",name:"legendType",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>) => void)"}},selectedOption:{defaultValue:null,description:"",name:"selectedOption",required:!1,type:{name:"string"}},dependentAxisRange:{defaultValue:null,description:"",name:"dependentAxisRange",required:!1,type:{name:"number[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/LegendListRadioButton.tsx#LegendListRadioButton"]={docgenInfo:LegendListRadioButton.__docgenInfo,name:"LegendListRadioButton",path:"src/map/LegendListRadioButton.tsx#LegendListRadioButton"})}catch(__react_docgen_typescript_loader_error){}function LegendListInfo(props){var legendListInfoImage="";return"categorical"==props.legendType?(legendListInfoImage="./img/legend-info-donut-capture.png",Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsxs)("div",{className:"legend-donut-marker-description",children:[Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)("b",{children:"Marker key"})}),Object(jsx_runtime.jsx)("img",{width:"95%",height:"95%",src:legendListInfoImage})]})]})):(legendListInfoImage="./img/legend-chart-arrow-new.png",Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsxs)("div",{className:"legend-chart-marker-description",children:[Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)("b",{children:"Marker key"})}),Object(jsx_runtime.jsxs)("div",{className:"legend-info-contents",children:[Object(jsx_runtime.jsx)("div",{className:"legend-info-image",children:Object(jsx_runtime.jsx)("img",{width:"80%",height:"80%",src:legendListInfoImage})}),Object(jsx_runtime.jsxs)("div",{className:"legend-info-text",children:["marker is fully disaggregated",Object(jsx_runtime.jsx)("br",{}),"color by ",props.dropdownTitle,Object(jsx_runtime.jsx)("br",{}),"number of ",props.legendInfoNumberText]})]})]})}))}try{LegendListInfo.displayName="LegendListInfo",LegendListInfo.__docgenInfo={description:"",displayName:"LegendListInfo",props:{legendType:{defaultValue:null,description:"",name:"legendType",required:!0,type:{name:"string"}},dropdownTitle:{defaultValue:null,description:"",name:"dropdownTitle",required:!0,type:{name:"string"}},legendInfoNumberText:{defaultValue:null,description:"",name:"legendInfoNumberText",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/LegendListInfo.tsx#LegendListInfo"]={docgenInfo:LegendListInfo.__docgenInfo,name:"LegendListInfo",path:"src/map/LegendListInfo.tsx#LegendListInfo"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.a=function MapVEuLegendSampleListHide(props){var legendIconClass="";legendIconClass="categorical"===props.legendType?"legend-contents":"legend-contents-numeric";var legendWrapper=Object(react.useRef)(),_useState2=_slicedToArray(Object(react.useState)(!1),2),legendStatus=_useState2[0],setlegendStatus=_useState2[1];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{ref:legendWrapper,className:"legend-wrapper",children:Object(jsx_runtime.jsx)("div",{className:"legend-nav",children:Object(jsx_runtime.jsx)("div",{className:"info legend",children:Object(jsx_runtime.jsxs)("div",{className:legendIconClass,children:[Object(jsx_runtime.jsx)(LegendListDropDown,{legendType:props.legendType,dropdownTitle:props.dropdownTitle,dropdownHref:props.dropdownHref,dropdownItemText:props.dropdownItemText}),Object(jsx_runtime.jsx)(LegendListSquare,{data:props.data,legendType:props.legendType,legendInfoNumberText:props.legendInfoNumberText}),Object(jsx_runtime.jsx)(LegendListRadioButton,{legendType:props.legendType,onChange:props.onChange,selectedOption:props.selectedOption,dependentAxisRange:props.dependentAxisRange}),Object(jsx_runtime.jsx)(LegendListInfo,{legendType:props.legendType,dropdownTitle:props.dropdownTitle,legendInfoNumberText:props.legendInfoNumberText})]})})})}),Object(jsx_runtime.jsx)("div",{className:"legend-display-button active",children:Object(jsx_runtime.jsxs)("button",{className:"legend-nav-icon",onClick:function onClick(e){return function legendShowHideButtonClick(e){var wrapper=legendWrapper?legendWrapper.current:void 0;wrapper&&(wrapper.classList.toggle("hiding-legend"),setlegendStatus(!!wrapper.classList.contains("hiding-legend")))}()},children:[" ",legendStatus?"Show":" Hide"," Legend"," "]})})]})};try{MapVEuLegendSampleList.displayName="MapVEuLegendSampleList",MapVEuLegendSampleList.__docgenInfo={description:"",displayName:"MapVEuLegendSampleList",props:{legendType:{defaultValue:null,description:"",name:"legendType",required:!0,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ label: string; value: number; color: string; }[]"}},variableLabel:{defaultValue:null,description:"",name:"variableLabel",required:!1,type:{name:"string"}},quantityLabel:{defaultValue:null,description:"",name:"quantityLabel",required:!1,type:{name:"string"}},tickLabelsVisible:{defaultValue:null,description:"",name:"tickLabelsVisible",required:!1,type:{name:"boolean"}},onShowFilter:{defaultValue:null,description:"",name:"onShowFilter",required:!1,type:{name:"(() => {})"}},onShowVariableChooser:{defaultValue:null,description:"",name:"onShowVariableChooser",required:!1,type:{name:"(() => {})"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>) => void)"}},selectedOption:{defaultValue:null,description:"",name:"selectedOption",required:!1,type:{name:"string"}},dropdownTitle:{defaultValue:null,description:"",name:"dropdownTitle",required:!0,type:{name:"string"}},dropdownHref:{defaultValue:null,description:"",name:"dropdownHref",required:!0,type:{name:"string[]"}},dropdownItemText:{defaultValue:null,description:"",name:"dropdownItemText",required:!0,type:{name:"string[]"}},dependentAxisRange:{defaultValue:null,description:"",name:"dependentAxisRange",required:!1,type:{name:"number[]"}},legendInfoNumberText:{defaultValue:null,description:"",name:"legendInfoNumberText",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/MapVEuLegendSampleList.tsx#MapVEuLegendSampleList"]={docgenInfo:MapVEuLegendSampleList.__docgenInfo,name:"MapVEuLegendSampleList",path:"src/map/MapVEuLegendSampleList.tsx#MapVEuLegendSampleList"})}catch(__react_docgen_typescript_loader_error){}},1880:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"DifferentSpeeds",(function(){return DifferentSpeeds})),__webpack_require__.d(__webpack_exports__,"NoAnimation",(function(){return NoAnimation}));__webpack_require__(445),__webpack_require__(8),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(25),__webpack_require__(1013),__webpack_require__(19),__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(15),__webpack_require__(9);var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(70),latlon_geohash__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(604),_map_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_19__=(__webpack_require__(1029),__webpack_require__(302)),_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(165),_map_config_map__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(56),_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(60),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Map/Zoom animation"};var defaultAnimation={method:"geohash",animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_20__.a,duration:_map_config_map__WEBPACK_IMPORTED_MODULE_21__.c},getMarkerElements=function getMarkerElements(_ref,numMarkers,duration){var bounds=_ref.bounds,zoomLevel=_ref.zoomLevel;console.log("I've been triggered with longitude bounds=["+bounds.southWest.lng+" TO "+bounds.northEast.lng+"] and zoom="+zoomLevel);var seed,aggsByGeohash=new Map,myRandom=(seed=49734321,function(){return(268435455&(seed=4294967295&(3042594569^(seed=4251993797+(seed=4294967295&(3550635116+(seed=374761393+(seed=4294967295&(3345072700^(seed=seed+2127912214+(seed<<12)&4294967295)^seed>>>19))+(seed<<5)&4294967295)^seed<<9))+(seed<<3)&4294967295)^seed>>>16)))/268435456}),lats=[],longs=[],geohashLevel=Object(_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_22__.a)(zoomLevel);return console.log("geohashlevel "+geohashLevel),Array(numMarkers).fill(void 0).map((function(){var lat=180*myRandom()-90,long=360*myRandom()-180;if(lats.length>0&&myRandom()<.75){var idx=Math.floor(myRandom()*lats.length);lat+=.999*(lats[idx]-lat),long+=.999*(longs[idx]-long)}var south=bounds.southWest.lat,north=bounds.northEast.lat,west=bounds.southWest.lng,east=bounds.northEast.lng;if(lat>south&&lat<north&&(west<east-1e-8?long>west&&long<east:!(west>east+1e-8)||!(long>east&&long<west))){var geohash=latlon_geohash__WEBPACK_IMPORTED_MODULE_17__.a.encode(lat,long,geohashLevel),agg=aggsByGeohash.get(geohash);null==agg&&(agg={lat:0,long:0,latMin:void 0,latMax:void 0,longMin:void 0,longMax:void 0,count:0,geohash:geohash},aggsByGeohash.set(geohash,agg)),agg.lat=agg.lat+lat,agg.long=agg.long+long,(null==agg.latMin||lat<agg.latMin)&&(agg.latMin=lat),(null==agg.longMin||long<agg.longMin)&&(agg.longMin=long),(null==agg.latMax||lat>agg.latMax)&&(agg.latMax=lat),(null==agg.longMax||long>agg.longMax)&&(agg.longMax=long),agg.count++}lats.push(lat),longs.push(long)})),Array.from(aggsByGeohash.values()).map((function(agg){var meanLat=agg.lat/agg.count,meanLong=agg.long/agg.count,key=agg.geohash;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_19__.a,{duration:duration,id:key,position:{lat:meanLat,lng:meanLong},bounds:{southWest:{lat:agg.latMin,lng:agg.longMin},northEast:{lat:agg.latMax,lng:agg.longMax}}},key)}))},Default=function Default(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],duration=_map_config_map__WEBPACK_IMPORTED_MODULE_21__.c,handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(bvp){setMarkerElements(getMarkerElements(bvp,1e5,duration))}),[setMarkerElements]),_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)({center:[20,-3],zoom:5}),2),viewport=_useState4[0],setViewport=_useState4[1],onViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(_ref2){var center=_ref2.center,zoom=_ref2.zoom;null!=center&&2===center.length&&null!=zoom&&setViewport({center:center,zoom:zoom})}),[setMarkerElements]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_16__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:onViewportChanged,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,showScale:null!=viewport.zoom&&viewport.zoom>4}))};Default.displayName="Default",Default.args={showGrid:!0,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_22__.a,height:"100vh",width:"100vw"};var DifferentSpeeds=function DifferentSpeeds(args){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)([]),2),markerElements=_useState6[0],setMarkerElements=_useState6[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(bvp){setMarkerElements(getMarkerElements(bvp,1e5,args.animationDuration))}),[setMarkerElements,args.animationDuration]),_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)({center:[20,-3],zoom:5}),2),viewport=_useState8[0],setViewport=_useState8[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_16__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:{method:"geohash",animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_20__.a,duration:args.animationDuration}}))};DifferentSpeeds.displayName="DifferentSpeeds",DifferentSpeeds.args={animationDuration:2e3,showGrid:!0,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_22__.a,height:"100vh",width:"100vw"};var NoAnimation=function NoAnimation(args){var _useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)([]),2),markerElements=_useState10[0],setMarkerElements=_useState10[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(bvp){setMarkerElements(getMarkerElements(bvp,1e5,1))}),[setMarkerElements]),_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)({center:[20,-3],zoom:5}),2),viewport=_useState12[0],setViewport=_useState12[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_16__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:null}))};NoAnimation.displayName="NoAnimation",NoAnimation.args={showGrid:!0,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_22__.a,height:"100vh",width:"100vw"},Default.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const duration = defaultAnimationDuration;\n  const handleViewportChanged = useCallback(\n    (bvp: BoundsViewport) => {\n      setMarkerElements(getMarkerElements(bvp, 100000, duration));\n    },\n    [setMarkerElements]\n  );\n\n  // add setViewport and onViewportChanged to test showScale\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [20, -3],\n    zoom: 5,\n  });\n  const onViewportChanged: MapVEuMapProps['onViewportChanged'] = useCallback(\n    ({ center, zoom }) => {\n      if (center != null && center.length === 2 && zoom != null) {\n        setViewport({ center: center, zoom: zoom });\n      }\n    },\n    [setMarkerElements]\n  );\n\n  return (\n    <MapVEuMap\n      {...args}\n      viewport={viewport}\n      // add onViewportChanged to test showScale\n      onViewportChanged={onViewportChanged}\n      onBoundsChanged={handleViewportChanged}\n      markers={markerElements}\n      animation={defaultAnimation}\n      // test showScale: currently set to show from zoom = 5\n      showScale={viewport.zoom != null && viewport.zoom > 4 ? true : false}\n    />\n  );\n}"}},Default.parameters),DifferentSpeeds.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const handleViewportChanged = useCallback(\n    (bvp: BoundsViewport) => {\n      setMarkerElements(getMarkerElements(bvp, 100000, args.animationDuration));\n    },\n    [setMarkerElements, args.animationDuration]\n  );\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [20, -3],\n    zoom: 5,\n  });\n\n  return (\n    <MapVEuMap\n      {...args}\n      viewport={viewport}\n      onViewportChanged={setViewport}\n      onBoundsChanged={handleViewportChanged}\n      markers={markerElements}\n      animation={{\n        method: 'geohash',\n        animationFunction: geohashAnimation,\n        duration: args.animationDuration,\n      }}\n    />\n  );\n}"}},DifferentSpeeds.parameters),NoAnimation.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const handleViewportChanged = useCallback(\n    (bvp: BoundsViewport) => {\n      setMarkerElements(getMarkerElements(bvp, 100000, 1));\n    },\n    [setMarkerElements]\n  );\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [20, -3],\n    zoom: 5,\n  });\n\n  return (\n    <MapVEuMap\n      {...args}\n      viewport={viewport}\n      onViewportChanged={setViewport}\n      onBoundsChanged={handleViewportChanged}\n      markers={markerElements}\n      animation={null}\n    />\n  );\n}"}},NoAnimation.parameters)},1886:function(module,exports,__webpack_require__){var api=__webpack_require__(367),content=__webpack_require__(1887);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1887:function(module,exports,__webpack_require__){(exports=__webpack_require__(368)(!1)).push([module.i,".parent-leaflet-tile .leaflet-tile {\n  border: solid gray 1px;\n}\n\n.cursor-zoom-in {\n  cursor: zoom-in;\n}\n\n.mouse-toolbar {\n  position: relative;\n  right: 6rem;\n}\n\n.mapveu-hori-bar > a {\n  display: inline-block !important;\n}\n\n.mapveu-hori-bar a:first-child {\n  border-radius: 4px 0 0 4px !important;\n}\n\n.mapveu-hori-bar a:last-child {\n  border-radius: 0 4px 4px 0 !important;\n}\n\n.mouse-toolbar > a:hover {\n  background-color: #f4f4f4;\n}\n\n.mapveu-button :not(.mapveu-button-selected) :hover {\n  background-color: rgb(78, 78, 78) !important;\n}\n\n.mapveu-button-selected {\n  background-color: rgb(1, 1, 144) !important;\n}\n\n.mapveu-button > i {\n  background: none;\n  border: inherit;\n  border-radius: inherit;\n}\n\n.mapveu-button-selected > i {\n  color: white;\n}\n\n.plot-marker-popup.popup-right,\n.plot-marker-popup.popup-left,\n.plot-marker-popup.popup-down {\n  transform-origin: center bottom;\n}\n\n.plot-marker-popup.popup-right,\n.plot-marker-popup.popup-left {\n  margin-bottom: 7px;\n}\n\n.plot-marker-popup.histogram-popup.popup-up {\n  margin-bottom: 36px;\n}\n\n.plot-marker-popup.histogram-popup.popup-right {\n  margin-left: 30px;\n}\n\n.plot-marker-popup.histogram-popup.popup-left {\n  margin-left: -30px;\n}\n\n.plot-marker-popup.histogram-popup.popup-down {\n  margin-bottom: -22px;\n}\n\n.plot-marker-popup.donut-popup.popup-up {\n  margin-bottom: 27px;\n}\n\n.plot-marker-popup.donut-popup.popup-right {\n  margin-left: 20px;\n}\n\n.plot-marker-popup.donut-popup.popup-left {\n  margin-left: -20px;\n}\n\n.plot-marker-popup.donut-popup.popup-down {\n  margin-bottom: -12px;\n}\n\n.plot-marker-popup.popup-up .leaflet-popup-content {\n  transform: rotate(0deg);\n}\n\n.plot-marker-popup.popup-right .leaflet-popup-content {\n  transform: rotate(-90deg);\n}\n\n.plot-marker-popup.popup-left .leaflet-popup-content {\n  transform: rotate(90deg);\n}\n\n.plot-marker-popup.popup-down .leaflet-popup-content {\n  transform: rotate(180deg);\n}\n\n/* on mouse-over, marker to top */\n.top-marker {\n  z-index: 3100 !important;\n}\n\n/* Replace leaflet styles*/\n\n/* general typography */\n.leaflet-container {\n  font: 12px/1.5 'Open Sans', Arial, Helvetica, sans-serif;\n}\n",""]),module.exports=exports},189:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(25),__webpack_require__(151),__webpack_require__(9),__webpack_require__(387),__webpack_require__(388),__webpack_require__(828),__webpack_require__(107),__webpack_require__(50),__webpack_require__(206),__webpack_require__(10),__webpack_require__(338),__webpack_require__(41),__webpack_require__(40),__webpack_require__(152),__webpack_require__(7),__webpack_require__(38),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(0),_types_plots__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(93),date_arithmetic__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(120),lodash__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(17),_PlotlyPlot__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(105),_utils_extended_axis_range_truncations__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(186),_utils_truncation_layout_shapes__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(239),_utils_tick_settings__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(245);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var EmptyHistogramData={series:[]},Histogram=Object(_PlotlyPlot__WEBPACK_IMPORTED_MODULE_28__.d)("Histogram",(function(_ref){var _data$binWidthSlider4,_data$binWidthSlider6,_data$binWidthSlider8,_data$binWidthSlider9,_data$binWidthSlider11,_axisTruncationConfig,_axisTruncationConfig2,_data$binWidthSlider12,_ref$data=_ref.data,data=void 0===_ref$data?EmptyHistogramData:_ref$data,_ref$independentAxisL=_ref.independentAxisLabel,independentAxisLabel=void 0===_ref$independentAxisL?"Bins":_ref$independentAxisL,_ref$dependentAxisLab=_ref.dependentAxisLabel,dependentAxisLabel=void 0===_ref$dependentAxisLab?"Count":_ref$dependentAxisLab,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?_types_plots__WEBPACK_IMPORTED_MODULE_25__.OrientationDefault:_ref$orientation,_ref$opacity=_ref.opacity,opacity=void 0===_ref$opacity?_types_plots__WEBPACK_IMPORTED_MODULE_25__.OpacityDefault:_ref$opacity,_ref$barLayout=_ref.barLayout,barLayout=void 0===_ref$barLayout?"overlay":_ref$barLayout,dependentAxisRange=_ref.dependentAxisRange,_ref$dependentAxisLog=_ref.dependentAxisLogScale,dependentAxisLogScale=void 0===_ref$dependentAxisLog?_types_plots__WEBPACK_IMPORTED_MODULE_25__.DependentAxisLogScaleDefault:_ref$dependentAxisLog,showValues=_ref.showValues,selectedRange=_ref.selectedRange,_ref$onSelectedRangeC=_ref.onSelectedRangeChange,onSelectedRangeChange=void 0===_ref$onSelectedRangeC?function(){}:_ref$onSelectedRangeC,selectedRangeBounds=_ref.selectedRangeBounds,_ref$isZoomed=_ref.isZoomed,isZoomed=void 0!==_ref$isZoomed&&_ref$isZoomed,independentAxisRange=_ref.independentAxisRange,axisTruncationConfig=_ref.axisTruncationConfig,_ref$binStartType=_ref.binStartType,binStartType=void 0===_ref$binStartType?"inclusive":_ref$binStartType,_ref$binEndType=_ref.binEndType,binEndType=void 0===_ref$binEndType?"inclusive":_ref$binEndType,restProps=_objectWithoutProperties(_ref,["data","independentAxisLabel","dependentAxisLabel","orientation","opacity","barLayout","dependentAxisRange","dependentAxisLogScale","showValues","selectedRange","onSelectedRangeChange","selectedRangeBounds","isZoomed","independentAxisRange","axisTruncationConfig","binStartType","binEndType"]);(selectedRangeBounds||isZoomed)&&console.log("WARNING: Histogram.selectedRangeBounds and isZoomed are deprecated - behaviour may be unexpected");var calculatedBarOpacity=Object(react__WEBPACK_IMPORTED_MODULE_24__.useMemo)((function(){return"overlay"===barLayout&&data.series.length>1?opacity:1}),[barLayout,data.series.length,opacity]),plotlyFriendlyData=Object(react__WEBPACK_IMPORTED_MODULE_24__.useMemo)((function(){return data.series.map((function(series){var _ref4,binStarts=series.bins.map((function(bin){return bin.binStart})),binLabels=series.bins.map((function(bin){return bin.binLabel})),binCounts=series.bins.map((function(bin){return bin.value})),binWidths=series.bins.map((function(bin){var _data$binWidthSlider,_data$binWidthSlider2;return null!=(null===(_data$binWidthSlider=data.binWidthSlider)||void 0===_data$binWidthSlider?void 0:_data$binWidthSlider.valueType)&&"date"===(null===(_data$binWidthSlider2=data.binWidthSlider)||void 0===_data$binWidthSlider2?void 0:_data$binWidthSlider2.valueType)?1e3*date_arithmetic__WEBPACK_IMPORTED_MODULE_26__.b(new Date(bin.binStart),new Date(bin.binEnd),"seconds",!1):bin.binEnd-bin.binStart})),_ref3=_slicedToArray("vertical"===orientation?["x","y"]:["y","x"],2),xAxisName=_ref3[0],yAxisName=_ref3[1];return(_ref4={type:"bar"})[xAxisName]=binStarts.length?binStarts:[null],_ref4[yAxisName]=binCounts.length?binCounts:[null],_ref4.opacity=calculatedBarOpacity,_ref4.orientation="vertical"===orientation?"v":"h",_ref4.name=series.name,_ref4.showlegend=!!series.name,_ref4.text=showValues?binCounts.map(String):void 0,_ref4.textposition=showValues?"auto":void 0,_ref4.marker={color:series.color,line:{width:series.borderColor?1:0,color:series.borderColor}},_ref4.offset=0,_ref4.width=binWidths,_ref4.selected={marker:{opacity:1}},_ref4.unselected={marker:{opacity:1}},_ref4.hovertemplate=binCounts.map((function(count,index){return count+"<br />"+binLabels[index]+"<br />"+series.name+"<extra></extra>"})),_ref4}))}),[data,orientation,calculatedBarOpacity,selectedRange,showValues]),binSummaries=Object(react__WEBPACK_IMPORTED_MODULE_24__.useMemo)((function(){var allBins=data.series.flatMap((function(series){return series.bins})),sortedBins=Object(lodash__WEBPACK_IMPORTED_MODULE_27__.sortBy)(allBins,(function(bin){return bin.binStart}));return Object(lodash__WEBPACK_IMPORTED_MODULE_27__.sortedUniqBy)(sortedBins,(function(bin){return bin.binLabel})).map((function(_ref5){var _data$binWidthSlider3,binStart=_ref5.binStart,binEnd=_ref5.binEnd;return{binStart:binStart,binEnd:binEnd,binMiddle:"date"===(null===(_data$binWidthSlider3=data.binWidthSlider)||void 0===_data$binWidthSlider3?void 0:_data$binWidthSlider3.valueType)?date_arithmetic__WEBPACK_IMPORTED_MODULE_26__.a(new Date(binStart),500*date_arithmetic__WEBPACK_IMPORTED_MODULE_26__.b(new Date(binStart),new Date(binEnd),"seconds",!1),"milliseconds").toISOString():(binStart+binEnd)/2}}))}),[data.series,null===(_data$binWidthSlider4=data.binWidthSlider)||void 0===_data$binWidthSlider4?void 0:_data$binWidthSlider4.valueType]),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_24__.useState)(),2),selectingRange=_useState2[0],setSelectingRange=_useState2[1],handleSelectingRange=Object(react__WEBPACK_IMPORTED_MODULE_24__.useCallback)((function(object){if(object&&object.range){var _data$binWidthSlider5,_ref7=_slicedToArray("vertical"===orientation?object.range.x:object.range.y,2),val1=_ref7[0],val2=_ref7[1],_ref9=_slicedToArray(val1>val2?[val2,val1]:[val1,val2],2),min=_ref9[0],max=_ref9[1],rawRange={min:"string"==typeof min?min.replace(/ /,"T").replace(/\.\d+$/,""):min,max:"string"==typeof max?max.replace(/ /,"T").replace(/\.\d+$/,""):max},leftBin=binSummaries.find((function(bin){return rawRange.min<bin.binMiddle})),rightBin=Object(lodash__WEBPACK_IMPORTED_MODULE_27__.findLast)(binSummaries,(function(bin){return rawRange.max>bin.binMiddle}));if(leftBin&&rightBin&&leftBin.binStart<=rightBin.binStart)setSelectingRange({min:leftBin.binStart,max:"date"===(null===(_data$binWidthSlider5=data.binWidthSlider)||void 0===_data$binWidthSlider5?void 0:_data$binWidthSlider5.valueType)?date_arithmetic__WEBPACK_IMPORTED_MODULE_26__.d(new Date(rightBin.binEnd),1,"day").toISOString():rightBin.binEnd});else setSelectingRange(void 0)}}),[orientation,binSummaries,null===(_data$binWidthSlider6=data.binWidthSlider)||void 0===_data$binWidthSlider6?void 0:_data$binWidthSlider6.valueType]),handleSelectedRange=Object(react__WEBPACK_IMPORTED_MODULE_24__.useCallback)((function(){selectingRange&&onSelectedRangeChange(selectingRange),setSelectingRange(void 0)}),[selectingRange,onSelectedRangeChange,setSelectingRange]),selectedRangeHighlighting=Object(react__WEBPACK_IMPORTED_MODULE_24__.useMemo)((function(){var range=null!=selectingRange?selectingRange:selectedRange;if(data.series.length&&range){var _data$binWidthSlider7,rightCoordinate="number"===(null===(_data$binWidthSlider7=data.binWidthSlider)||void 0===_data$binWidthSlider7?void 0:_data$binWidthSlider7.valueType)?range.max:date_arithmetic__WEBPACK_IMPORTED_MODULE_26__.a(new Date(range.max),.9999,"day").toISOString();return[Object.assign({type:"rect"},"vertical"===orientation?{xref:"x",yref:"paper",x0:range.min,x1:rightCoordinate,y0:0,y1:1}:{xref:"paper",yref:"y",x0:0,x1:1,y0:range.min,y1:rightCoordinate},{line:{color:"blue",width:1},fillcolor:"lightblue",opacity:.4})]}return[]}),[selectingRange,selectedRange,orientation,data.series]),standardIndependentAxisRange=Object(react__WEBPACK_IMPORTED_MODULE_24__.useMemo)((function(){var _ref10,_findLast,_first,_ref11,_find,_last;if(0!==binSummaries.length)return{min:null!=(null==independentAxisRange?void 0:independentAxisRange.min)?null===(_ref10=null!==(_findLast=Object(lodash__WEBPACK_IMPORTED_MODULE_27__.findLast)(binSummaries,(function(bs){return"inclusive"===binStartType?(null==independentAxisRange?void 0:independentAxisRange.min)>=bs.binStart:(null==independentAxisRange?void 0:independentAxisRange.min)>bs.binStart})))&&void 0!==_findLast?_findLast:{binStart:null==independentAxisRange?void 0:independentAxisRange.min})||void 0===_ref10?void 0:_ref10.binStart:null===(_first=Object(lodash__WEBPACK_IMPORTED_MODULE_27__.first)(binSummaries))||void 0===_first?void 0:_first.binStart,max:null!=(null==independentAxisRange?void 0:independentAxisRange.max)?null===(_ref11=null!==(_find=Object(lodash__WEBPACK_IMPORTED_MODULE_27__.find)(binSummaries,(function(bs){return"inclusive"===binEndType?(null==independentAxisRange?void 0:independentAxisRange.max)<=bs.binEnd:(null==independentAxisRange?void 0:independentAxisRange.max)<bs.binEnd})))&&void 0!==_find?_find:{binEnd:null==independentAxisRange?void 0:independentAxisRange.max})||void 0===_ref11?void 0:_ref11.binEnd:null===(_last=Object(lodash__WEBPACK_IMPORTED_MODULE_27__.last)(binSummaries))||void 0===_last?void 0:_last.binEnd}}),[null==data||null===(_data$binWidthSlider8=data.binWidthSlider)||void 0===_data$binWidthSlider8?void 0:_data$binWidthSlider8.valueType,independentAxisRange,binSummaries,binStartType,binEndType]),extendedIndependentAxisRange=Object(_utils_extended_axis_range_truncations__WEBPACK_IMPORTED_MODULE_29__.a)(standardIndependentAxisRange,null==axisTruncationConfig?void 0:axisTruncationConfig.independentAxis,null===(_data$binWidthSlider9=data.binWidthSlider)||void 0===_data$binWidthSlider9?void 0:_data$binWidthSlider9.valueType),plotlyIndependentAxisRange=[null==extendedIndependentAxisRange?void 0:extendedIndependentAxisRange.min,null==extendedIndependentAxisRange?void 0:extendedIndependentAxisRange.max],numBins=Object(react__WEBPACK_IMPORTED_MODULE_24__.useMemo)((function(){var _data$binWidthSlider10;if(!(null==standardIndependentAxisRange||0===binSummaries.length||binSummaries.length>4)){var bin=binSummaries[0];if("date"===(null===(_data$binWidthSlider10=data.binWidthSlider)||void 0===_data$binWidthSlider10?void 0:_data$binWidthSlider10.valueType)){var range=standardIndependentAxisRange;return Math.ceil(date_arithmetic__WEBPACK_IMPORTED_MODULE_26__.b(new Date(range.min),new Date(range.max),"seconds",!1)/date_arithmetic__WEBPACK_IMPORTED_MODULE_26__.b(new Date(bin.binStart),new Date(bin.binEnd),"seconds",!1))}var _range=standardIndependentAxisRange;return Math.ceil((_range.max-_range.min)/(bin.binEnd-bin.binStart))}}),[binSummaries,standardIndependentAxisRange]),independentAxisLayout={type:"date"===(null==data||null===(_data$binWidthSlider11=data.binWidthSlider)||void 0===_data$binWidthSlider11?void 0:_data$binWidthSlider11.valueType)?"date":"linear",automargin:!0,showgrid:!1,zeroline:!1,showline:!(null!=axisTruncationConfig&&null!==(_axisTruncationConfig=axisTruncationConfig.dependentAxis)&&void 0!==_axisTruncationConfig&&_axisTruncationConfig.min),title:{text:independentAxisLabel},range:plotlyIndependentAxisRange,tickfont:data.series.length?{}:{color:"transparent"},linecolor:"#dddddd",nticks:null!=numBins&&numBins<=4?numBins+1:void 0},dataLooksFractional=Object(react__WEBPACK_IMPORTED_MODULE_24__.useMemo)((function(){return Object(lodash__WEBPACK_IMPORTED_MODULE_27__.some)(data.series.flatMap((function(series){return series.bins.map((function(bin){return bin.value}))})),(function(val){return val>0&&val<1}))}),[data.series]),standardDependentAxisRange=dependentAxisRange,extendedDependentAxisRange=Object(_utils_extended_axis_range_truncations__WEBPACK_IMPORTED_MODULE_29__.a)(standardDependentAxisRange,null==axisTruncationConfig?void 0:axisTruncationConfig.dependentAxis,"number",!1,dependentAxisLogScale),truncatedAxisHighlighting=Object(react__WEBPACK_IMPORTED_MODULE_24__.useMemo)((function(){return data.series.length>0?Object(_utils_truncation_layout_shapes__WEBPACK_IMPORTED_MODULE_30__.a)(orientation,standardIndependentAxisRange,standardDependentAxisRange,extendedIndependentAxisRange,extendedDependentAxisRange,axisTruncationConfig):[]}),[standardIndependentAxisRange,standardDependentAxisRange,extendedIndependentAxisRange,extendedDependentAxisRange,orientation,data.series,axisTruncationConfig]),dependentAxisLayout=Object.assign({type:dependentAxisLogScale?"log":"linear",hoverformat:dependentAxisLogScale?dataLooksFractional?",.4f":",.0f":void 0,automargin:!0,title:{text:dependentAxisLabel},range:data.series.length?[null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.min,null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.max].map((function(val){return dependentAxisLogScale&&null!=val?val<=0?-.1:Math.log10(val):val})):[0,10],tickfont:data.series.length?{}:{color:"transparent"},showline:!(null!=axisTruncationConfig&&null!==(_axisTruncationConfig2=axisTruncationConfig.independentAxis)&&void 0!==_axisTruncationConfig2&&_axisTruncationConfig2.min),linecolor:"#dddddd",zeroline:!1},Object(_utils_tick_settings__WEBPACK_IMPORTED_MODULE_31__.a)(dependentAxisLogScale,extendedDependentAxisRange,null==data||null===(_data$binWidthSlider12=data.binWidthSlider)||void 0===_data$binWidthSlider12?void 0:_data$binWidthSlider12.valueType));return Object.assign({useResizeHandler:!0,layout:{shapes:[].concat(_toConsumableArray(selectedRangeHighlighting),_toConsumableArray(truncatedAxisHighlighting)),dragmode:"select",selectdirection:"vertical"===orientation?"h":"v",xaxis:"vertical"===orientation?independentAxisLayout:dependentAxisLayout,yaxis:"vertical"===orientation?dependentAxisLayout:independentAxisLayout,barmode:barLayout,hovermode:"closest"},data:plotlyFriendlyData,onSelected:handleSelectedRange,onSelecting:handleSelectingRange},restProps)}));__webpack_exports__.a=Histogram;try{Histogram.displayName="Histogram",Histogram.__docgenInfo={description:"A Plot.ly based histogram component.",displayName:"Histogram",props:{independentAxisLabel:{defaultValue:null,description:"Label for independent axis. Defaults to `Bins`.",name:"independentAxisLabel",required:!1,type:{name:"string"}},dependentAxisLabel:{defaultValue:null,description:"Label for dependent axis. Defaults to `Count`.",name:"dependentAxisLabel",required:!1,type:{name:"string"}},dependentAxisRange:{defaultValue:null,description:"Range for the dependent axis (usually y-axis)",name:"dependentAxisRange",required:!1,type:{name:"NumberRange"}},showValues:{defaultValue:null,description:"Show value for each bar",name:"showValues",required:!1,type:{name:"boolean"}},selectedRange:{defaultValue:null,description:"A range to highlight by means of opacity",name:"selectedRange",required:!1,type:{name:"NumberOrDateRange"}},onSelectedRangeChange:{defaultValue:null,description:"function to call upon selecting a range (in independent axis)",name:"onSelectedRangeChange",required:!1,type:{name:"((newRange?: NumberOrDateRange) => void)"}},selectedRangeBounds:{defaultValue:null,description:"Min and max allowed values for the selected range.\nUsed to keep graphical range selections within the range of the data. Optional.\nAnd now DEPRECATED. Do not use.",name:"selectedRangeBounds",required:!1,type:{name:"NumberOrDateRange"}},isZoomed:{defaultValue:null,description:"Relevant to range selection - flag to indicate if the data is zoomed in. Default false.\nAlso DEPRECATED along with selectedRangeBounds",name:"isZoomed",required:!1,type:{name:"boolean"}},independentAxisRange:{defaultValue:null,description:"independent axis range min and max",name:"independentAxisRange",required:!1,type:{name:"NumberOrDateRange"}},binStartType:{defaultValue:null,description:"Assuming independentAxisRange is inclusive at both ends,\nis binStart inclusive or exclusive? Setting this appropriately will\nensure that the bins containing data equal to independentAxisRange min and max are shown\nDefault 'inclusive'",name:"binStartType",required:!1,type:{name:"enum",value:[{value:'"inclusive"'},{value:'"exclusive"'}]}},binEndType:{defaultValue:null,description:"See binStartType for full explanation\nis binEnd inclusive or exclusive? default 'inclusive'",name:"binEndType",required:!1,type:{name:"enum",value:[{value:'"inclusive"'},{value:'"exclusive"'}]}},data:{defaultValue:null,description:"plot data - following web-components' API, not Plotly's",name:"data",required:!1,type:{name:"HistogramData"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Should plot legend be displayed? Default is yes",name:"displayLegend",required:!1,type:{name:"boolean"}},containerStyles:{defaultValue:null,description:"CSS styles for enclosing div\nDefault is { width: '100%', height: '400px' }",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},containerClass:{defaultValue:null,description:"class name for enclosing div. Default is web-components-plot",name:"containerClass",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"Enables mouse-overs and interaction if true. Default false.",name:"interactive",required:!1,type:{name:"boolean"}},displayLibraryControls:{defaultValue:null,description:"show Plotly's mode bar (only shows if interactive == true)",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},showSpinner:{defaultValue:null,description:"show a loading... spinner in the middle of the container div",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:"Show an overlay with the words 'No Data'",name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend layout and appearance.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},legendTitle:{defaultValue:null,description:"legend title",name:"legendTitle",required:!1,type:{name:"string"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},maxLegendTextLength:{defaultValue:null,description:"maximum number of characters for legend ellipsis",name:"maxLegendTextLength",required:!1,type:{name:"number"}},storedIndependentAxisTickLabel:{defaultValue:null,description:"original independent axis tick labels as data is changed at each component (barplot and boxplot)",name:"storedIndependentAxisTickLabel",required:!1,type:{name:"string[]"}},checkedLegendItems:{defaultValue:null,description:"list of checked legend items via checkbox input",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},onPlotlyRender:{defaultValue:null,description:"A function to call each time after plotly renders the plot",name:"onPlotlyRender",required:!1,type:{name:"((figure: Readonly<Figure>, graphDiv: Readonly<HTMLElement>) => void)"}},colorPalette:{defaultValue:null,description:"",name:"colorPalette",required:!1,type:{name:"string[]"}},orientation:{defaultValue:null,description:"Orientation of plot - default is vertical (e.g. independent axis at bottom)",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},opacity:{defaultValue:null,description:"Opacity of markers that require opacity (e.g. outliers, overlaid bars).\nNumber 0 to 1 (default 0.5)",name:"opacity",required:!1,type:{name:"number"}},barLayout:{defaultValue:null,description:"How bars are displayed when there are multiple series.",name:"barLayout",required:!1,type:{name:"enum",value:[{value:'"overlay"'},{value:'"stack"'}]}},dependentAxisLogScale:{defaultValue:null,description:"Use a log scale for dependent axis. Default is false",name:"dependentAxisLogScale",required:!1,type:{name:"boolean"}},axisTruncationConfig:{defaultValue:null,description:"truncation config (flags) to show truncated axis (true) or not (false)",name:"axisTruncationConfig",required:!1,type:{name:"AxisTruncationConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/Histogram.tsx#Histogram"]={docgenInfo:Histogram.__docgenInfo,name:"Histogram",path:"src/plots/Histogram.tsx#Histogram"})}catch(__react_docgen_typescript_loader_error){}},1916:function(module,exports){},1918:function(module,exports){},1929:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AllInOneRequest",(function(){return AllInOneRequest})),__webpack_require__.d(__webpack_exports__,"TwoRequests",(function(){return TwoRequests})),__webpack_require__.d(__webpack_exports__,"LogScale",(function(){return LogScale})),__webpack_require__.d(__webpack_exports__,"Standalone",(function(){return Standalone})),__webpack_require__.d(__webpack_exports__,"TestNoDataColor",(function(){return TestNoDataColor}));__webpack_require__(63),__webpack_require__(8),__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(70),_map_config_map__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(56),_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(60),_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(112),_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(188),_map_ChartMarker__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(421),_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(165),_components_widgets_LabelledGroup__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(344),_veupathdb_coreui__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(167),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Map/Chart Markers",component:_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_14__.a};var defaultAnimation={method:"geohash",animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_20__.a,duration:_map_config_map__WEBPACK_IMPORTED_MODULE_15__.c},handleMarkerClick=function handleMarkerClick(){},dropDownProps={dropdownTitle:"Collection Date",dropdownHref:["#/link-1","#/link-2","#/link-3","#/link-4","#/link-5"],dropdownItemText:["Year","Month","Date","Hour","Minute"]},variableProps={variableLabel:"<b>Collection date</b>",quantityLabel:"<b>Record count</b>",legendInfoNumberText:"Collections"},AllInOneRequest=function AllInOneRequest(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),legendData=_useState4[0],setLegendData=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("Individual"),2),legendRadioValue=_useState6[0],setLegendRadioValue=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({center:[13,0],zoom:6}),2),viewport=_useState8[0],setViewport=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([0,0]),2),dependentAxisRange=_useState10[0],setDependentAxisRange=_useState10[1],duration=_map_config_map__WEBPACK_IMPORTED_MODULE_15__.c,handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(bvp){var markers;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__.b)(bvp,duration,setLegendData,handleMarkerClick,legendRadioValue,setDependentAxisRange);case 2:markers=_context.sent,setMarkerElements(markers);case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[setMarkerElements,legendRadioValue]),_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("default"),2),mouseMode=_useState12[0],setMouseMode=_useState12[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_14__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,showGrid:!0,showMouseToolbar:!0,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__.a,mouseMode:mouseMode,onMouseModeChange:setMouseMode})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_18__.a,Object.assign({legendType:"numeric",data:legendData},dropDownProps,variableProps,{onChange:function legendRadioChange(e){setLegendRadioValue(e.target.value)},selectedOption:legendRadioValue,dependentAxisRange:dependentAxisRange}))]})};AllInOneRequest.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!1};var TwoRequests=function TwoRequests(args){var _useState14=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),markerElements=_useState14[0],setMarkerElements=_useState14[1],_useState16=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),legendData=_useState16[0],setLegendData=_useState16[1],_useState18=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("Individual"),2),legendRadioValue=_useState18[0],setLegendRadioValue=_useState18[1],_useState20=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({center:[13,0],zoom:6}),2),viewport=_useState20[0],setViewport=_useState20[1],_useState22=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(null),2),bvp=_useState22[0],setBvp=_useState22[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(bvp){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:setBvp(bvp);case 1:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}(),[setBvp]),_useState24=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([0,0]),2),dependentAxisRange=_useState24[0],setDependentAxisRange=_useState24[1],duration=_map_config_map__WEBPACK_IMPORTED_MODULE_15__.c,_useState26=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("default"),2),mouseMode=_useState26[0],setMouseMode=_useState26[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){var isCancelled=!1;if(null!=bvp)return _asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var markers,fullMarkers;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__.a)(bvp,duration,handleMarkerClick);case 2:if(markers=_context3.sent,isCancelled||setMarkerElements(markers),!isCancelled){_context3.next=6;break}return _context3.abrupt("return");case 6:return _context3.next=8,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__.b)(bvp,duration,setLegendData,handleMarkerClick,legendRadioValue,setDependentAxisRange,2e3);case 8:fullMarkers=_context3.sent,isCancelled||setMarkerElements(fullMarkers);case 10:case"end":return _context3.stop()}}),_callee3)})))(),function(){isCancelled=!0}}),[bvp,legendRadioValue]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_14__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,showGrid:!0,showMouseToolbar:!0,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__.a,mouseMode:mouseMode,onMouseModeChange:setMouseMode})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_18__.a,Object.assign({legendType:"numeric",data:legendData},dropDownProps,variableProps,{onChange:function legendRadioChange(e){setLegendRadioValue(e.target.value)},selectedOption:legendRadioValue,dependentAxisRange:dependentAxisRange}))]})};TwoRequests.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!1};var LogScale=function LogScale(args){var _useState28=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),markerElements=_useState28[0],setMarkerElements=_useState28[1],_useState30=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),setLegendData=(_useState30[0],_useState30[1]),_useState32=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("Individual"),2),legendRadioValue=_useState32[0],_useState34=(_useState32[1],_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({center:[13,0],zoom:6}),2)),viewport=_useState34[0],setViewport=_useState34[1],_useState36=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([0,0]),2),setDependentAxisRange=(_useState36[0],_useState36[1]),duration=_map_config_map__WEBPACK_IMPORTED_MODULE_15__.c,_useState38=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("default"),2),mouseMode=_useState38[0],setMouseMode=_useState38[1],_useState40=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(!1),2),dependentAxisLogScale=_useState40[0],setDependentAxisLogScale=_useState40[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(bvp){var markers;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__.b)(bvp,duration,setLegendData,handleMarkerClick,legendRadioValue,setDependentAxisRange,0,dependentAxisLogScale);case 2:markers=_context4.sent,setMarkerElements(markers);case 4:case"end":return _context4.stop()}}),_callee4)})));return function(_x3){return _ref4.apply(this,arguments)}}(),[setMarkerElements,legendRadioValue,dependentAxisLogScale]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_14__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,showGrid:!0,showMouseToolbar:!0,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__.a,mouseMode:mouseMode,onMouseModeChange:setMouseMode})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_components_widgets_LabelledGroup__WEBPACK_IMPORTED_MODULE_21__.a,{label:"Y-axis controls",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)("div",{style:{display:"flex"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_veupathdb_coreui__WEBPACK_IMPORTED_MODULE_22__.Toggle,{label:"Log scale "+(dependentAxisLogScale?"on":"off"),value:dependentAxisLogScale,onChange:setDependentAxisLogScale})})})})]})};LogScale.args={height:"50vh",width:"50vw",showGrid:!0,showMouseToolbar:!1};var Standalone=function Standalone(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_ChartMarker__WEBPACK_IMPORTED_MODULE_19__.a,{data:[{value:10,label:"special",color:"yellow"},{value:85,label:"subset",color:"pink"},{value:100,label:"total",color:"#ccc"}],cumulative:!0,isAtomic:!1,markerScale:1,borderColor:"#AAAAAA",borderWidth:3.5,containerStyles:{margin:"10px"}})};Standalone.displayName="Standalone";var TestNoDataColor=function TestNoDataColor(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_ChartMarker__WEBPACK_IMPORTED_MODULE_19__.a,{data:[{label:"Gaining control study",value:0},{label:"Sustaining control study",value:75,color:"rgb(136,204,238)"}],cumulative:!1,isAtomic:!1,markerScale:1,borderColor:"#AAAAAA",borderWidth:3.5,containerStyles:{margin:"10px"}})};TestNoDataColor.displayName="TestNoDataColor",AllInOneRequest.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [legendRadioValue, setLegendRadioValue] = useState<string>(\n    'Individual'\n  );\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [13, 0],\n    zoom: 6,\n  });\n\n  const legendRadioChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setLegendRadioValue(e.target.value);\n  };\n  const [dependentAxisRange, setDependentAxisRange] = useState<number[]>([\n    0,\n    0,\n  ]);\n\n  const legendType = 'numeric';\n\n  const duration = defaultAnimationDuration;\n\n  // send legendRadioValue instead of knob_YAxisRangeMethod: also send setYAxisRangeValue\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      // anim add duration & scrambleKeys\n      const markers = await getCollectionDateChartMarkers(\n        bvp,\n        duration,\n        setLegendData,\n        handleMarkerClick,\n        legendRadioValue,\n        setDependentAxisRange\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements, legendRadioValue]\n  );\n\n  // define mouseMode\n  const [mouseMode, setMouseMode] = useState<MouseMode>(defaultMouseMode);\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onViewportChanged={setViewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        showGrid={true}\n        showMouseToolbar={true}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        mouseMode={mouseMode}\n        onMouseModeChange={setMouseMode}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        {...dropDownProps}\n        {...variableProps}\n        onChange={legendRadioChange}\n        selectedOption={legendRadioValue}\n        dependentAxisRange={dependentAxisRange}\n      />\n    </>\n  );\n}"}},AllInOneRequest.parameters),TwoRequests.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [legendRadioValue, setLegendRadioValue] = useState<string>(\n    'Individual'\n  );\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [13, 0],\n    zoom: 6,\n  });\n\n  const legendRadioChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setLegendRadioValue(e.target.value);\n  };\n\n  const [bvp, setBvp] = useState<BoundsViewport | null>(null);\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      setBvp(bvp);\n    },\n    [setBvp]\n  );\n\n  const [dependentAxisRange, setDependentAxisRange] = useState<number[]>([\n    0,\n    0,\n  ]);\n\n  const legendType = 'numeric';\n  const duration = defaultAnimationDuration;\n\n  // define mouseMode\n  const [mouseMode, setMouseMode] = useState<MouseMode>(defaultMouseMode);\n\n  useEffect(() => {\n    // track if effect has been cancelled\n    let isCancelled = false;\n    if (bvp == null) return;\n    // Create an anonymous async function, and call it immediately.\n    // This way we can use async-await\n    (async () => {\n      const markers = await getCollectionDateBasicMarkers(\n        bvp,\n        duration,\n        handleMarkerClick\n      );\n      if (!isCancelled) setMarkerElements(markers);\n      if (isCancelled) return; // avoid the next request if this effect has already been cancelled\n      const fullMarkers = await getCollectionDateChartMarkers(\n        bvp,\n        duration,\n        setLegendData,\n        handleMarkerClick,\n        legendRadioValue,\n        setDependentAxisRange,\n        2000\n      );\n      if (!isCancelled) setMarkerElements(fullMarkers);\n    })();\n    // Cleanup function to set `isCancelled` to `true`\n    return () => {\n      isCancelled = true;\n    };\n  }, [bvp, legendRadioValue]);\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onViewportChanged={setViewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        showGrid={true}\n        showMouseToolbar={true}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        mouseMode={mouseMode}\n        onMouseModeChange={setMouseMode}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        {...dropDownProps}\n        {...variableProps}\n        onChange={legendRadioChange}\n        selectedOption={legendRadioValue}\n        dependentAxisRange={dependentAxisRange}\n      />\n    </>\n  );\n}"}},TwoRequests.parameters),LogScale.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [legendRadioValue, setLegendRadioValue] = useState<string>(\n    'Individual'\n  );\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [13, 0],\n    zoom: 6,\n  });\n\n  const legendRadioChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setLegendRadioValue(e.target.value);\n  };\n  const [dependentAxisRange, setDependentAxisRange] = useState<number[]>([\n    0,\n    0,\n  ]);\n\n  const legendType = 'numeric';\n\n  const duration = defaultAnimationDuration;\n\n  // define mouseMode\n  const [mouseMode, setMouseMode] = useState<MouseMode>(defaultMouseMode);\n  const [dependentAxisLogScale, setDependentAxisLogScale] = useState(false);\n\n  // send legendRadioValue instead of knob_YAxisRangeMethod: also send setYAxisRangeValue\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      // anim add duration & scrambleKeys\n      const markers = await getCollectionDateChartMarkers(\n        bvp,\n        duration,\n        setLegendData,\n        handleMarkerClick,\n        legendRadioValue,\n        setDependentAxisRange,\n        0,\n        dependentAxisLogScale\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements, legendRadioValue, dependentAxisLogScale]\n  );\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onViewportChanged={setViewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        showGrid={true}\n        showMouseToolbar={true}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        mouseMode={mouseMode}\n        onMouseModeChange={setMouseMode}\n      />\n      {/* Y-axis range control */}\n      <div style={{ display: 'flex', flexDirection: 'row' }}>\n        <LabelledGroup label=\"Y-axis controls\">\n          <div style={{ display: 'flex' }}>\n            <Toggle\n              label={`Log scale ${dependentAxisLogScale ? 'on' : 'off'}`}\n              value={dependentAxisLogScale}\n              onChange={setDependentAxisLogScale}\n            />\n          </div>\n        </LabelledGroup>\n      </div>\n    </>\n  );\n}"}},LogScale.parameters),Standalone.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <ChartMarkerStandalone\n      data={[\n        {\n          value: 10,\n          label: 'special',\n          color: 'yellow',\n        },\n        {\n          value: 85,\n          label: 'subset',\n          color: 'pink',\n        },\n        {\n          value: 100,\n          label: 'total',\n          color: '#ccc',\n        },\n      ]}\n      cumulative={true}\n      isAtomic={false}\n      markerScale={1}\n      borderColor={'#AAAAAA'}\n      borderWidth={3.5}\n      containerStyles={{ margin: '10px' }}\n    />\n  );\n}"}},Standalone.parameters),TestNoDataColor.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <ChartMarkerStandalone\n      data={[\n        {\n          label: 'Gaining control study',\n          value: 0,\n          // \"color\": \"rgb(136,34,85)\"\n        },\n        {\n          label: 'Sustaining control study',\n          value: 75,\n          color: 'rgb(136,204,238)',\n        },\n      ]}\n      cumulative={false}\n      isAtomic={false}\n      markerScale={1}\n      borderColor={'#AAAAAA'}\n      borderWidth={3.5}\n      containerStyles={{ margin: '10px' }}\n    />\n  );\n}"}},TestNoDataColor.parameters)},221:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AxisRangeControl}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(134),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);function AxisRangeControl(_ref){var label=_ref.label,valueType=_ref.valueType,range=_ref.range,onRangeChange=_ref.onRangeChange,containerStyles=_ref.containerStyles,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$logScale=_ref.logScale,logScale=void 0!==_ref$logScale&&_ref$logScale,validator=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(range){if(range){if(range.min===range.max)return{validity:!1,message:"Start and end of range cannot be the same"};if(range.min>range.max)return{validity:!1,message:"End cannot be before start of range"};if(logScale&&range.min<=0)return{validity:!1,message:"Range start should be greater than zero when using log scale"}}return{validity:!0,message:""}}),[logScale]);return onRangeChange?null!=valueType&&"date"===valueType?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_1__.a,{label:label,range:range,onRangeChange:onRangeChange,allowPartialRange:!1,containerStyles:containerStyles,validator:validator,disabled:disabled}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_1__.b,{label:label,range:range,onRangeChange:onRangeChange,allowPartialRange:!1,containerStyles:containerStyles,validator:validator,disabled:disabled}):null}try{AxisRangeControl.displayName="AxisRangeControl",AxisRangeControl.__docgenInfo={description:"",displayName:"AxisRangeControl",props:{range:{defaultValue:null,description:"the controlled range for the axis",name:"range",required:!1,type:{name:"NumberOrDateRange"}},onRangeChange:{defaultValue:null,description:"function to call when widget updates the range",name:"onRangeChange",required:!1,type:{name:"((newRange?: NumberOrDateRange) => void)"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},logScale:{defaultValue:{value:"false"},description:"is this for a log scale axis? If so, we'll validate the min value to be > 0",name:"logScale",required:!1,type:{name:"boolean"}},valueType:{defaultValue:null,description:"Type of variable 'number' or 'date'",name:"valueType",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},label:{defaultValue:null,description:"Label for component or widget",name:"label",required:!1,type:{name:"string"}},containerStyles:{defaultValue:null,description:"Additional styles for component's container. Optional",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/AxisRangeControl.tsx#AxisRangeControl"]={docgenInfo:AxisRangeControl.__docgenInfo,name:"AxisRangeControl",path:"src/components/plotControls/AxisRangeControl.tsx#AxisRangeControl"})}catch(__react_docgen_typescript_loader_error){}},222:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PlotLegend}));__webpack_require__(10),__webpack_require__(40),__webpack_require__(152),__webpack_require__(7),__webpack_require__(0),__webpack_require__(41),__webpack_require__(74),__webpack_require__(25),__webpack_require__(144),__webpack_require__(150),__webpack_require__(8),__webpack_require__(121),__webpack_require__(151),__webpack_require__(38),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(19),__webpack_require__(15),__webpack_require__(9);var Checkbox=__webpack_require__(2727),lib=__webpack_require__(351),jsx_runtime=__webpack_require__(1);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function PlotListLegend(_ref){var legendItems=_ref.legendItems,checkedLegendItems=_ref.checkedLegendItems,onCheckedLegendItemsChange=_ref.onCheckedLegendItemsChange,_ref$showOverlayLegen=_ref.showOverlayLegend,showOverlayLegend=void 0!==_ref$showOverlayLegen&&_ref$showOverlayLegen,_ref$markerBodyOpacit=_ref.markerBodyOpacity,markerBodyOpacity=void 0===_ref$markerBodyOpacit?1:_ref$markerBodyOpacit;return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(legendItems.length>1||showOverlayLegend)&&Object(jsx_runtime.jsx)("div",{className:"plotLegendCheckbox",children:legendItems.map((function(item,index){return Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsxs)("label",{title:item.label,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"1.0em",color:"",margin:0},children:[Object(jsx_runtime.jsx)(Checkbox.a,{id:item.label,value:item.label,color:"default",onChange:function onChange(e){!function handleLegendCheckboxClick(checked,id){null!=checkedLegendItems&&(checked?null!=onCheckedLegendItemsChange&&onCheckedLegendItemsChange([].concat(_toConsumableArray(checkedLegendItems),[id])):null!=onCheckedLegendItemsChange&&onCheckedLegendItemsChange(checkedLegendItems.filter((function(el){return el!==id}))))}(e.target.checked,item.label)},checked:!(null==checkedLegendItems||!checkedLegendItems.includes(item.label)),style:{padding:0,width:"1em",height:"1em"},disabled:!item.hasData},item.label),"",Object(jsx_runtime.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["square"===item.marker&&Object(jsx_runtime.jsx)("div",{style:{height:"0.8em",width:"0.8em",borderWidth:"0",backgroundColor:item.markerColor}}),"lightSquareBorder"===item.marker&&Object(jsx_runtime.jsx)("div",{style:{height:"0.8em",width:"0.8em",borderWidth:"0.125em",borderStyle:"solid",borderColor:item.markerColor,backgroundColor:lib.evaluate(item.markerColor+" @a 50%").result.css()}}),"circle"===item.marker&&Object(jsx_runtime.jsx)("div",{style:{width:"2em"},children:Object(jsx_runtime.jsx)("div",{style:{height:"0.7em",width:"0.7em",margin:"auto",borderWidth:"0.15em",borderStyle:"solid",borderRadius:"0.6em",borderColor:0===markerBodyOpacity?item.markerColor:"transparent",backgroundColor:0===markerBodyOpacity?"transparent":lib.evaluate(item.markerColor+" @a "+(100*markerBodyOpacity).toString()+"%").result.css()}})}),"line"===item.marker&&Object(jsx_runtime.jsx)("div",{style:{width:"2em"},children:Object(jsx_runtime.jsx)("div",{style:{height:"0.15em",width:"2em",borderWidth:"0",backgroundColor:item.markerColor}})}),"fainted"===item.marker&&Object(jsx_runtime.jsx)("div",{style:{width:"2em"},children:Object(jsx_runtime.jsx)("div",{style:{height:"0.5em",width:"2em",borderWidth:"0",backgroundColor:lib.evaluate(item.markerColor+" @a 30%").result.css()}})}),"x"===item.marker&&Object(jsx_runtime.jsx)("div",{style:{width:"2em"},children:Object(jsx_runtime.jsx)("div",{style:{textAlign:"center",fontWeight:"normal",fontSize:"calc(1.5 * 1.0em)",color:"#A6A6A6"},children:""})})]}),"",Object(jsx_runtime.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"No data"===item.label||item.label.includes("No data,")?Object(jsx_runtime.jsx)("i",{children:item.label}):item.label})]},item.label)},item.label)}))})})}try{PlotListLegend.displayName="PlotListLegend",PlotListLegend.__docgenInfo={description:"",displayName:"PlotListLegend",props:{legendItems:{defaultValue:null,description:"",name:"legendItems",required:!0,type:{name:"LegendItemsProps[]"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!0,type:{name:"string[] | undefined"}},onCheckedLegendItemsChange:{defaultValue:null,description:"",name:"onCheckedLegendItemsChange",required:!1,type:{name:"((checkedLegendItems: string[]) => void)"}},showOverlayLegend:{defaultValue:{value:"false"},description:"",name:"showOverlayLegend",required:!1,type:{name:"boolean"}},markerBodyOpacity:{defaultValue:{value:"1"},description:"",name:"markerBodyOpacity",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/PlotListLegend.tsx#PlotListLegend"]={docgenInfo:PlotListLegend.__docgenInfo,name:"PlotListLegend",path:"src/components/plotControls/PlotListLegend.tsx#PlotListLegend"})}catch(__react_docgen_typescript_loader_error){}var src=__webpack_require__(94),addOns=__webpack_require__(92),legendEllipsis=function legendEllipsis(label,ellipsisLength){return(label||"").length>ellipsisLength?(label||"").substring(0,ellipsisLength)+"...":label};function PlotGradientLegend(_ref){var legendMax=_ref.legendMax,legendMin=_ref.legendMin,gradientColorscaleType=_ref.gradientColorscaleType,nTicks=_ref.nTicks,showMissingness=_ref.showMissingness;nTicks=nTicks||5;var gradientColorscale="divergent"==gradientColorscaleType?addOns.d:addOns.i,stopPoints=gradientColorscale.map((function(color,index){var stopPercentage=100*index/(gradientColorscale.length-1)+"%";return Object(jsx_runtime.jsx)("stop",{offset:stopPercentage,stopColor:color},"gradientStop"+index)})),ticks=Object(src.b)(nTicks).map((function(a){var location=150-a/(nTicks-1)*150;return Object(jsx_runtime.jsxs)("g",{className:"axisTick",overflow:"visible",children:[Object(jsx_runtime.jsx)("line",{x1:21,x2:25,y1:location,y2:location,stroke:"black",strokeWidth:"1px"}),Object(jsx_runtime.jsx)("text",{x:28,y:location,dominantBaseline:"middle",fontSize:"0.8em",children:a/(nTicks-1)*(legendMax-legendMin)+legendMin})]},"gradientTick"+a)}));return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("svg",{id:"gradientLegend",height:170,width:150,children:[Object(jsx_runtime.jsx)("defs",{children:Object(jsx_runtime.jsx)("linearGradient",{id:"linearGradient",x1:"0",x2:"0",y1:"1",y2:"0",children:stopPoints})}),Object(jsx_runtime.jsxs)("g",{style:{transform:"translate(5px, 10px)"},children:[Object(jsx_runtime.jsx)("rect",{width:20,height:150,fill:"url(#linearGradient)",stroke:"black",strokeWidth:1}),ticks]})]}),showMissingness&&Object(jsx_runtime.jsxs)("div",{style:{display:"flex"},children:[Object(jsx_runtime.jsx)("div",{style:{width:"2em"},children:Object(jsx_runtime.jsx)("div",{style:{textAlign:"center",fontWeight:"normal",fontSize:"calc(1.5 * 1.0em)",color:"#999"},children:""})}),Object(jsx_runtime.jsx)("label",{title:"No data",style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"1.0em",color:"#999",margin:0},children:Object(jsx_runtime.jsx)("i",{children:legendEllipsis("No data",20)})})]})]})}PlotGradientLegend.displayName="PlotGradientLegend";try{PlotGradientLegend.displayName="PlotGradientLegend",PlotGradientLegend.__docgenInfo={description:"",displayName:"PlotGradientLegend",props:{legendMax:{defaultValue:null,description:"",name:"legendMax",required:!0,type:{name:"number"}},legendMin:{defaultValue:null,description:"",name:"legendMin",required:!0,type:{name:"number"}},gradientColorscaleType:{defaultValue:null,description:"",name:"gradientColorscaleType",required:!1,type:{name:"enum",value:[{value:'"sequential"'},{value:'"divergent"'}]}},nTicks:{defaultValue:null,description:"",name:"nTicks",required:!1,type:{name:"number"}},showMissingness:{defaultValue:null,description:"",name:"showMissingness",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/PlotGradientLegend.tsx#PlotGradientLegend"]={docgenInfo:PlotGradientLegend.__docgenInfo,name:"PlotGradientLegend",path:"src/components/plotControls/PlotGradientLegend.tsx#PlotGradientLegend"})}catch(__react_docgen_typescript_loader_error){}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function PlotLegend(_ref){var type=_ref.type,legendTitle=_ref.legendTitle,containerStyles=_ref.containerStyles,otherProps=_objectWithoutProperties(_ref,["type","legendTitle","containerStyles"]);return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:("list"===type&&(otherProps.legendItems.length>1||otherProps.showOverlayLegend)||"colorscale"===type)&&Object(jsx_runtime.jsxs)("div",{style:Object.assign({display:"inline-block",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066",padding:"1em",maxHeight:250,width:400,overflowX:"hidden",overflowY:"auto"},containerStyles),children:[Object(jsx_runtime.jsx)("div",{title:legendTitle,style:{cursor:"pointer",fontSize:"1.0em",fontWeight:"bold",marginLeft:"0.15em",marginBottom:"0.5em"},children:legendTitle}),"list"===type&&Object(jsx_runtime.jsx)(PlotListLegend,Object.assign({},otherProps)),"colorscale"===type&&Object(jsx_runtime.jsx)(PlotGradientLegend,Object.assign({},otherProps))]})})}try{PlotLegend.displayName="PlotLegend",PlotLegend.__docgenInfo={description:"",displayName:"PlotLegend",props:{legendTitle:{defaultValue:null,description:"",name:"legendTitle",required:!1,type:{name:"string"}},containerStyles:{defaultValue:null,description:"Additional styles for component's container. Optional",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"colorscale"'},{value:'"list"'}]}},legendItems:{defaultValue:null,description:"",name:"legendItems",required:!0,type:{name:"LegendItemsProps[]"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!0,type:{name:"string[] | undefined"}},onCheckedLegendItemsChange:{defaultValue:null,description:"",name:"onCheckedLegendItemsChange",required:!1,type:{name:"((checkedLegendItems: string[]) => void)"}},showOverlayLegend:{defaultValue:null,description:"",name:"showOverlayLegend",required:!1,type:{name:"boolean"}},markerBodyOpacity:{defaultValue:null,description:"",name:"markerBodyOpacity",required:!1,type:{name:"number"}},legendMax:{defaultValue:null,description:"",name:"legendMax",required:!0,type:{name:"number"}},legendMin:{defaultValue:null,description:"",name:"legendMin",required:!0,type:{name:"number"}},gradientColorscaleType:{defaultValue:null,description:"",name:"gradientColorscaleType",required:!1,type:{name:"enum",value:[{value:'"sequential"'},{value:'"divergent"'}]}},nTicks:{defaultValue:null,description:"",name:"nTicks",required:!1,type:{name:"number"}},showMissingness:{defaultValue:null,description:"",name:"showMissingness",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/PlotLegend.tsx#PlotLegend"]={docgenInfo:PlotLegend.__docgenInfo,name:"PlotLegend",path:"src/components/plotControls/PlotLegend.tsx#PlotLegend"})}catch(__react_docgen_typescript_loader_error){}},239:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return truncationLayoutShapes}));__webpack_require__(41),__webpack_require__(74),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(19),__webpack_require__(15),__webpack_require__(9);var _types_plots__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(93);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function truncationLayoutShapes(){var _axisTruncationConfig,_axisTruncationConfig2,_axisTruncationConfig3,_axisTruncationConfig4,orientation=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_types_plots__WEBPACK_IMPORTED_MODULE_13__.OrientationDefault,standardIndependentAxisRange=arguments.length>1?arguments[1]:void 0,standardDependentAxisRange=arguments.length>2?arguments[2]:void 0,extendedIndependentAxisRange=arguments.length>3?arguments[3]:void 0,extendedDependentAxisRange=arguments.length>4?arguments[4]:void 0,axisTruncationConfig=arguments.length>5?arguments[5]:void 0,truncationLayoutShapes=[{}],filledColor="#FFF480";null!=axisTruncationConfig&&null!==(_axisTruncationConfig=axisTruncationConfig.independentAxis)&&void 0!==_axisTruncationConfig&&_axisTruncationConfig.min&&(truncationLayoutShapes=[].concat(_toConsumableArray(truncationLayoutShapes),[{type:"rect",line:{width:0,dash:"dash"},fillcolor:filledColor,opacity:1,xref:"vertical"===orientation?"x":"paper",yref:"vertical"===orientation?"paper":"y",x0:"vertical"===orientation?null==extendedIndependentAxisRange?void 0:extendedIndependentAxisRange.min:0,x1:"vertical"===orientation?null==standardIndependentAxisRange?void 0:standardIndependentAxisRange.min:1,y0:"vertical"===orientation?0:null==extendedIndependentAxisRange?void 0:extendedIndependentAxisRange.min,y1:"vertical"===orientation?1:null==standardIndependentAxisRange?void 0:standardIndependentAxisRange.min}])),null!=axisTruncationConfig&&null!==(_axisTruncationConfig2=axisTruncationConfig.independentAxis)&&void 0!==_axisTruncationConfig2&&_axisTruncationConfig2.max&&(truncationLayoutShapes=[].concat(_toConsumableArray(truncationLayoutShapes),[{type:"rect",line:{width:0,dash:"dash",color:filledColor},fillcolor:filledColor,opacity:1,xref:"vertical"===orientation?"x":"paper",yref:"vertical"===orientation?"paper":"y",x0:"vertical"===orientation?null==standardIndependentAxisRange?void 0:standardIndependentAxisRange.max:0,x1:"vertical"===orientation?null==extendedIndependentAxisRange?void 0:extendedIndependentAxisRange.max:1,y0:"vertical"===orientation?0:null==standardIndependentAxisRange?void 0:standardIndependentAxisRange.max,y1:"vertical"===orientation?1:null==extendedIndependentAxisRange?void 0:extendedIndependentAxisRange.max}])),null!=axisTruncationConfig&&null!==(_axisTruncationConfig3=axisTruncationConfig.dependentAxis)&&void 0!==_axisTruncationConfig3&&_axisTruncationConfig3.min&&(truncationLayoutShapes=[].concat(_toConsumableArray(truncationLayoutShapes),[{type:"rect",line:{width:0,dash:"dash"},fillcolor:filledColor,opacity:1,xref:"vertical"===orientation?"paper":"x",yref:"vertical"===orientation?"y":"paper",x0:"vertical"===orientation?0:null==standardDependentAxisRange?void 0:standardDependentAxisRange.min,x1:"vertical"===orientation?1:null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.min,y0:"vertical"===orientation?null==standardDependentAxisRange?void 0:standardDependentAxisRange.min:0,y1:"vertical"===orientation?null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.min:1}])),null!=axisTruncationConfig&&null!==(_axisTruncationConfig4=axisTruncationConfig.dependentAxis)&&void 0!==_axisTruncationConfig4&&_axisTruncationConfig4.max&&(truncationLayoutShapes=[].concat(_toConsumableArray(truncationLayoutShapes),[{type:"rect",line:{width:0,dash:"dash"},fillcolor:filledColor,opacity:1,xref:"vertical"===orientation?"paper":"x",yref:"vertical"===orientation?"y":"paper",x0:"vertical"===orientation?0:null==standardDependentAxisRange?void 0:standardDependentAxisRange.max,x1:"vertical"===orientation?1:null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.max,y0:"vertical"===orientation?null==standardDependentAxisRange?void 0:standardDependentAxisRange.max:0,y1:"vertical"===orientation?null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.max:1}]));var filteredTruncationLayoutShapes=truncationLayoutShapes.filter((function(shape){if(null!=shape.x0&&null!=shape.x1&&null!=shape.y0&&null!=shape.y1)return shape}));return filteredTruncationLayoutShapes}},245:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return tickSettings}));__webpack_require__(338);var guards=__webpack_require__(178);function tickSettings(logScale,range,valueType,dataLength){var axisDtick=null!=range&&null!=range.min&&null!=range.max&&logScale?function logScaleDtick(range){if(null!=range&&range.min>0&&Object(guards.d)(range.max)&&Object(guards.d)(range.min)){var ratio=range.max/range.min;if(ratio<10)return ratio>=2?Math.log10(2):Math.log10(1.1)}return 1}(range):void 0;return{dtick:null!=dataLength&&0===dataLength?void 0:axisDtick,showexponent:"all",exponentformat:"date"===valueType||null!=axisDtick&&axisDtick<1?"none":"power",minexponent:3}}},2535:function(module,exports,__webpack_require__){(exports=__webpack_require__(368)(!1)).push([module.i,"/* legend positioning */\n.legend {\n  position: absolute;\n  /* change from 40 to 50 to have show/hide button */\n  bottom: 50px;\n  right: 10px;\n  /* z-index:10000; */\n}\n\n/* reduce min-height for numeric (range data) - copy from .legend-contents at vb-popbio-maps.css */\n.legend-contents-numeric {\n  text-align: left;\n  line-height: 15px;\n  color: #555555;\n  /* changed margin-bottom from 5 to 0 */\n  margin-bottom: 0px !important;\n  border-radius: 0 !important;\n  /* change these for mapveu v2\n    width         : 280px;\n    min-height    : 300px; */\n  width: 250px;\n  /* change min-height for numeric data */\n  min-height: 210px;\n  /* combine with other CSS defined */\n  /* padding: 6px 8px 6px 8px; */\n  padding: 0px 0px 0px 0px;\n  background: white;\n  /*max-width     : 230px;\n    position: absolute;\n    right: 0px;\n    top: 30%;*/\n  /* add margin-top for numeric - may not be necessary when using dropdown menu */\n  /* margin-top: 10px; */\n}\n\n/* override bootstrap css for legend dropdown menu */\n\n.legend .btn-success {\n  color: #000;\n  background-color: #fff;\n  border-color: silver;\n}\n\n.legend .btn-success:hover {\n  color: #000;\n  background-color: #fff;\n  border-color: silver;\n}\n\n.legend .btn-success:focus,\n.legend .btn-success.focus {\n  color: #000;\n  background-color: #fff;\n  border-color: silver;\n  box-shadow: 0 0 0 0rem rgba(151, 141, 141, 0.425);\n}\n\n.legend .btn-success.disabled,\n.legend .btn-success:disabled {\n  color: #000;\n  background-color: #fff;\n  border-color: silver;\n}\n\n.legend .btn-success:not(:disabled):not(.disabled):active,\n.legend .btn-success:not(:disabled):not(.disabled).active,\n.legend .show > .btn-success.dropdown-toggle {\n  color: #333333;\n  background-color: #cecece;\n  border-color: #adadad;\n}\n\n.legend .btn-success:not(:disabled):not(.disabled):active:focus,\n.legend .btn-success:not(:disabled):not(.disabled).active:focus,\n.legend .show > .btn-success.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0rem rgba(151, 141, 141, 0.425);\n}\n\n.legend .dropdown button {\n  border: 1px solid #e5e5e5;\n  border-color: silver;\n  border-radius: 0px;\n  background-color: white;\n  font-size: 1em;\n  color: black;\n  /* set the size of dropdown button */\n  /* width: 100%;\n  text-align: left; */\n}\n\n.legend-dropdown-item {\n  display: block;\n  width: 100%;\n  padding: 12px 15px;\n  clear: both;\n  font-weight: 400;\n  color: #222;\n  text-align: inherit;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 0;\n}\n\n.legend-dropdown-item:hover,\n.legend-dropdown-item:focus {\n  color: #16181b;\n  text-decoration: none;\n  background-color: #f8f9fa;\n}\n\n.legend-dropdown-item.active,\n.legend-dropdown-item:active {\n  color: #16181b;\n  text-decoration: none;\n  background-color: #f8f9fa;\n}\n\n.legend-dropdown-menu {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  z-index: 1000;\n  display: none;\n  float: left;\n  min-width: 10rem;\n  padding: 0.5rem 0;\n  margin: 0.125rem 0 0;\n  font-size: 0.9375rem;\n  color: #222;\n  text-align: left;\n  list-style: none;\n  background-color: #eee;\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  border-radius: 0px;\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\n}\n\n#legend-dropdown-chart {\n  padding: 0.6rem 0.75rem 0.375rem 0.75rem; /* Artificially center text inside dropdown button */\n}\n\n/* for the case when full width of dropdown button is used\n * set different value for categorical and bar chart legends due to margin in plotly\n*/\n\n.legend .dropdown button {\n  width: 100%;\n  text-align: left;\n}\n#legend-dropdown-category.dropdown-toggle::after {\n  position: relative;\n  right: -75%;\n}\n\n#legend-dropdown-chart.dropdown-toggle::after {\n  position: relative;\n  right: -55%;\n}\n\n/* add square icon case with the presence of legend-square-icon className */\n.legend .legend-square-icon i {\n  border-radius: 0px;\n}\n\n/* add legend-field-text */\n.legend .legend-field-text {\n  text-align: right;\n  margin-bottom: -12px;\n}\n\n/* add legend-marker-description */\n.legend .legend-marker-description {\n  text-align: center;\n}\n\n.legend .legend-marker-description img {\n  margin: 12px auto;\n}\n\n/* legend-list-radio-button */\n.legend .legend-list-radio-button .legend-list-radio-button-title {\n  /* margin-top: 24px; */\n  margin: 12px auto 5px auto;\n  line-height: 15px;\n}\n\n.legend .legend-list-radio-button Label {\n  /* margin-top: 24px; */\n  /* margin: 12px auto 5px auto; */\n  line-height: 5px;\n}\n\n/* legend info contents */\n/* add legend-donut-marker-description */\n.legend .legend-donut-marker-description {\n  /* text-align: center; */\n  text-align: left;\n  margin-top: 40px;\n}\n\n.legend .legend-donut-marker-description img {\n  /* margin: 12px auto; */\n  /* margin-top: 12px; */\n  margin-bottom: 12px;\n}\n\n/* add legend-chart-marker-description */\n.legend .legend-chart-marker-description {\n  /* text-align: center; */\n  text-align: left;\n  margin-top: 12px;\n}\n\n.legend .legend-chart-marker-description img {\n  /* margin: 12px auto; */\n  /* margin-top: 12px; */\n  margin-bottom: 0px;\n}\n\n.legend .legend-info-contents {\n  width: 100%;\n}\n\n.legend .legend-info-image {\n  float: left;\n  width: 40%;\n}\n\n.legend .legend-info-text {\n  width: 60%;\n  float: left;\n  /* for legend-chart-arrow.png */\n  /* margin-top: 1px;\n  margin-left: -7px;\n  font-size: 0.75em;\n  line-height: 15px; */\n  /* for legend-chart-arrow-new.png */\n  margin-top: 1px;\n  margin-left: -18px;\n  font-size: 0.84em;\n  /* font-weight: bold; */\n  line-height: 16px;\n}\n\n/* a right side button */\n.legend-display-button {\n  position: absolute;\n  z-index: 1000;\n  bottom: 0px;\n  height: 50px;\n  border-radius: 5px;\n}\n\n/* set button width so that it remains the same with the text change (show/hide) */\n.legend-display-button button {\n  width: 120px;\n  display: inline-block;\n}\n\n.legend-display-button.active {\n  right: 10px;\n}\n\n/* legend wrapper to show and hide */\n.legend-wrapper {\n  display: flex;\n  width: 300px;\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n}\n\n.legend-wrapper.hiding-legend {\n  display: none;\n}\n\n.legend-nav {\n  position: relative;\n  width: 300px;\n}\n\n.legend-nav-icon {\n  cursor: pointer;\n  transition: color 0.3s;\n  /* set button's background-color for firefox (due to button:hover below) */\n  background-color: #e7e7e7;\n}\n\n.legend-nav-icon:hover {\n  /* color: #5eb2ff; */\n  color: red;\n}\n",""]),module.exports=exports},2555:function(module,exports){},2568:function(module,exports){},2636:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AllInOneRequest",(function(){return AllInOneRequest})),__webpack_require__.d(__webpack_exports__,"FirstRequest",(function(){return FirstRequest})),__webpack_require__.d(__webpack_exports__,"TwoRequests",(function(){return TwoRequests})),__webpack_require__.d(__webpack_exports__,"CumulativeMarkers",(function(){return CumulativeMarkers})),__webpack_require__.d(__webpack_exports__,"Standalone",(function(){return Standalone}));__webpack_require__(63),__webpack_require__(8),__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_map_config_map__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(56),_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(60),_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(112),_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(70),_map_MapVEuMapSidebar__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(622),_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(188),_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(165),_map_DonutMarker__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(350),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Map/Donut Markers",component:_map_MapVEuMapSidebar__WEBPACK_IMPORTED_MODULE_18__.a};var defaultAnimation={method:"geohash",animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_20__.a,duration:_map_config_map__WEBPACK_IMPORTED_MODULE_14__.c},dropdownHref=["#/link-1","#/link-2","#/link-3","#/link-4","#/link-5","#/link-6","#/link-7"],dropdownItemText=["Locus","Allele","Species","Sample type","Collection Protocol","Project","Protocol"];var handleMarkerClick=function handleMarkerClick(e){!function removeClassName(targetClass){var targetElement=document.getElementsByClassName(targetClass)[0];null!=targetElement&&targetElement.classList.remove(targetClass)}("highlight-marker"),e.target._icon.classList.add("highlight-marker")},AllInOneRequest=function AllInOneRequest(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),legendData=_useState4[0],setLegendData=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({center:[13,16],zoom:4}),2),viewport=_useState6[0],setViewport=_useState6[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(bvp){var markers;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_16__.d)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_14__.c,setLegendData,handleMarkerClick);case 2:markers=_context.sent,setMarkerElements(markers);case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[setMarkerElements]),_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("default"),2),mouseMode=_useState8[0],setMouseMode=_useState8[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_17__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_15__.a,mouseMode:mouseMode,onMouseModeChange:setMouseMode})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_19__.a,{legendType:"categorical",data:legendData,dropdownTitle:"Species",dropdownHref:dropdownHref,dropdownItemText:dropdownItemText,legendInfoNumberText:"Species"})]})};AllInOneRequest.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0};var FirstRequest=function FirstRequest(args){var _useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),markerElements=_useState10[0],setMarkerElements=_useState10[1],legendData=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),1)[0],_useState14=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({center:[13,16],zoom:4}),2),viewport=_useState14[0],setViewport=_useState14[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(bvp){var markers;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_16__.c)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_14__.c,handleMarkerClick);case 2:markers=_context2.sent,setMarkerElements(markers);case 4:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}(),[setMarkerElements]),_useState16=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("default"),2),mouseMode=_useState16[0],setMouseMode=_useState16[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_17__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_15__.a,mouseMode:mouseMode,onMouseModeChange:setMouseMode})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_19__.a,{legendType:"categorical",data:legendData,dropdownTitle:"Species",dropdownHref:dropdownHref,dropdownItemText:dropdownItemText,legendInfoNumberText:"Species"})]})};FirstRequest.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0};var TwoRequests=function TwoRequests(args){var _useState18=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(null),2),bvp=_useState18[0],setBvp=_useState18[1],_useState20=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),markerElements=_useState20[0],setMarkerElements=_useState20[1],_useState22=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),legendData=_useState22[0],setLegendData=_useState22[1],_useState24=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({center:[13,16],zoom:4}),2),viewport=_useState24[0],setViewport=_useState24[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(bvp){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:setBvp(bvp);case 1:case"end":return _context3.stop()}}),_callee3)})));return function(_x3){return _ref3.apply(this,arguments)}}(),[setBvp]),_useState26=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("default"),2),mouseMode=_useState26[0],setMouseMode=_useState26[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){var isCancelled=!1;if(null!=bvp)return _asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var markers,fullMarkers;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_16__.c)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_14__.c,handleMarkerClick);case 2:if(markers=_context4.sent,isCancelled||setMarkerElements(markers),!isCancelled){_context4.next=6;break}return _context4.abrupt("return");case 6:return _context4.next=8,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_16__.d)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_14__.c,setLegendData,handleMarkerClick,2e3);case 8:fullMarkers=_context4.sent,isCancelled||setMarkerElements(fullMarkers);case 10:case"end":return _context4.stop()}}),_callee4)})))(),function(){isCancelled=!0}}),[bvp]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_17__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_15__.a,mouseMode:mouseMode,onMouseModeChange:setMouseMode})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_19__.a,{legendType:"categorical",data:legendData,dropdownTitle:"Species",dropdownHref:dropdownHref,dropdownItemText:dropdownItemText,legendInfoNumberText:"Species"})]})};TwoRequests.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0};var CumulativeMarkers=function CumulativeMarkers(args){var viewport=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({center:[13,16],zoom:4}),1)[0],_useState30=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("default"),2),mouseMode=_useState30[0],setMouseMode=_useState30[1],markerElements=[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_map_DonutMarker__WEBPACK_IMPORTED_MODULE_21__.b,{id:"abc",position:{lat:13,lng:16},bounds:{southWest:{lat:12.5,lng:15.5},northEast:{lat:13.5,lng:16.5}},data:[{value:85,label:"subset",color:"pink"},{value:100,label:"total",color:"#ccc"}],cumulative:!0,isAtomic:!1,onClick:handleMarkerClick,duration:300,markerScale:1},"abc"),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_map_DonutMarker__WEBPACK_IMPORTED_MODULE_21__.b,{id:"abc2",position:{lat:13,lng:20},bounds:{southWest:{lat:12.5,lng:19.5},northEast:{lat:13.5,lng:20.5}},data:[{value:10,label:"special",color:"yellow"},{value:85,label:"subset",color:"pink"},{value:100,label:"total",color:"#ccc"}],cumulative:!0,isAtomic:!1,onClick:handleMarkerClick,duration:300,markerScale:1},"abc2")];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_17__.a,Object.assign({},args,{viewport:viewport,markers:markerElements,onBoundsChanged:function onBoundsChanged(){},animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_15__.a,mouseMode:mouseMode,onMouseModeChange:setMouseMode}))};CumulativeMarkers.displayName="CumulativeMarkers",CumulativeMarkers.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0};var Standalone=function Standalone(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_map_DonutMarker__WEBPACK_IMPORTED_MODULE_21__.a,{data:[{value:10,label:"special",color:"yellow"},{value:85,label:"subset",color:"pink"},{value:100,label:"total",color:"#ccc"}],cumulative:!0,isAtomic:!1,markerScale:1,containerStyles:{margin:"10px"}})};Standalone.displayName="Standalone",AllInOneRequest.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [13, 16],\n    zoom: 4,\n  });\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n  // define mouseMode\n  const [mouseMode, setMouseMode] = useState<MouseMode>(defaultMouseMode);\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onViewportChanged={setViewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        mouseMode={mouseMode}\n        onMouseModeChange={setMouseMode}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        dropdownTitle={dropdownTitle}\n        dropdownHref={dropdownHref}\n        dropdownItemText={dropdownItemText}\n        legendInfoNumberText={legendInfoNumberText}\n      />\n    </>\n  );\n}"}},AllInOneRequest.parameters),FirstRequest.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData] = useState<LegendProps['data']>([]);\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [13, 16],\n    zoom: 4,\n  });\n\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesBasicMarkers(\n        bvp,\n        defaultAnimationDuration,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n\n  // define mouseMode\n  const [mouseMode, setMouseMode] = useState<MouseMode>(defaultMouseMode);\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onViewportChanged={setViewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        mouseMode={mouseMode}\n        onMouseModeChange={setMouseMode}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        dropdownTitle={dropdownTitle}\n        dropdownHref={dropdownHref}\n        dropdownItemText={dropdownItemText}\n        legendInfoNumberText={legendInfoNumberText}\n      />\n    </>\n  );\n}"}},FirstRequest.parameters),TwoRequests.parameters=Object.assign({storySource:{source:"(args) => {\n  // With this approach, the handler simply updates the state `bvp`.\n  // The `useEffect` hook runs when the value of `bvp` changes. Within this\n  // hook, we use the variable `isCancelled` to determine if `setMarkerElements`\n  // should be called. It's possible to get fancier and cancel any in-flight requests,\n  // but this will require a bit of refactoring and even more indirection.\n  const [bvp, setBvp] = useState<BoundsViewport | null>(null);\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [13, 16],\n    zoom: 4,\n  });\n\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      setBvp(bvp);\n    },\n    [setBvp]\n  );\n\n  // define mouseMode\n  const [mouseMode, setMouseMode] = useState<MouseMode>(defaultMouseMode);\n\n  useEffect(() => {\n    // track if effect has been cancelled\n    let isCancelled = false;\n    if (bvp == null) return;\n    // Create an anonymous async function, and call it immediately.\n    // This way we can use async-await\n    (async () => {\n      const markers = await getSpeciesBasicMarkers(\n        bvp,\n        defaultAnimationDuration,\n        handleMarkerClick\n      );\n      if (!isCancelled) setMarkerElements(markers);\n      if (isCancelled) return; // avoid the next request if this effect has already been cancelled\n      const fullMarkers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick,\n        2000\n      );\n      if (!isCancelled) setMarkerElements(fullMarkers);\n    })();\n    // Cleanup function to set `isCancelled` to `true`\n    return () => {\n      isCancelled = true;\n    };\n  }, [bvp]);\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onViewportChanged={setViewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        mouseMode={mouseMode}\n        onMouseModeChange={setMouseMode}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        dropdownTitle={dropdownTitle}\n        dropdownHref={dropdownHref}\n        dropdownItemText={dropdownItemText}\n        legendInfoNumberText={legendInfoNumberText}\n      />\n    </>\n  );\n}"}},TwoRequests.parameters),CumulativeMarkers.parameters=Object.assign({storySource:{source:"(args) => {\n  const [viewport] = useState<Viewport>({ center: [13, 16], zoom: 4 });\n  const [mouseMode, setMouseMode] = useState<MouseMode>(defaultMouseMode);\n\n  const markerElements: ReactElement<DonutMarkerProps>[] = [\n    <DonutMarker\n      id={'abc'}\n      key={'abc'}\n      position={{ lat: 13, lng: 16 }}\n      bounds={{\n        southWest: { lat: 12.5, lng: 15.5 },\n        northEast: { lat: 13.5, lng: 16.5 },\n      }}\n      data={[\n        {\n          value: 85,\n          label: 'subset',\n          color: 'pink',\n        },\n        {\n          value: 100,\n          label: 'total',\n          color: '#ccc',\n        },\n      ]}\n      cumulative={true}\n      isAtomic={false}\n      onClick={handleMarkerClick}\n      duration={300}\n      markerScale={1}\n    />,\n    <DonutMarker\n      id={'abc2'}\n      key={'abc2'}\n      position={{ lat: 13, lng: 20 }}\n      bounds={{\n        southWest: { lat: 12.5, lng: 19.5 },\n        northEast: { lat: 13.5, lng: 20.5 },\n      }}\n      data={[\n        {\n          value: 10,\n          label: 'special',\n          color: 'yellow',\n        },\n        {\n          value: 85,\n          label: 'subset',\n          color: 'pink',\n        },\n        {\n          value: 100,\n          label: 'total',\n          color: '#ccc',\n        },\n      ]}\n      cumulative={true}\n      isAtomic={false}\n      onClick={handleMarkerClick}\n      duration={300}\n      markerScale={1}\n    />,\n  ];\n  return (\n    <MapVEuMap\n      {...args}\n      viewport={viewport}\n      markers={markerElements}\n      onBoundsChanged={() => {}}\n      animation={defaultAnimation}\n      zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n      mouseMode={mouseMode}\n      onMouseModeChange={setMouseMode}\n    />\n  );\n}"}},CumulativeMarkers.parameters),Standalone.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <DonutMarkerStandalone\n      data={[\n        {\n          value: 10,\n          label: 'special',\n          color: 'yellow',\n        },\n        {\n          value: 85,\n          label: 'subset',\n          color: 'pink',\n        },\n        {\n          value: 100,\n          label: 'total',\n          color: '#ccc',\n        },\n      ]}\n      cumulative={true}\n      isAtomic={false}\n      markerScale={1}\n      containerStyles={{ margin: '10px' }}\n    />\n  );\n}"}},Standalone.parameters)},2637:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Spinner",(function(){return Spinner})),__webpack_require__.d(__webpack_exports__,"NoDataOverlay",(function(){return NoDataOverlay})),__webpack_require__.d(__webpack_exports__,"Windowed",(function(){return Windowed})),__webpack_require__.d(__webpack_exports__,"ScreenshotOnLoad",(function(){return ScreenshotOnLoad})),__webpack_require__.d(__webpack_exports__,"Tiny",(function(){return Tiny})),__webpack_require__.d(__webpack_exports__,"ScrollAndZoom",(function(){return ScrollAndZoom}));__webpack_require__(63),__webpack_require__(8),__webpack_require__(10),__webpack_require__(446),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),_map_config_map__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(56),_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(60),_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(112),_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(70),_map_MapVEuMapSidebar__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(622),_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(188),_material_ui_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2727),_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(165),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Map/General",component:_map_MapVEuMapSidebar__WEBPACK_IMPORTED_MODULE_19__.a};var defaultAnimation={method:"geohash",animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_22__.a,duration:_map_config_map__WEBPACK_IMPORTED_MODULE_15__.c},dropdownHref=["#/link-1","#/link-2","#/link-3","#/link-4","#/link-5","#/link-6","#/link-7"],dropdownItemText=["Locus","Allele","Species","Sample type","Collection Protocol","Project","Protocol"];var handleMarkerClick=function handleMarkerClick(e){!function removeClassName(targetClass){var targetElement=document.getElementsByClassName(targetClass)[0];null!=targetElement&&targetElement.classList.remove(targetClass)}("highlight-marker"),e.target._icon.classList.add("highlight-marker")},Spinner=function Spinner(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),2),legendData=_useState4[0],setLegendData=_useState4[1],viewport=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)({center:[13,16],zoom:4}),1)[0],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(bvp){var markers;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__.d)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_15__.c,setLegendData,handleMarkerClick);case 2:markers=_context.sent,setMarkerElements(markers);case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[setMarkerElements]),_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)("default"),2),mouseMode=_useState8[0],setMouseMode=_useState8[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_18__.a,Object.assign({},args,{viewport:viewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__.a,mouseMode:mouseMode,onMouseModeChange:setMouseMode})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_20__.a,{legendType:"categorical",data:legendData,dropdownTitle:"Species",dropdownHref:dropdownHref,dropdownItemText:dropdownItemText,legendInfoNumberText:"Species"})]})};Spinner.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0,showSpinner:!0};var NoDataOverlay=function NoDataOverlay(args){var _useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),2),markerElements=_useState10[0],setMarkerElements=_useState10[1],_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),2),legendData=_useState12[0],setLegendData=_useState12[1],viewport=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)({center:[13,16],zoom:4}),1)[0],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(bvp){var markers;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__.d)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_15__.c,setLegendData,handleMarkerClick);case 2:markers=_context2.sent,setMarkerElements(markers);case 4:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}(),[setMarkerElements]),_useState16=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)("default"),2),mouseMode=_useState16[0],setMouseMode=_useState16[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_18__.a,Object.assign({},args,{viewport:viewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__.a,mouseMode:mouseMode,onMouseModeChange:setMouseMode})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_20__.a,{legendType:"categorical",data:legendData,dropdownTitle:"Species",dropdownHref:dropdownHref,dropdownItemText:dropdownItemText,legendInfoNumberText:"Species"})]})};NoDataOverlay.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0,showNoDataOverlay:!0};var Windowed=function Windowed(args){var _useState18=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),2),markerElements=_useState18[0],setMarkerElements=_useState18[1],_useState20=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),2),legendData=_useState20[0],setLegendData=_useState20[1],viewport=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)({center:[2,16],zoom:4}),1)[0],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(bvp){var markers;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__.d)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_15__.c,setLegendData,handleMarkerClick);case 2:markers=_context3.sent,setMarkerElements(markers);case 4:case"end":return _context3.stop()}}),_callee3)})));return function(_x3){return _ref3.apply(this,arguments)}}(),[setMarkerElements]),_useState24=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)("default"),2),mouseMode=_useState24[0],setMouseMode=_useState24[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_18__.a,Object.assign({},args,{viewport:viewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__.a,mouseMode:mouseMode,onMouseModeChange:setMouseMode})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_20__.a,{legendType:"categorical",data:legendData,dropdownTitle:"Species",dropdownHref:dropdownHref,dropdownItemText:dropdownItemText,legendInfoNumberText:"Species"})]})};Windowed.args={height:500,width:700,style:{marginTop:100,marginLeft:"auto",marginRight:"auto"},showGrid:!0,showMouseToolbar:!0};var ScreenshotOnLoad=function ScreenhotOnLoad(args){var mapRef=Object(react__WEBPACK_IMPORTED_MODULE_14__.useRef)(null),_useState26=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)(""),2),image=_useState26[0],setImage=_useState26[1];return Object(react__WEBPACK_IMPORTED_MODULE_14__.useEffect)((function(){var _mapRef$current;null===(_mapRef$current=mapRef.current)||void 0===_mapRef$current||_mapRef$current.toImage({height:args.height,width:args.width,format:"png"}).then(fetch).then((function(res){return res.blob()})).then(URL.createObjectURL).then(setImage)}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)("div",{style:{display:"flex"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_18__.a,Object.assign({},args,{ref:mapRef,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__.a})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)("img",{src:image})]})};ScreenshotOnLoad.displayName="ScreenshotOnLoad",ScreenshotOnLoad.args={height:500,width:700,showGrid:!0,showMouseToolbar:!0,markers:[],viewport:{center:[13,16],zoom:4},onBoundsChanged:function onBoundsChanged(){}};var Tiny=function Tiny(args){var _useState28=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),2),markerElements=_useState28[0],setMarkerElements=_useState28[1],_useState30=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),2),setLegendData=(_useState30[0],_useState30[1]),viewport=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)({center:[8,10],zoom:2}),1)[0],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(bvp){var markers;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__.d)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_15__.c,setLegendData,handleMarkerClick,0,_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__.b,20);case 2:markers=_context4.sent,setMarkerElements(markers);case 4:case"end":return _context4.stop()}}),_callee4)})));return function(_x4){return _ref4.apply(this,arguments)}}(),[setMarkerElements]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_18__.a,Object.assign({},args,{viewport:viewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__.b}))})};Tiny.args={height:110,width:220,style:{marginTop:100,marginLeft:"auto",marginRight:"auto"},showGrid:!1,showMouseToolbar:!1,showScale:!1,showLayerSelector:!1,showAttribution:!1,showZoomControl:!1};var ScrollAndZoom=function ScrollAndZoom(args){var _useState34=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),2),markerElements=_useState34[0],setMarkerElements=_useState34[1],_useState36=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),2),setLegendData=(_useState36[0],_useState36[1]),_useState38=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)({center:[13,16],zoom:4}),2),viewport=_useState38[0],setViewport=_useState38[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(bvp){var markers;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_17__.d)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_15__.c,setLegendData,handleMarkerClick);case 2:markers=_context5.sent,setMarkerElements(markers);case 4:case"end":return _context5.stop()}}),_callee5)})));return function(_x5){return _ref5.apply(this,arguments)}}(),[setMarkerElements]),_useState40=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)(!1),2),mapScroll=_useState40[0],setMapScroll=_useState40[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:700,marginTop:100,marginLeft:"auto",marginRight:"auto"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"flex-end",fontSize:"1.0em",color:"",margin:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_21__.a,{color:"primary",checked:mapScroll,onChange:function onChange(){return setMapScroll(!mapScroll)}}),"Scroll and Zoom"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_18__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_16__.a,scrollingEnabled:mapScroll}))]})})};ScrollAndZoom.args={height:500,width:700,style:{marginLeft:"auto",marginRight:"auto"},showGrid:!0,showMouseToolbar:!0},Spinner.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [viewport] = useState<Viewport>({ center: [13, 16], zoom: 4 });\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n  // define mouseMode\n  const [mouseMode, setMouseMode] = useState<MouseMode>(defaultMouseMode);\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        mouseMode={mouseMode}\n        onMouseModeChange={setMouseMode}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        dropdownTitle={dropdownTitle}\n        dropdownHref={dropdownHref}\n        dropdownItemText={dropdownItemText}\n        legendInfoNumberText={legendInfoNumberText}\n      />\n    </>\n  );\n}"}},Spinner.parameters),NoDataOverlay.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [viewport] = useState<Viewport>({ center: [13, 16], zoom: 4 });\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n  // define mouseMode\n  const [mouseMode, setMouseMode] = useState<MouseMode>(defaultMouseMode);\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        mouseMode={mouseMode}\n        onMouseModeChange={setMouseMode}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        dropdownTitle={dropdownTitle}\n        dropdownHref={dropdownHref}\n        dropdownItemText={dropdownItemText}\n        legendInfoNumberText={legendInfoNumberText}\n      />\n    </>\n  );\n}"}},NoDataOverlay.parameters),Windowed.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [viewport] = useState<Viewport>({ center: [2, 16], zoom: 4 });\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n  // define mouseMode\n  const [mouseMode, setMouseMode] = useState<MouseMode>(defaultMouseMode);\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        mouseMode={mouseMode}\n        onMouseModeChange={setMouseMode}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        dropdownTitle={dropdownTitle}\n        dropdownHref={dropdownHref}\n        dropdownItemText={dropdownItemText}\n        legendInfoNumberText={legendInfoNumberText}\n      />\n    </>\n  );\n}"}},Windowed.parameters),ScreenshotOnLoad.parameters=Object.assign({storySource:{source:"function ScreenhotOnLoad(\n  args\n) {\n  const mapRef = useRef<PlotRef>(null);\n  const [image, setImage] = useState('');\n  useEffect(() => {\n    // We're converting the base64 encoding of the image to an object url\n    // because the size of the base64 encoding causes \"too much recursion\".\n    mapRef.current\n      ?.toImage({\n        height: args.height as number,\n        width: args.width as number,\n        format: 'png',\n      })\n      .then(fetch)\n      .then((res) => res.blob())\n      .then(URL.createObjectURL)\n      .then(setImage);\n  }, []);\n\n  return (\n    <div style={{ display: 'flex' }}>\n      <MapVEuMap\n        {...args}\n        ref={mapRef}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n      />\n      <img src={image} />\n    </div>\n  );\n}"}},ScreenshotOnLoad.parameters),Tiny.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [viewport] = useState<Viewport>({ center: [8, 10], zoom: 2 });\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick,\n        0,\n        tinyLeafletZoomLevelToGeohashLevel,\n        20\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={tinyLeafletZoomLevelToGeohashLevel}\n      />\n    </>\n  );\n}"}},Tiny.parameters),ScrollAndZoom.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [13, 16],\n    zoom: 4,\n  });\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n\n  // add useState for controlling scroll and zoom\n  const [mapScroll, setMapScroll] = useState<boolean>(false);\n  const textSize = '1.0em';\n\n  return (\n    <>\n      <div\n        style={{\n          // height: 500,\n          display: 'flex',\n          flexDirection: 'column',\n          width: 700,\n          marginTop: 100,\n          marginLeft: 'auto',\n          marginRight: 'auto',\n        }}\n      >\n        <label\n          style={{\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'flex-end',\n            fontSize: textSize,\n            color: '',\n            // add this for general usage (e.g., story)\n            margin: 0,\n          }}\n        >\n          <Checkbox\n            color={'primary'}\n            checked={mapScroll}\n            onChange={() => setMapScroll(!mapScroll)}\n          />\n          Scroll and Zoom\n        </label>\n        <MapVEuMap\n          {...args}\n          viewport={viewport}\n          onViewportChanged={setViewport}\n          onBoundsChanged={handleViewportChanged}\n          markers={markerElements}\n          animation={defaultAnimation}\n          zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n          scrollingEnabled={mapScroll}\n        />\n      </div>\n    </>\n  );\n}"}},ScrollAndZoom.parameters)},2638:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MapFlyTo",(function(){return MapFlyTo})),__webpack_require__.d(__webpack_exports__,"MapThumbnail",(function(){return MapThumbnail})),__webpack_require__.d(__webpack_exports__,"ChangeViewportAndBaseLayer",(function(){return ChangeViewportAndBaseLayer}));__webpack_require__(63),__webpack_require__(8),__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_map_config_map__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(56),_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(60),_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(112),_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(70),_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(188),_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(165),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Map/Map ref related",component:_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_17__.a};var defaultAnimation={method:"geohash",animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_19__.a,duration:_map_config_map__WEBPACK_IMPORTED_MODULE_14__.c},dropdownHref=["#/link-1","#/link-2","#/link-3","#/link-4","#/link-5","#/link-6","#/link-7"],dropdownItemText=["Locus","Allele","Species","Sample type","Collection Protocol","Project","Protocol"];var handleMarkerClick=function handleMarkerClick(e){!function removeClassName(targetClass){var targetElement=document.getElementsByClassName(targetClass)[0];null!=targetElement&&targetElement.classList.remove(targetClass)}("highlight-marker"),e.target._icon.classList.add("highlight-marker")},MapFlyTo=function MapFlyTo(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),legendData=_useState4[0],setLegendData=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({center:[0,0],zoom:2}),2),viewport=_useState6[0],setViewport=_useState6[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(bvp){var markers;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_16__.d)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_14__.c,setLegendData,handleMarkerClick);case 2:markers=_context.sent,setMarkerElements(markers);case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[setMarkerElements]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_17__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_15__.a,flyToMarkers:!0,flyToMarkersDelay:2e3})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_map_MapVEuLegendSampleList__WEBPACK_IMPORTED_MODULE_18__.a,{legendType:"categorical",data:legendData,dropdownTitle:"Species",dropdownHref:dropdownHref,dropdownItemText:dropdownItemText,legendInfoNumberText:"Species"})]})};MapFlyTo.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0};var MapThumbnail=function MapThumbnail(args){var _useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),markerElements=_useState8[0],setMarkerElements=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),setLegendData=(_useState10[0],_useState10[1]),_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({center:[13,16],zoom:4}),2),viewport=_useState12[0],setViewport=_useState12[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(bvp){var markers;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_16__.d)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_14__.c,setLegendData,handleMarkerClick);case 2:markers=_context2.sent,setMarkerElements(markers);case 4:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}(),[setMarkerElements]),ref=Object(react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null),_useState14=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(""),2),img=_useState14[0],setImg=_useState14[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){var _ref$current;null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.toImage({format:"jpeg",height:100,width:200}).then((function(src){return setImg(src)}))}),[markerElements]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("h4",{children:"Map"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_17__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_15__.a,ref:ref})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("h4",{children:"Partial screenshot"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("img",{src:img})]})};MapThumbnail.args={height:"250px",width:"500px",showGrid:!0,showMouseToolbar:!0};var ChangeViewportAndBaseLayer=function ChangeViewportAndBaseLayer(args){var _useState16=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),markerElements=_useState16[0],setMarkerElements=_useState16[1],_useState18=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),setLegendData=(_useState18[0],_useState18[1]),_useState20=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({center:[0,0],zoom:2}),2),viewport=_useState20[0],setViewport=_useState20[1],handleViewportChanged=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(bvp){var markers;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(_api_getMarkersFromFixtureData__WEBPACK_IMPORTED_MODULE_16__.d)(bvp,_map_config_map__WEBPACK_IMPORTED_MODULE_14__.c,setLegendData,handleMarkerClick);case 2:markers=_context3.sent,setMarkerElements(markers);case 4:case"end":return _context3.stop()}}),_callee3)})));return function(_x3){return _ref3.apply(this,arguments)}}(),[setMarkerElements]),_useState22=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("Terrain"),2),baseLayer=_useState22[0],setBaseLayer=_useState22[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_17__.a,Object.assign({},args,{viewport:viewport,onViewportChanged:setViewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_15__.a,flyToMarkers:!0,flyToMarkersDelay:2e3,baseLayer:baseLayer,onBaseLayerChanged:setBaseLayer}))})};ChangeViewportAndBaseLayer.args={height:"50vh",width:"50vw",showGrid:!0,showMouseToolbar:!0},MapFlyTo.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  // starting from world map to check FlyTo functionality\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [0, 0],\n    zoom: 2,\n  });\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onViewportChanged={setViewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        // pass FlyTo\n        flyToMarkers={true}\n        // set a bit longer delay for a demonstrate purpose at story\n        flyToMarkersDelay={2000}\n      />\n      <MapVEuLegendSampleList\n        legendType={legendType}\n        data={legendData}\n        dropdownTitle={dropdownTitle}\n        dropdownHref={dropdownHref}\n        dropdownItemText={dropdownItemText}\n        legendInfoNumberText={legendInfoNumberText}\n      />\n    </>\n  );\n}"}},MapFlyTo.parameters),MapThumbnail.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [13, 16],\n    zoom: 4,\n  });\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n\n  const ref = useRef<PlotRef>(null);\n  const [img, setImg] = useState('');\n  useEffect(() => {\n    ref.current\n      // use height: 250, width: 500 below to see exact map's screenshot but too slow for decoding\n      // thus smaller size of the screenshot is instead used for demo purpose now\n      // by doing this, map is partially captured using smaller size\n      // ?.toImage({ format: 'jpeg', height: 250, width: 500 })\n      ?.toImage({ format: 'jpeg', height: 100, width: 200 })\n      .then((src) => setImg(src));\n  }, [markerElements]);\n\n  return (\n    <>\n      <h4>Map</h4>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onViewportChanged={setViewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        // pass ref\n        ref={ref}\n      />\n      <br />\n      <br />\n      <h4>Partial screenshot</h4>\n      <img src={img} />\n    </>\n  );\n}"}},MapThumbnail.parameters),ChangeViewportAndBaseLayer.parameters=Object.assign({storySource:{source:"(args) => {\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n  const [legendData, setLegendData] = useState<LegendProps['data']>([]);\n  // starting from world map to check FlyTo functionality\n  // set setViewport setState() to  test onViewportChanged\n  const [viewport, setViewport] = useState<Viewport>({\n    center: [0, 0],\n    zoom: 2,\n  });\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        setLegendData,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n\n  // change base layer\n  const [baseLayer, setBaseLayer] = useState<any>('Terrain');\n\n  return (\n    <>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onViewportChanged={setViewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n        zoomLevelToGeohashLevel={leafletZoomLevelToGeohashLevel}\n        flyToMarkers={true}\n        // set a bit longer delay for a demonstrate purpose at story\n        flyToMarkersDelay={2000}\n        baseLayer={baseLayer}\n        onBaseLayerChanged={setBaseLayer}\n      />\n    </>\n  );\n}"}},ChangeViewportAndBaseLayer.parameters)},2639:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DatelineData",(function(){return DatelineData}));__webpack_require__(74),__webpack_require__(25),__webpack_require__(10),__webpack_require__(124),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(70),_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(165),_fixture_data_geoclust_date_dateline_straddling_all_levels_json__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(853),_map_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(302),_map_config_map__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(56),_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(60),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__=(__webpack_require__(1029),__webpack_require__(1));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Map/Dateline Example",component:_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_16__.a};var getDatelineArgs=function getDatelineArgs(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)({center:[0,0],zoom:2}),2),viewport=_useState4[0],setViewport=_useState4[1],duration=_map_config_map__WEBPACK_IMPORTED_MODULE_20__.c;return{viewport:viewport,height:"100vh",width:"100vw",onViewportChanged:setViewport,onBoundsChanged:Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(bvp){setMarkerElements(function getMarkerElements(_ref,duration){var bounds=_ref.bounds,zoomLevel=_ref.zoomLevel,data=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_fixture_data_geoclust_date_dateline_straddling_all_levels_json__WEBPACK_IMPORTED_MODULE_18__,_bounds$southWest=bounds.southWest,south=_bounds$southWest.lat,west=_bounds$southWest.lng,_bounds$northEast=bounds.northEast,north=_bounds$northEast.lat,east=_bounds$northEast.lng;console.log("I've been triggered with long bounds=["+west+" TO "+east+"] and zoom="+zoomLevel);var geohashLevel=Object(_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_21__.a)(zoomLevel);return data["geohash_"+geohashLevel].facets.geo.buckets.filter((function(bucket){var ltAvg=bucket.ltAvg,lnAvg=bucket.lnAvg;return west<east-1e-8?ltAvg>south&&ltAvg<north&&lnAvg>west&&lnAvg<east:!(west>east+1e-8)||ltAvg>south&&ltAvg<north&&!(lnAvg>east&&lnAvg<west)})).map((function(bucket){if(bucket.val.length==geohashLevel)return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_19__.a,{duration:duration,bounds:{southWest:{lat:bucket.ltMin,lng:bucket.lnMin},northEast:{lat:bucket.ltMax,lng:bucket.lnMax}},position:{lat:bucket.ltAvg,lng:bucket.lnAvg},id:bucket.val},bucket.val)}))}(bvp,duration,_fixture_data_geoclust_date_dateline_straddling_all_levels_json__WEBPACK_IMPORTED_MODULE_18__))}),[setMarkerElements]),markers:markerElements,animation:{method:"geohash",duration:_map_config_map__WEBPACK_IMPORTED_MODULE_20__.c,animationFunction:_map_animation_functions_geohash__WEBPACK_IMPORTED_MODULE_17__.a},showGrid:!0,zoomLevelToGeohashLevel:_map_utils_leaflet_geohash__WEBPACK_IMPORTED_MODULE_21__.a}},Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_map_MapVEuMap__WEBPACK_IMPORTED_MODULE_16__.a,Object.assign({},getDatelineArgs(),args))};Template.displayName="Template";var DatelineData=Template.bind({});DatelineData.parameters=Object.assign({storySource:{source:"(args: MapVEuMapProps) => (\n  <MapVEuMap {...getDatelineArgs()} {...args} />\n)"}},DatelineData.parameters)},2641:function(module,exports,__webpack_require__){var api=__webpack_require__(367),content=__webpack_require__(2642);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2642:function(module,exports,__webpack_require__){(exports=__webpack_require__(368)(!1)).push([module.i,"/* override overflow from auto to visible for reziable */\n.leaflet-sidebar {\n  overflow: visible;\n}\n\n/* remove border as it does not work well with resize & no bordr in popbio map either */\n.leaflet-sidebar.leaflet-touch {\n  border: 0px solid rgba(0, 0, 0, 0.2);\n}\n\n/* add border for sidebar tabs */\n.leaflet-sidebar-left .leaflet-sidebar-tabs {\n  /* left: 0; */\n  border: 1px solid rgba(0, 0, 0, 0.2);\n}\n\n.sidebar-resize.horizontal {\n  resize: horizontal;\n}\n.sidebar-resize.vertical {\n  resize: vertical;\n}\n.sidebar-resize.both {\n  resize: both;\n}\n\n/* from vb-popbio-maps.css - overriding */\n.ui-resizable-e {\n  font-size: 30px;\n  width: 15px;\n  height: 30px;\n  right: -2px;\n  top: 50%;\n  bottom: 50%;\n  color: #bcbcbc;\n  position: absolute;\n  cursor: none;\n}\n\n/* centering all plotly plots */\ndiv.leaflet-sidebar-content .plot-container.plotly .svg-container {\n  margin: 0 auto;\n}\n\n/* changing sidebar header style */\n.leaflet-sidebar-header {\n  color: gray;\n  background-color: white;\n}\n",""]),module.exports=exports},2643:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SidebarBasic",(function(){return SidebarBasic}));__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(86),_map_TabHomeContent__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(623),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Sidebar/Sidebar standalone"};var SidebarBasic=function SidebarBasic(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(!0),2),sidebarCollapsed=_useState2[0],setSidebarCollapsed=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(""),2),tabSelected=_useState4[0],setTabSelected=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.a,{id:"leaflet-sidebar",collapsed:sidebarCollapsed,position:"left",selected:tabSelected,closeIcon:"fas fa-times",onOpen:function sidebarOnOpen(id){var el=document.getElementsByClassName("leaflet-sidebar-content")[0]?document.getElementsByClassName("leaflet-sidebar-content")[0]:null,tabStyle=null==el?void 0:el.getAttributeNode("style");tabStyle&&(null==el||el.removeAttributeNode(tabStyle)),tabSelected!=id?(setSidebarCollapsed(!1),setTabSelected(id)):(setSidebarCollapsed(!0),setTabSelected(""))},onClose:function sidebarOnClose(){setSidebarCollapsed(!0),setTabSelected("");var el=document.getElementsByClassName("leaflet-sidebar-content")[0]?document.getElementsByClassName("leaflet-sidebar-content")[0]:null,tabStyle=null==el?void 0:el.getAttributeNode("style");tabStyle&&(null==el||el.removeAttributeNode(tabStyle))},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.b,{id:"home",header:"Home",icon:"fas fa-home",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_TabHomeContent__WEBPACK_IMPORTED_MODULE_14__.a,{id:"home",header:"this is Home"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.b,{id:"settings",header:"Settings",icon:"fas fa-cog",disabled:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("p",{children:"Change settings"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.b,{id:"gap1",header:"",icon:"",disabled:!0,divider:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("p",{children:"gap1"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.b,{id:"marker-table",header:"Details for selected samples",icon:"fas fa-table",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("p",{children:"Detailed table???"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.b,{id:"export",header:"Export Data",icon:"fas fa-download",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("p",{children:"Download data"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.b,{id:"gap2",header:"",icon:"",disabled:!0,divider:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("p",{children:"gap2"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.b,{id:"plot",header:"Summary",icon:"fas fa-chart-pie",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("p",{children:"Donut Plot"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.b,{id:"boxplot",header:"Box Plot",icon:"fas fa-percent",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("p",{children:"Box Plot"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.b,{id:"graph",header:"Chart",icon:"fas fa-chart-bar",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("p",{children:"This is for chart"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_map_Sidebar__WEBPACK_IMPORTED_MODULE_13__.b,{id:"help",header:"Tutorial",icon:"fas fa-question",anchor:"bottom",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("p",{children:"Help/Tutorial"})})]})})};SidebarBasic.parameters=Object.assign({storySource:{source:'() => {\n  //Sidebar state managements\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(true);\n  const [tabSelected, setTabSelected] = useState(\'\'); //could be used to set default active tab, e.g., \'Home\', but leave blank\n\n  //this is X button/icon behavior considering sidebar resize\n  const sidebarOnClose = () => {\n    setSidebarCollapsed(true);\n    //add this to fix a bug\n    setTabSelected(\'\');\n\n    //this works!\n    let el: Element | null = document.getElementsByClassName(\n      \'leaflet-sidebar-content\'\n    )[0]\n      ? document.getElementsByClassName(\'leaflet-sidebar-content\')[0]\n      : null;\n    // let el: any = document.getElementById("leaflet-sidebar-content")? document.getElementById("leaflet-sidebar-content"): \'\';\n    let tabStyle = el?.getAttributeNode(\'style\');\n    if (tabStyle) {\n      el?.removeAttributeNode(tabStyle);\n    }\n  };\n\n  //this is sidebar opening considering sidebar resize\n  const sidebarOnOpen = (id: string) => {\n    //removing style for re-resizable here may help for 1st click bug - yes\n    let el: Element | null = document.getElementsByClassName(\n      \'leaflet-sidebar-content\'\n    )[0]\n      ? document.getElementsByClassName(\'leaflet-sidebar-content\')[0]\n      : null;\n    // let el: any = document.getElementById("leaflet-sidebar-content")? document.getElementById("leaflet-sidebar-content"): \'\';\n    let tabStyle = el?.getAttributeNode(\'style\');\n    if (tabStyle) {\n      el?.removeAttributeNode(tabStyle);\n    }\n\n    //add a function to close drawer by clicking the same icon\n    if (tabSelected != id) {\n      setSidebarCollapsed(false);\n      setTabSelected(id);\n    } else {\n      setSidebarCollapsed(true);\n      //clear tabSelected so that the tab can be reopen\n      setTabSelected(\'\');\n    }\n  };\n\n  let testText = \'this is Home\';\n\n  return (\n    //add fragment\n    <>\n      <Sidebar\n        id="leaflet-sidebar"\n        collapsed={sidebarCollapsed}\n        position="left"\n        selected={tabSelected}\n        closeIcon="fas fa-times"\n        onOpen={sidebarOnOpen}\n        onClose={sidebarOnClose}\n      >\n        <Tab id="home" header="Home" icon="fas fa-home">\n          {/* a test to separate tab contents into a component, TabHomeContent */}\n          <TabHomeContent id={\'home\'} header={testText} />\n        </Tab>\n        {/* testing disabled - greyish icon*/}\n        <Tab id="settings" header="Settings" icon="fas fa-cog" disabled>\n          <p>Change settings</p>\n        </Tab>\n        {/* add disabled tap - no header & icon, use both diabled and divider */}\n        <Tab id="gap1" header="" icon="" disabled divider>\n          <p>gap1</p>\n        </Tab>\n        <Tab\n          id="marker-table"\n          header="Details for selected samples"\n          icon="fas fa-table"\n        >\n          <p>Detailed table???</p>\n        </Tab>\n        <Tab id="export" header="Export Data" icon="fas fa-download">\n          <p>Download data</p>\n        </Tab>\n        {/* add disabled tap - no header & icon, use both diabled and divider */}\n        <Tab id="gap2" header="" icon="" disabled divider>\n          <p>gap2</p>\n        </Tab>\n        <Tab id="plot" header="Summary" icon="fas fa-chart-pie">\n          <p>Donut Plot</p>\n        </Tab>\n        {/* no box plot icon exists in fontawesome */}\n        <Tab id="boxplot" header="Box Plot" icon="fas fa-percent">\n          <p>Box Plot</p>\n        </Tab>\n        <Tab id="graph" header="Chart" icon="fas fa-chart-bar">\n          <p>This is for chart</p>\n        </Tab>\n        {/* placing bottom side using  anchor="bottom" attribute */}\n        <Tab id="help" header="Tutorial" icon="fas fa-question" anchor="bottom">\n          <p>Help/Tutorial</p>\n        </Tab>\n      </Sidebar>\n    </>\n  );\n}'}},SidebarBasic.parameters)},2644:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"Ordinal",(function(){return Ordinal}));__webpack_require__(10),__webpack_require__(25),__webpack_require__(15),__webpack_require__(152),__webpack_require__(124),__webpack_require__(40),__webpack_require__(7),__webpack_require__(38),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(222),_plots_ScatterPlot__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(133),lodash__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(17),_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(100),_types_plots_addOns__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(92),_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(164),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_exports__.default={title:"Colors/Categorical",component:_plots_ScatterPlot__WEBPACK_IMPORTED_MODULE_18__.a,argTypes:{nPoints:{control:{type:"range",min:5,max:300,step:5}}}};var Template=function Template(args){var datasetProcessCategorical=Object(_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_20__.f)(args.data,"scatterplot","markers","number","number",!1,_types_plots_addOns__WEBPACK_IMPORTED_MODULE_21__.a).dataSetProcess,trimmedDatasetProcess=Object.assign({},datasetProcessCategorical,{series:datasetProcessCategorical.series.map((function(_ref){var x=_ref.x,y=_ref.y,rest=_objectWithoutProperties(_ref,["x","y"]);return Object.assign({x:x.slice(0,Math.ceil(args.nPoints/datasetProcessCategorical.series.length)),y:y.slice(0,Math.ceil(args.nPoints/datasetProcessCategorical.series.length))},rest)}))}),_ref2=[Object(lodash__WEBPACK_IMPORTED_MODULE_19__.min)(trimmedDatasetProcess.series[0].y),Object(lodash__WEBPACK_IMPORTED_MODULE_19__.max)(trimmedDatasetProcess.series[0].y)],yMin=_ref2[0],yMax=_ref2[1],_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)(1),2),markerBodyOpacity=_useState2[0],setMarkerBodyOpacity=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)("div",{style:{padding:25,display:"flex",flexDirection:"row",flexWrap:"wrap"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_17__.a,Object.assign({},args.plotLegendProps)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_22__.a,{minimum:0,maximum:1,step:.05,value:1,debounceRateMs:250,onChange:function onChange(newValue){setMarkerBodyOpacity(newValue)},containerStyles:{height:100,width:425,marginLeft:75},showLimits:!0,label:"Marker opacity",disabled:!1,colorSpec:{type:"gradient",tooltip:"#aaa",knobColor:"#aaa",trackGradientStart:"#fff",trackGradientEnd:"#000"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_plots_ScatterPlot__WEBPACK_IMPORTED_MODULE_18__.a,{data:trimmedDatasetProcess,independentAxisLabel:"independent axis label",dependentAxisLabel:"dependent axis label",dependentAxisRange:{min:yMin,max:yMax},containerStyles:{width:1e3,height:600},interactive:!0,displayLegend:!1,displayLibraryControls:!0,independentValueType:"number",dependentValueType:"number",markerBodyOpacity:markerBodyOpacity})]})};Template.displayName="Template";var vocabulary=["a","b","c","d","e","f","g","h"],legendItems=vocabulary.map((function(label){return{label:label,marker:"square",markerColor:_types_plots_addOns__WEBPACK_IMPORTED_MODULE_21__.a[vocabulary.indexOf(label)],hasData:!0,group:1,rank:1}})),Default=Template.bind({});Default.args={data:_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_20__.b,plotLegendProps:{type:"list",legendItems:legendItems,checkedLegendItems:vocabulary,showOverlayLegend:!0},nPoints:120};var ordinalLegendItems=vocabulary.map((function(label){return{label:label,marker:"square",markerColor:_types_plots_addOns__WEBPACK_IMPORTED_MODULE_21__.b[vocabulary.indexOf(label)],hasData:!0,group:1,rank:1}})),Ordinal=Template.bind({});Ordinal.args={data:_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_20__.b,plotLegendProps:{type:"list",legendItems:ordinalLegendItems,checkedLegendItems:vocabulary,showOverlayLegend:!0},nPoints:120},Default.parameters=Object.assign({storySource:{source:"(args) => {\n  const { dataSetProcess: datasetProcessCategorical } = processInputData(\n    args.data,\n    'scatterplot',\n    'markers',\n    'number',\n    'number',\n    false,\n    ColorPaletteDefault\n  );\n\n  // Reduce the input data to only approximately nPoints points. There will be multiple series so we have to\n  // slice each series at nPoints/nSeries.\n  const trimmedDatasetProcess = {\n    ...datasetProcessCategorical,\n    series: datasetProcessCategorical.series.map(({ x, y, ...rest }: any) => ({\n      x: x.slice(\n        0,\n        Math.ceil(args.nPoints / datasetProcessCategorical.series.length)\n      ),\n      y: y.slice(\n        0,\n        Math.ceil(args.nPoints / datasetProcessCategorical.series.length)\n      ),\n      ...rest,\n    })),\n  };\n\n  // Find the y axis min and max\n  const [yMin, yMax] = [\n    min(trimmedDatasetProcess.series[0].y),\n    max(trimmedDatasetProcess.series[0].y),\n  ];\n\n  // Opacity slider state\n  const [markerBodyOpacity, setMarkerBodyOpacity] = useState(1);\n\n  // Opacity slider coloring\n  const opacityColorSpecProps: SliderWidgetProps['colorSpec'] = {\n    type: 'gradient',\n    tooltip: '#aaa',\n    knobColor: '#aaa',\n    trackGradientStart: '#fff',\n    trackGradientEnd: '#000',\n  };\n\n  // For each colormap, show the legend, an example plot, and our opacity slider.\n  return (\n    <div\n      style={{\n        padding: 25,\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n      }}\n    >\n      <PlotLegend {...args.plotLegendProps} />\n      <SliderWidget\n        minimum={0}\n        maximum={1}\n        step={0.05}\n        value={1}\n        debounceRateMs={250}\n        onChange={(newValue: number) => {\n          setMarkerBodyOpacity(newValue);\n        }}\n        containerStyles={{\n          height: 100,\n          width: 425,\n          marginLeft: 75,\n        }}\n        showLimits={true}\n        label={'Marker opacity'}\n        disabled={false}\n        colorSpec={opacityColorSpecProps}\n      />\n      <ScatterPlot\n        data={trimmedDatasetProcess}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        // not to use independentAxisRange\n        // independentAxisRange={[xMin, xMax]}\n        dependentAxisRange={{ min: yMin as string, max: yMax as string }}\n        // title={Scatter with Colormap}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        // staticPlot is changed to interactive\n        interactive={true}\n        // check enable/disable legend and built-in controls\n        displayLegend={false}\n        displayLibraryControls={true}\n        independentValueType={'number'}\n        dependentValueType={'number'}\n        markerBodyOpacity={markerBodyOpacity}\n      />\n    </div>\n  );\n}"}},Default.parameters),Ordinal.parameters=Object.assign({storySource:{source:"(args) => {\n  const { dataSetProcess: datasetProcessCategorical } = processInputData(\n    args.data,\n    'scatterplot',\n    'markers',\n    'number',\n    'number',\n    false,\n    ColorPaletteDefault\n  );\n\n  // Reduce the input data to only approximately nPoints points. There will be multiple series so we have to\n  // slice each series at nPoints/nSeries.\n  const trimmedDatasetProcess = {\n    ...datasetProcessCategorical,\n    series: datasetProcessCategorical.series.map(({ x, y, ...rest }: any) => ({\n      x: x.slice(\n        0,\n        Math.ceil(args.nPoints / datasetProcessCategorical.series.length)\n      ),\n      y: y.slice(\n        0,\n        Math.ceil(args.nPoints / datasetProcessCategorical.series.length)\n      ),\n      ...rest,\n    })),\n  };\n\n  // Find the y axis min and max\n  const [yMin, yMax] = [\n    min(trimmedDatasetProcess.series[0].y),\n    max(trimmedDatasetProcess.series[0].y),\n  ];\n\n  // Opacity slider state\n  const [markerBodyOpacity, setMarkerBodyOpacity] = useState(1);\n\n  // Opacity slider coloring\n  const opacityColorSpecProps: SliderWidgetProps['colorSpec'] = {\n    type: 'gradient',\n    tooltip: '#aaa',\n    knobColor: '#aaa',\n    trackGradientStart: '#fff',\n    trackGradientEnd: '#000',\n  };\n\n  // For each colormap, show the legend, an example plot, and our opacity slider.\n  return (\n    <div\n      style={{\n        padding: 25,\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n      }}\n    >\n      <PlotLegend {...args.plotLegendProps} />\n      <SliderWidget\n        minimum={0}\n        maximum={1}\n        step={0.05}\n        value={1}\n        debounceRateMs={250}\n        onChange={(newValue: number) => {\n          setMarkerBodyOpacity(newValue);\n        }}\n        containerStyles={{\n          height: 100,\n          width: 425,\n          marginLeft: 75,\n        }}\n        showLimits={true}\n        label={'Marker opacity'}\n        disabled={false}\n        colorSpec={opacityColorSpecProps}\n      />\n      <ScatterPlot\n        data={trimmedDatasetProcess}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        // not to use independentAxisRange\n        // independentAxisRange={[xMin, xMax]}\n        dependentAxisRange={{ min: yMin as string, max: yMax as string }}\n        // title={Scatter with Colormap}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        // staticPlot is changed to interactive\n        interactive={true}\n        // check enable/disable legend and built-in controls\n        displayLegend={false}\n        displayLibraryControls={true}\n        independentValueType={'number'}\n        dependentValueType={'number'}\n        markerBodyOpacity={markerBodyOpacity}\n      />\n    </div>\n  );\n}"}},Ordinal.parameters)},2675:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Continuous",(function(){return Continuous})),__webpack_require__.d(__webpack_exports__,"Discrete",(function(){return Discrete})),__webpack_require__.d(__webpack_exports__,"DiscreteNonUniform",(function(){return DiscreteNonUniform}));__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(9),__webpack_require__(19),__webpack_require__(15),__webpack_require__(10),__webpack_require__(124),__webpack_require__(207),__webpack_require__(76),__webpack_require__(248),__webpack_require__(25);var _dataSetDivergingDisc,_dataSetDivergingDisc2,react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(0),_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(222),_plots_ScatterPlot__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(133),lodash__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(17),_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(100),_types_plots_addOns__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(92),_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(164),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Colors/Gradient Diverging",component:_plots_ScatterPlot__WEBPACK_IMPORTED_MODULE_19__.a,argTypes:{nPoints:{control:{type:"range",min:5,max:300,step:5}}}};var Template=function Template(args){var dataSetProcessGradient=Object(_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_21__.f)(args.data,"scatterplot","markers","number","number",!1).dataSetProcess;dataSetProcessGradient.series[0].x=dataSetProcessGradient.series[0].x.slice(0,args.nPoints);var _ref=[Object(lodash__WEBPACK_IMPORTED_MODULE_20__.min)(dataSetProcessGradient.series[0].y),Object(lodash__WEBPACK_IMPORTED_MODULE_20__.max)(dataSetProcessGradient.series[0].y)],yMin=_ref[0],yMax=_ref[1],_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_17__.useState)(1),2),markerBodyOpacity=_useState2[0],setMarkerBodyOpacity=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{style:{padding:25,display:"flex",flexDirection:"row",flexWrap:"wrap"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_18__.a,Object.assign({},args.plotLegendProps)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_23__.a,{minimum:0,maximum:1,step:.05,value:1,debounceRateMs:250,onChange:function onChange(newValue){setMarkerBodyOpacity(newValue)},containerStyles:{height:100,width:425,marginLeft:75},showLimits:!0,label:"Marker opacity",disabled:!1,colorSpec:{type:"gradient",tooltip:"#aaa",knobColor:"#aaa",trackGradientStart:"#fff",trackGradientEnd:"#000"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_plots_ScatterPlot__WEBPACK_IMPORTED_MODULE_19__.a,{data:dataSetProcessGradient,independentAxisLabel:"independent axis label",dependentAxisLabel:"dependent axis label",dependentAxisRange:{min:yMin,max:yMax},containerStyles:{width:1e3,height:600},interactive:!0,displayLegend:!1,displayLibraryControls:!0,independentValueType:"number",dependentValueType:"number",markerBodyOpacity:markerBodyOpacity})]})};Template.displayName="Template";var gradientLegendProps={legendMax:Object(lodash__WEBPACK_IMPORTED_MODULE_20__.max)(_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_21__.c.scatterplot.data[0].seriesGradientColorscale),legendMin:Object(lodash__WEBPACK_IMPORTED_MODULE_20__.min)(_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_21__.c.scatterplot.data[0].seriesGradientColorscale),gradientColorscaleType:"divergent",nTicks:5,showMissingness:!1,legendTitle:"legend"},Continuous=Template.bind({});Continuous.args={data:_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_21__.c,plotLegendProps:Object.assign({type:"colorscale"},gradientLegendProps),nPoints:120};var vocabularyEquidistant=["3","2","1","0","-1","-2","-3"],dataSetDivergingDiscrete=JSON.parse(JSON.stringify(_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_21__.d));null===(_dataSetDivergingDisc=dataSetDivergingDiscrete.scatterplot.data[0].seriesGradientColorscale)||void 0===_dataSetDivergingDisc||_dataSetDivergingDisc.forEach((function(val,index,arr){arr[index]=Number(val)-4}));var legendItems=vocabularyEquidistant.map((function(label){return{label:label,marker:"square",markerColor:Object(_types_plots_addOns__WEBPACK_IMPORTED_MODULE_22__.j)(+label/Object(lodash__WEBPACK_IMPORTED_MODULE_20__.max)(vocabularyEquidistant.map(Number))),hasData:!0,group:1,rank:1}})),Discrete=Template.bind({});Discrete.args={data:dataSetDivergingDiscrete,plotLegendProps:{type:"list",legendItems:legendItems,checkedLegendItems:vocabularyEquidistant,showOverlayLegend:!0},nPoints:120};var vocabularyNonUniform=["-10","-9.2","-1","0","1.1","3","27"];legendItems=vocabularyNonUniform.map((function(label){return{label:label,marker:"square",markerColor:Object(_types_plots_addOns__WEBPACK_IMPORTED_MODULE_22__.j)(+label/(Object(lodash__WEBPACK_IMPORTED_MODULE_20__.max)(vocabularyNonUniform.map(Number))-1)),hasData:!0,group:1,rank:1}}));var dataSetDivergingDiscreteNonUniform=JSON.parse(JSON.stringify(dataSetDivergingDiscrete));null===(_dataSetDivergingDisc2=dataSetDivergingDiscreteNonUniform.scatterplot.data[0].seriesGradientColorscale)||void 0===_dataSetDivergingDisc2||_dataSetDivergingDisc2.forEach((function(val,index,arr){arr[index]=Math.pow(+val,3)}));var DiscreteNonUniform=Template.bind({});DiscreteNonUniform.args={data:dataSetDivergingDiscreteNonUniform,plotLegendProps:{type:"list",legendItems:legendItems,checkedLegendItems:vocabularyNonUniform,showOverlayLegend:!0},nPoints:120},Continuous.parameters=Object.assign({storySource:{source:"(args) => {\n  const { dataSetProcess: dataSetProcessGradient } = processInputData(\n    args.data,\n    'scatterplot',\n    'markers',\n    'number',\n    'number',\n    false\n  );\n\n  // Reduce the dataset to only nPoints points so that we can see how the colormap looks when the\n  // scatter plot is or isn't overplotted.\n  // Points without both x and y aren't drawn, so only need to remove x coordinate.\n  dataSetProcessGradient.series[0].x = dataSetProcessGradient.series[0].x.slice(\n    0,\n    args.nPoints\n  );\n\n  // Find the y axis min and max\n  const [yMin, yMax] = [\n    min(dataSetProcessGradient.series[0].y),\n    max(dataSetProcessGradient.series[0].y),\n  ];\n\n  // Opacity slider state\n  const [markerBodyOpacity, setMarkerBodyOpacity] = useState(1);\n\n  // Opacity slider coloring\n  const opacityColorSpecProps: SliderWidgetProps['colorSpec'] = {\n    type: 'gradient',\n    tooltip: '#aaa',\n    knobColor: '#aaa',\n    trackGradientStart: '#fff',\n    trackGradientEnd: '#000',\n  };\n\n  // For each colormap, show the legend, an example plot, and our opacity slider.\n  return (\n    <div\n      style={{\n        padding: 25,\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n      }}\n    >\n      <PlotLegend {...args.plotLegendProps} />\n      <SliderWidget\n        minimum={0}\n        maximum={1}\n        step={0.05}\n        value={1}\n        debounceRateMs={250}\n        onChange={(newValue: number) => {\n          setMarkerBodyOpacity(newValue);\n        }}\n        containerStyles={{\n          height: 100,\n          width: 425,\n          marginLeft: 75,\n        }}\n        showLimits={true}\n        label={'Marker opacity'}\n        disabled={false}\n        colorSpec={opacityColorSpecProps}\n      />\n      <ScatterPlot\n        data={dataSetProcessGradient}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        // not to use independentAxisRange\n        // independentAxisRange={[xMin, xMax]}\n        dependentAxisRange={{ min: yMin as string, max: yMax as string }}\n        // title={Scatter with Colormap}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        // staticPlot is changed to interactive\n        interactive={true}\n        // check enable/disable legend and built-in controls\n        displayLegend={false}\n        displayLibraryControls={true}\n        independentValueType={'number'}\n        dependentValueType={'number'}\n        markerBodyOpacity={markerBodyOpacity}\n      />\n    </div>\n  );\n}"}},Continuous.parameters),Discrete.parameters=Object.assign({storySource:{source:"(args) => {\n  const { dataSetProcess: dataSetProcessGradient } = processInputData(\n    args.data,\n    'scatterplot',\n    'markers',\n    'number',\n    'number',\n    false\n  );\n\n  // Reduce the dataset to only nPoints points so that we can see how the colormap looks when the\n  // scatter plot is or isn't overplotted.\n  // Points without both x and y aren't drawn, so only need to remove x coordinate.\n  dataSetProcessGradient.series[0].x = dataSetProcessGradient.series[0].x.slice(\n    0,\n    args.nPoints\n  );\n\n  // Find the y axis min and max\n  const [yMin, yMax] = [\n    min(dataSetProcessGradient.series[0].y),\n    max(dataSetProcessGradient.series[0].y),\n  ];\n\n  // Opacity slider state\n  const [markerBodyOpacity, setMarkerBodyOpacity] = useState(1);\n\n  // Opacity slider coloring\n  const opacityColorSpecProps: SliderWidgetProps['colorSpec'] = {\n    type: 'gradient',\n    tooltip: '#aaa',\n    knobColor: '#aaa',\n    trackGradientStart: '#fff',\n    trackGradientEnd: '#000',\n  };\n\n  // For each colormap, show the legend, an example plot, and our opacity slider.\n  return (\n    <div\n      style={{\n        padding: 25,\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n      }}\n    >\n      <PlotLegend {...args.plotLegendProps} />\n      <SliderWidget\n        minimum={0}\n        maximum={1}\n        step={0.05}\n        value={1}\n        debounceRateMs={250}\n        onChange={(newValue: number) => {\n          setMarkerBodyOpacity(newValue);\n        }}\n        containerStyles={{\n          height: 100,\n          width: 425,\n          marginLeft: 75,\n        }}\n        showLimits={true}\n        label={'Marker opacity'}\n        disabled={false}\n        colorSpec={opacityColorSpecProps}\n      />\n      <ScatterPlot\n        data={dataSetProcessGradient}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        // not to use independentAxisRange\n        // independentAxisRange={[xMin, xMax]}\n        dependentAxisRange={{ min: yMin as string, max: yMax as string }}\n        // title={Scatter with Colormap}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        // staticPlot is changed to interactive\n        interactive={true}\n        // check enable/disable legend and built-in controls\n        displayLegend={false}\n        displayLibraryControls={true}\n        independentValueType={'number'}\n        dependentValueType={'number'}\n        markerBodyOpacity={markerBodyOpacity}\n      />\n    </div>\n  );\n}"}},Discrete.parameters),DiscreteNonUniform.parameters=Object.assign({storySource:{source:"(args) => {\n  const { dataSetProcess: dataSetProcessGradient } = processInputData(\n    args.data,\n    'scatterplot',\n    'markers',\n    'number',\n    'number',\n    false\n  );\n\n  // Reduce the dataset to only nPoints points so that we can see how the colormap looks when the\n  // scatter plot is or isn't overplotted.\n  // Points without both x and y aren't drawn, so only need to remove x coordinate.\n  dataSetProcessGradient.series[0].x = dataSetProcessGradient.series[0].x.slice(\n    0,\n    args.nPoints\n  );\n\n  // Find the y axis min and max\n  const [yMin, yMax] = [\n    min(dataSetProcessGradient.series[0].y),\n    max(dataSetProcessGradient.series[0].y),\n  ];\n\n  // Opacity slider state\n  const [markerBodyOpacity, setMarkerBodyOpacity] = useState(1);\n\n  // Opacity slider coloring\n  const opacityColorSpecProps: SliderWidgetProps['colorSpec'] = {\n    type: 'gradient',\n    tooltip: '#aaa',\n    knobColor: '#aaa',\n    trackGradientStart: '#fff',\n    trackGradientEnd: '#000',\n  };\n\n  // For each colormap, show the legend, an example plot, and our opacity slider.\n  return (\n    <div\n      style={{\n        padding: 25,\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n      }}\n    >\n      <PlotLegend {...args.plotLegendProps} />\n      <SliderWidget\n        minimum={0}\n        maximum={1}\n        step={0.05}\n        value={1}\n        debounceRateMs={250}\n        onChange={(newValue: number) => {\n          setMarkerBodyOpacity(newValue);\n        }}\n        containerStyles={{\n          height: 100,\n          width: 425,\n          marginLeft: 75,\n        }}\n        showLimits={true}\n        label={'Marker opacity'}\n        disabled={false}\n        colorSpec={opacityColorSpecProps}\n      />\n      <ScatterPlot\n        data={dataSetProcessGradient}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        // not to use independentAxisRange\n        // independentAxisRange={[xMin, xMax]}\n        dependentAxisRange={{ min: yMin as string, max: yMax as string }}\n        // title={Scatter with Colormap}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        // staticPlot is changed to interactive\n        interactive={true}\n        // check enable/disable legend and built-in controls\n        displayLegend={false}\n        displayLibraryControls={true}\n        independentValueType={'number'}\n        dependentValueType={'number'}\n        markerBodyOpacity={markerBodyOpacity}\n      />\n    </div>\n  );\n}"}},DiscreteNonUniform.parameters)},2676:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Continuous",(function(){return Continuous})),__webpack_require__.d(__webpack_exports__,"Discrete",(function(){return Discrete})),__webpack_require__.d(__webpack_exports__,"DiscreteNonUniform",(function(){return DiscreteNonUniform}));__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(9),__webpack_require__(19),__webpack_require__(15),__webpack_require__(10),__webpack_require__(124),__webpack_require__(25),__webpack_require__(152),__webpack_require__(248),__webpack_require__(207),__webpack_require__(76);var _dataSetSequentialDis,react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(0),_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(222),_plots_ScatterPlot__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(133),lodash__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(17),_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(100),_types_plots_addOns__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(92),_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(164),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Colors/Gradient Sequential",component:_plots_ScatterPlot__WEBPACK_IMPORTED_MODULE_20__.a,argTypes:{nPoints:{control:{type:"range",min:5,max:300,step:5}}}};var Template=function Template(args){var dataSetProcessGradient=Object(_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_22__.f)(args.data,"scatterplot","markers","number","number",!1).dataSetProcess;dataSetProcessGradient.series[0].x=dataSetProcessGradient.series[0].x.slice(0,args.nPoints);var _ref=[Object(lodash__WEBPACK_IMPORTED_MODULE_21__.min)(dataSetProcessGradient.series[0].y),Object(lodash__WEBPACK_IMPORTED_MODULE_21__.max)(dataSetProcessGradient.series[0].y)],yMin=_ref[0],yMax=_ref[1],_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)(1),2),markerBodyOpacity=_useState2[0],setMarkerBodyOpacity=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_25__.jsxs)("div",{style:{padding:25,display:"flex",flexDirection:"row",flexWrap:"wrap"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_25__.jsx)(_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_19__.a,Object.assign({},args.plotLegendProps)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_25__.jsx)(_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_24__.a,{minimum:0,maximum:1,step:.05,value:1,debounceRateMs:250,onChange:function onChange(newValue){setMarkerBodyOpacity(newValue)},containerStyles:{height:100,width:425,marginLeft:75},showLimits:!0,label:"Marker opacity",disabled:!1,colorSpec:{type:"gradient",tooltip:"#aaa",knobColor:"#aaa",trackGradientStart:"#fff",trackGradientEnd:"#000"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_25__.jsx)(_plots_ScatterPlot__WEBPACK_IMPORTED_MODULE_20__.a,{data:dataSetProcessGradient,independentAxisLabel:"independent axis label",dependentAxisLabel:"dependent axis label",dependentAxisRange:{min:yMin,max:yMax},containerStyles:{width:1e3,height:600},interactive:!0,displayLegend:!1,displayLibraryControls:!0,independentValueType:"number",dependentValueType:"number",markerBodyOpacity:markerBodyOpacity})]})};Template.displayName="Template";var gradientLegendProps={legendMax:Object(lodash__WEBPACK_IMPORTED_MODULE_21__.max)(_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_22__.e.scatterplot.data[0].seriesGradientColorscale),legendMin:Object(lodash__WEBPACK_IMPORTED_MODULE_21__.min)(_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_22__.e.scatterplot.data[0].seriesGradientColorscale),gradientColorscaleType:"sequential",nTicks:5,showMissingness:!1,legendTitle:"legend"},Continuous=Template.bind({});Continuous.args={data:_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_22__.e,plotLegendProps:Object.assign({type:"colorscale"},gradientLegendProps),nPoints:120};var vocabularyEquidistant=["1","2","3","4","5","6","7"],legendItems=vocabularyEquidistant.map((function(label){return{label:label,marker:"square",markerColor:Object(_types_plots_addOns__WEBPACK_IMPORTED_MODULE_23__.k)(vocabularyEquidistant.indexOf(label)/(vocabularyEquidistant.length-1)),hasData:!0,group:1,rank:1}})),Discrete=Template.bind({});Discrete.args={data:_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_22__.d,plotLegendProps:{type:"list",legendItems:legendItems,checkedLegendItems:vocabularyEquidistant,showOverlayLegend:!0},nPoints:120};var vocabularyNonUniform=["1","2","5","6","7","18","20"];legendItems=vocabularyNonUniform.map((function(label){return{label:label,marker:"square",markerColor:Object(_types_plots_addOns__WEBPACK_IMPORTED_MODULE_23__.k)(+label/(Object(lodash__WEBPACK_IMPORTED_MODULE_21__.max)(vocabularyNonUniform.map(Number))-1)),hasData:!0,group:1,rank:1}}));var dataSetSequentialDiscreteNonUniform=JSON.parse(JSON.stringify(_plots_ScatterPlot_storyData__WEBPACK_IMPORTED_MODULE_22__.d));null===(_dataSetSequentialDis=dataSetSequentialDiscreteNonUniform.scatterplot.data[0].seriesGradientColorscale)||void 0===_dataSetSequentialDis||_dataSetSequentialDis.forEach((function(val,index,arr){3===val?arr[index]=18:4===val&&(arr[index]=20)}));var DiscreteNonUniform=Template.bind({});DiscreteNonUniform.args={data:dataSetSequentialDiscreteNonUniform,plotLegendProps:{type:"list",legendItems:legendItems,checkedLegendItems:vocabularyNonUniform,showOverlayLegend:!0},nPoints:120},Continuous.parameters=Object.assign({storySource:{source:"(args) => {\n  const { dataSetProcess: dataSetProcessGradient } = processInputData(\n    args.data,\n    'scatterplot',\n    'markers',\n    'number',\n    'number',\n    false\n  );\n\n  // Reduce the dataset to only nPoints points so that we can see how the colormap looks when the\n  // scatter plot is or isn't overplotted.\n  // Points without both x and y aren't drawn, so only need to remove x coordinate.\n  dataSetProcessGradient.series[0].x = dataSetProcessGradient.series[0].x.slice(\n    0,\n    args.nPoints\n  );\n\n  // Find the y axis min and max\n  const [yMin, yMax] = [\n    min(dataSetProcessGradient.series[0].y),\n    max(dataSetProcessGradient.series[0].y),\n  ];\n\n  // Opacity slider state\n  const [markerBodyOpacity, setMarkerBodyOpacity] = useState(1);\n\n  // Opacity slider coloring\n  const opacityColorSpecProps: SliderWidgetProps['colorSpec'] = {\n    type: 'gradient',\n    tooltip: '#aaa',\n    knobColor: '#aaa',\n    trackGradientStart: '#fff',\n    trackGradientEnd: '#000',\n  };\n\n  // For each colormap, show the legend, an example plot, and our opacity slider.\n  return (\n    <div\n      style={{\n        padding: 25,\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n      }}\n    >\n      <PlotLegend {...args.plotLegendProps} />\n      <SliderWidget\n        minimum={0}\n        maximum={1}\n        step={0.05}\n        value={1}\n        debounceRateMs={250}\n        onChange={(newValue: number) => {\n          setMarkerBodyOpacity(newValue);\n        }}\n        containerStyles={{\n          height: 100,\n          width: 425,\n          marginLeft: 75,\n        }}\n        showLimits={true}\n        label={'Marker opacity'}\n        disabled={false}\n        colorSpec={opacityColorSpecProps}\n      />\n      <ScatterPlot\n        data={dataSetProcessGradient}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        // not to use independentAxisRange\n        // independentAxisRange={[xMin, xMax]}\n        dependentAxisRange={{ min: yMin as string, max: yMax as string }}\n        // title={Scatter with Colormap}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        // staticPlot is changed to interactive\n        interactive={true}\n        // check enable/disable legend and built-in controls\n        displayLegend={false}\n        displayLibraryControls={true}\n        independentValueType={'number'}\n        dependentValueType={'number'}\n        markerBodyOpacity={markerBodyOpacity}\n      />\n    </div>\n  );\n}"}},Continuous.parameters),Discrete.parameters=Object.assign({storySource:{source:"(args) => {\n  const { dataSetProcess: dataSetProcessGradient } = processInputData(\n    args.data,\n    'scatterplot',\n    'markers',\n    'number',\n    'number',\n    false\n  );\n\n  // Reduce the dataset to only nPoints points so that we can see how the colormap looks when the\n  // scatter plot is or isn't overplotted.\n  // Points without both x and y aren't drawn, so only need to remove x coordinate.\n  dataSetProcessGradient.series[0].x = dataSetProcessGradient.series[0].x.slice(\n    0,\n    args.nPoints\n  );\n\n  // Find the y axis min and max\n  const [yMin, yMax] = [\n    min(dataSetProcessGradient.series[0].y),\n    max(dataSetProcessGradient.series[0].y),\n  ];\n\n  // Opacity slider state\n  const [markerBodyOpacity, setMarkerBodyOpacity] = useState(1);\n\n  // Opacity slider coloring\n  const opacityColorSpecProps: SliderWidgetProps['colorSpec'] = {\n    type: 'gradient',\n    tooltip: '#aaa',\n    knobColor: '#aaa',\n    trackGradientStart: '#fff',\n    trackGradientEnd: '#000',\n  };\n\n  // For each colormap, show the legend, an example plot, and our opacity slider.\n  return (\n    <div\n      style={{\n        padding: 25,\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n      }}\n    >\n      <PlotLegend {...args.plotLegendProps} />\n      <SliderWidget\n        minimum={0}\n        maximum={1}\n        step={0.05}\n        value={1}\n        debounceRateMs={250}\n        onChange={(newValue: number) => {\n          setMarkerBodyOpacity(newValue);\n        }}\n        containerStyles={{\n          height: 100,\n          width: 425,\n          marginLeft: 75,\n        }}\n        showLimits={true}\n        label={'Marker opacity'}\n        disabled={false}\n        colorSpec={opacityColorSpecProps}\n      />\n      <ScatterPlot\n        data={dataSetProcessGradient}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        // not to use independentAxisRange\n        // independentAxisRange={[xMin, xMax]}\n        dependentAxisRange={{ min: yMin as string, max: yMax as string }}\n        // title={Scatter with Colormap}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        // staticPlot is changed to interactive\n        interactive={true}\n        // check enable/disable legend and built-in controls\n        displayLegend={false}\n        displayLibraryControls={true}\n        independentValueType={'number'}\n        dependentValueType={'number'}\n        markerBodyOpacity={markerBodyOpacity}\n      />\n    </div>\n  );\n}"}},Discrete.parameters),DiscreteNonUniform.parameters=Object.assign({storySource:{source:"(args) => {\n  const { dataSetProcess: dataSetProcessGradient } = processInputData(\n    args.data,\n    'scatterplot',\n    'markers',\n    'number',\n    'number',\n    false\n  );\n\n  // Reduce the dataset to only nPoints points so that we can see how the colormap looks when the\n  // scatter plot is or isn't overplotted.\n  // Points without both x and y aren't drawn, so only need to remove x coordinate.\n  dataSetProcessGradient.series[0].x = dataSetProcessGradient.series[0].x.slice(\n    0,\n    args.nPoints\n  );\n\n  // Find the y axis min and max\n  const [yMin, yMax] = [\n    min(dataSetProcessGradient.series[0].y),\n    max(dataSetProcessGradient.series[0].y),\n  ];\n\n  // Opacity slider state\n  const [markerBodyOpacity, setMarkerBodyOpacity] = useState(1);\n\n  // Opacity slider coloring\n  const opacityColorSpecProps: SliderWidgetProps['colorSpec'] = {\n    type: 'gradient',\n    tooltip: '#aaa',\n    knobColor: '#aaa',\n    trackGradientStart: '#fff',\n    trackGradientEnd: '#000',\n  };\n\n  // For each colormap, show the legend, an example plot, and our opacity slider.\n  return (\n    <div\n      style={{\n        padding: 25,\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n      }}\n    >\n      <PlotLegend {...args.plotLegendProps} />\n      <SliderWidget\n        minimum={0}\n        maximum={1}\n        step={0.05}\n        value={1}\n        debounceRateMs={250}\n        onChange={(newValue: number) => {\n          setMarkerBodyOpacity(newValue);\n        }}\n        containerStyles={{\n          height: 100,\n          width: 425,\n          marginLeft: 75,\n        }}\n        showLimits={true}\n        label={'Marker opacity'}\n        disabled={false}\n        colorSpec={opacityColorSpecProps}\n      />\n      <ScatterPlot\n        data={dataSetProcessGradient}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        // not to use independentAxisRange\n        // independentAxisRange={[xMin, xMax]}\n        dependentAxisRange={{ min: yMin as string, max: yMax as string }}\n        // title={Scatter with Colormap}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        // staticPlot is changed to interactive\n        interactive={true}\n        // check enable/disable legend and built-in controls\n        displayLegend={false}\n        displayLibraryControls={true}\n        independentValueType={'number'}\n        dependentValueType={'number'}\n        markerBodyOpacity={markerBodyOpacity}\n      />\n    </div>\n  );\n}"}},DiscreteNonUniform.parameters)},2677:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"RequiredControls",(function(){return RequiredControls})),__webpack_require__.d(__webpack_exports__,"AdditionalOptions",(function(){return AdditionalOptions})),__webpack_require__.d(__webpack_exports__,"YAxisControls",(function(){return YAxisControls}));__webpack_require__(10),__webpack_require__(63),__webpack_require__(8);var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_components_plotControls_HistogramControls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(280),_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(279),_veupathdb_coreui_dist_definitions_colors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(54),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_exports__.default={title:"Plot Controls/Histogram",component:_components_plotControls_HistogramControls__WEBPACK_IMPORTED_MODULE_4__.a};var _onBinWidthChange,RequiredControls=function RequiredControls(args){var controls=Object(_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__.a)({data:{series:[{name:"dummy data",bins:[]}]},histogram:args.histogram});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_components_plotControls_HistogramControls__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},controls,controls.histogram,{valueType:"number"}))};RequiredControls.displayName="RequiredControls",RequiredControls.args={histogram:{binWidthRange:{min:5,max:100},binWidthStep:5,onBinWidthChange:(_onBinWidthChange=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{series:[{name:"dummy data",bins:[]}]});case 1:case"end":return _context.stop()}}),_callee)}))),function onBinWidthChange(){return _onBinWidthChange.apply(this,arguments)})}};var AdditionalOptions=function AdditionalOptions(args){var _controls$data$binWid2,controls=Object(_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__.a)({data:args.data,onSelectedUnitChange:args.onSelectedUnitChange,histogram:args.histogram});return Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){var _controls$data$binWid;console.log("Story got new binWidth "+(null===(_controls$data$binWid=controls.data.binWidthSlider)||void 0===_controls$data$binWid?void 0:_controls$data$binWid.binWidth))}),[null===(_controls$data$binWid2=controls.data.binWidthSlider)||void 0===_controls$data$binWid2?void 0:_controls$data$binWid2.binWidth]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_components_plotControls_HistogramControls__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({label:"Customizable Control Panel Label",accentColor:{hue:_veupathdb_coreui_dist_definitions_colors__WEBPACK_IMPORTED_MODULE_6__.mutedPurple,level:400}},controls,controls.histogram))};AdditionalOptions.displayName="AdditionalOptions";var _onBinWidthChange2,_onSelectedUnitChange,dummyData=function dummyData(args){var _args$selectedUnit,_args$binWidth,_args$selectedUnit2,_args$selectedUnit3;return{series:[{name:"dummy data",bins:[]}],availableUnits:["day","hours"],selectedUnit:null!==(_args$selectedUnit=args.selectedUnit)&&void 0!==_args$selectedUnit?_args$selectedUnit:"hours",binWidth:null!==(_args$binWidth=args.binWidth)&&void 0!==_args$binWidth?_args$binWidth:{value:6,unit:null!==(_args$selectedUnit2=args.selectedUnit)&&void 0!==_args$selectedUnit2?_args$selectedUnit2:"hours"},binWidthRange:{min:1,max:24,unit:null!==(_args$selectedUnit3=args.selectedUnit)&&void 0!==_args$selectedUnit3?_args$selectedUnit3:"hours"},binWidthStep:1}};AdditionalOptions.args={data:dummyData({binWidth:{value:6,unit:"hours"},selectedUnit:"hours"}),onSelectedUnitChange:(_onSelectedUnitChange=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(newUnit){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",dummyData({selectedUnit:newUnit}));case 1:case"end":return _context2.stop()}}),_callee2)}))),function onSelectedUnitChange(_x){return _onSelectedUnitChange.apply(this,arguments)}),histogram:{valueType:"date",binWidthRange:{min:1,max:24,unit:"hours"},binWidthStep:1,onBinWidthChange:(_onBinWidthChange2=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(binWidth){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",dummyData({binWidth:binWidth}));case 1:case"end":return _context3.stop()}}),_callee3)}))),function onBinWidthChange(_x2){return _onBinWidthChange2.apply(this,arguments)})}};var _onBinWidthChange3,YAxisControls=function YAxisControls(args){var controls=Object(_hooks_usePlotControls__WEBPACK_IMPORTED_MODULE_5__.a)({data:args.data,histogram:args.histogram});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_components_plotControls_HistogramControls__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},controls,controls.histogram,{valueType:"number"}))};YAxisControls.displayName="YAxisControls",YAxisControls.args={data:{series:[{name:"dummy data",bins:[]}]},histogram:{binWidthRange:{min:5,max:100},binWidthStep:5,onBinWidthChange:(_onBinWidthChange3=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",{series:[{name:"dummy data",bins:[]}]});case 1:case"end":return _context4.stop()}}),_callee4)}))),function onBinWidthChange(){return _onBinWidthChange3.apply(this,arguments)}),dependentAxisLogScale:!1,dependentAxisMode:"absolute"}},RequiredControls.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  const controls = usePlotControls<HistogramData>({\n    data: { series: [{ name: 'dummy data', bins: [] }] },\n    histogram: args.histogram,\n  });\n\n  return (\n    <HistogramControls\n      {...controls}\n      {...controls.histogram}\n      valueType=\"number\"\n    />\n  );\n}"}},RequiredControls.parameters),AdditionalOptions.parameters=Object.assign({storySource:{source:'(\n  args\n) => {\n  const controls = usePlotControls<HistogramData>({\n    data: args.data,\n    onSelectedUnitChange: args.onSelectedUnitChange,\n    histogram: args.histogram,\n  });\n\n  useEffect(() => {\n    console.log(\n      `Story got new binWidth ${controls.data.binWidthSlider?.binWidth}`\n    );\n  }, [controls.data.binWidthSlider?.binWidth]);\n\n  return (\n    <HistogramControls\n      label="Customizable Control Panel Label"\n      accentColor={{ hue: mutedPurple, level: 400 }}\n      {...controls}\n      {...controls.histogram}\n    />\n  );\n}'}},AdditionalOptions.parameters),YAxisControls.parameters=Object.assign({storySource:{source:'(\n  args\n) => {\n  const controls = usePlotControls<HistogramData>({\n    data: args.data,\n    histogram: args.histogram,\n  });\n\n  return (\n    <HistogramControls\n      // label="Customizable Control Panel Label"\n      {...controls}\n      {...controls.histogram}\n      valueType="number"\n    />\n  );\n}'}},YAxisControls.parameters)},2680:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"HistogramPlotLegend",(function(){return HistogramPlotLegend})),__webpack_require__.d(__webpack_exports__,"GradientPlotLegend",(function(){return GradientPlotLegend})),__webpack_require__.d(__webpack_exports__,"TestLongLegendItems",(function(){return TestLongLegendItems}));__webpack_require__(25),__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_plots_Histogram__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(189),_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(222),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Plot Controls/PlotLegend",component:_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_15__.a};var data={series:[{name:"0-11 months",bins:[{binStart:0,binEnd:3,binLabel:"[0,3]",value:1465},{binStart:3,binEnd:6,binLabel:"(3,6]",value:3962},{binStart:6,binEnd:9,binLabel:"(6,9]",value:6023},{binStart:9,binEnd:12,binLabel:"(9,12]",value:4745},{binStart:12,binEnd:15,binLabel:"(12,15]",value:801}]},{name:"12-23 months",bins:[{binStart:9,binEnd:12,binLabel:"(9,12]",value:830},{binStart:12,binEnd:15,binLabel:"(12,15]",value:3718},{binStart:15,binEnd:18,binLabel:"(15,18]",value:4118},{binStart:18,binEnd:21,binLabel:"(18,21]",value:3481},{binStart:21,binEnd:24,binLabel:"(21,24]",value:2077},{binStart:24,binEnd:27,binLabel:"(24,27]",value:349}]},{name:"24-59 months",bins:[{binStart:21,binEnd:24,binLabel:"(21,24]",value:401},{binStart:24,binEnd:27,binLabel:"(24,27]",value:1825},{binStart:27,binEnd:30,binLabel:"(27,30]",value:2078},{binStart:30,binEnd:33,binLabel:"(30,33]",value:1531},{binStart:33,binEnd:36,binLabel:"(33,36]",value:1295},{binStart:36,binEnd:39,binLabel:"(36,39]",value:995},{binStart:39,binEnd:42,binLabel:"(39,42]",value:790},{binStart:42,binEnd:45,binLabel:"(42,45]",value:685},{binStart:45,binEnd:48,binLabel:"(45,48]",value:601},{binStart:48,binEnd:51,binLabel:"(48,51]",value:570},{binStart:51,binEnd:54,binLabel:"(51,54]",value:387},{binStart:54,binEnd:57,binLabel:"(54,57]",value:314},{binStart:57,binEnd:60,binLabel:"(57,60]",value:242},{binStart:60,binEnd:63,binLabel:"(60,63]",value:38}]}],binWidthSlider:{valueType:"number",binWidth:3,binWidthRange:{min:.1,max:31},binWidthStep:.03}},legendItems=[{label:"24-59 months",marker:"square",markerColor:"rgb(153,153,51)",hasData:!0,group:1,rank:1},{label:"12-23 months",marker:"square",markerColor:"rgb(136,204,238)",hasData:!0,group:1,rank:1},{label:"0-11 months",marker:"square",markerColor:"rgb(136,34,85)",hasData:!0,group:1,rank:1}],longLegendItems=[{label:"Bangladesh",marker:"circle",markerColor:"rgb(136,34,85)",hasData:!0,group:1,rank:1},{label:"India",marker:"circle",markerColor:"rgb(136,204,238)",hasData:!0,group:1,rank:1},{label:"Kenya",marker:"circle",markerColor:"rgb(153,153,51)",hasData:!0,group:1,rank:1},{label:"Mali",marker:"circle",markerColor:"rgb(51,34,136)",hasData:!0,group:1,rank:1},{label:"Mozambique",marker:"circle",markerColor:"rgb(68,170,153)",hasData:!0,group:1,rank:1},{label:"Pakistan",marker:"circle",markerColor:"rgb(221,204,119)",hasData:!0,group:1,rank:1},{label:"The Gambia",marker:"circle",markerColor:"rgb(204,102,119)",hasData:!0,group:1,rank:1},{label:"Bangladesh, Smoothed mean",marker:"line",markerColor:"rgb(136,34,85)",hasData:!0,group:1,rank:1},{label:"Bangladesh, 95% Confidence interval",marker:"fainted",markerColor:"rgb(136,34,85)",hasData:!0,group:1,rank:1},{label:"India, Smoothed mean",marker:"line",markerColor:"rgb(136,204,238)",hasData:!1,group:1,rank:1},{label:"India, 95% Confidence interval",marker:"fainted",markerColor:"rgb(136,204,238)",hasData:!1,group:1,rank:1},{label:"Kenya, Smoothed mean",marker:"line",markerColor:"rgb(153,153,51)",hasData:!1,group:1,rank:1},{label:"Kenya, 95% Confidence interval",marker:"fainted",markerColor:"rgb(153,153,51)",hasData:!1,group:1,rank:1},{label:"Mali, Smoothed mean",marker:"line",markerColor:"rgb(51,34,136)",hasData:!0,group:1,rank:1},{label:"Mali, 95% Confidence interval",marker:"fainted",markerColor:"rgb(51,34,136)",hasData:!0,group:1,rank:1},{label:"Mozambique, Smoothed mean",marker:"line",markerColor:"rgb(68,170,153)",hasData:!0,group:1,rank:1},{label:"Mozambique, 95% Confidence interval",marker:"fainted",markerColor:"rgb(68,170,153)",hasData:!0,group:1,rank:1},{label:"Pakistan, Smoothed mean",marker:"line",markerColor:"rgb(221,204,119)",hasData:!0,group:1,rank:1},{label:"Pakistan, 95% Confidence interval",marker:"fainted",markerColor:"rgb(221,204,119)",hasData:!0,group:1,rank:1},{label:"The Gambia, Smoothed mean",marker:"line",markerColor:"rgb(204,102,119)",hasData:!0,group:1,rank:1},{label:"The Gambia, 95% Confidence interval",marker:"fainted",markerColor:"rgb(204,102,119)",hasData:!0,group:1,rank:1}],HistogramPlotLegend=function HistogramPlotLegend(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(legendItems.map((function(item){return item.label}))),2),checkedLegendItems=_useState2[0],setCheckedLegendItems=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_plots_Histogram__WEBPACK_IMPORTED_MODULE_14__.a,{data:data,independentAxisLabel:"Age (months)",dependentAxisLabel:"Count",title:"From GEMS1 Case Control: Main - Age, Overlay - Age group",containerStyles:{width:1e3,height:600},interactive:!0,displayLegend:!0,displayLibraryControls:!0,showValues:!1,legendTitle:"Age group",checkedLegendItems:checkedLegendItems}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_15__.a,{type:"list",legendItems:legendItems,checkedLegendItems:checkedLegendItems,onCheckedLegendItemsChange:setCheckedLegendItems,legendTitle:"Age group"})]})};HistogramPlotLegend.displayName="HistogramPlotLegend";var GradientPlotLegend=function GradientPlotLegend(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{style:{padding:15},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_15__.a,{type:"colorscale",legendMax:100,legendMin:5,gradientColorscaleType:"divergent",nTicks:5,showMissingness:!0})})};GradientPlotLegend.displayName="GradientPlotLegend";var TestLongLegendItems=function TestLongLegendItems(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(longLegendItems.map((function(item){return item.label}))),2),checkedLongLegendItems=_useState4[0],setCheckedLongLegendItems=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h5",{children:"# Testing long legend items"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_components_plotControls_PlotLegend__WEBPACK_IMPORTED_MODULE_15__.a,{type:"list",legendItems:longLegendItems,checkedLegendItems:checkedLongLegendItems,onCheckedLegendItemsChange:setCheckedLongLegendItems,legendTitle:"Country"})]})};TestLongLegendItems.displayName="TestLongLegendItems",HistogramPlotLegend.parameters=Object.assign({storySource:{source:"() => {\n  // set useState to track checkbox status\n  const [checkedLegendItems, setCheckedLegendItems] = useState<string[]>(\n    legendItems.map((item) => item.label)\n  );\n\n  return (\n    <div>\n      <Histogram\n        data={data}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        title={plotTitle}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        interactive={true}\n        displayLegend={true}\n        displayLibraryControls={true}\n        showValues={false}\n        // margin={{l: 50, r: 10, b: 20, t: 10}}\n        // add legend title\n        legendTitle={'Age group'}\n        // pass checkedLegendItems to PlotlyPlot\n        checkedLegendItems={checkedLegendItems}\n      />\n      <PlotLegend\n        type=\"list\"\n        legendItems={legendItems}\n        checkedLegendItems={checkedLegendItems}\n        onCheckedLegendItemsChange={setCheckedLegendItems}\n        // pass legend title\n        legendTitle={'Age group'}\n      />\n    </div>\n  );\n}"}},HistogramPlotLegend.parameters),GradientPlotLegend.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <div style={{ padding: 15 }}>\n      <PlotLegend\n        type=\"colorscale\"\n        legendMax={100}\n        legendMin={5}\n        // Options are 'sequential' and 'divergent'\n        gradientColorscaleType={'divergent'}\n        // pass legend title\n        nTicks={5}\n        showMissingness\n      />\n    </div>\n  );\n}"}},GradientPlotLegend.parameters),TestLongLegendItems.parameters=Object.assign({storySource:{source:"() => {\n  // long legend test\n  const [checkedLongLegendItems, setCheckedLongLegendItems] = useState<\n    string[]\n  >(longLegendItems.map((item) => item.label));\n\n  return (\n    <div>\n      {/* testing long legend items: taken from a Scatter plot with smoothed mean */}\n      <h5># Testing long legend items</h5>\n      <PlotLegend\n        type=\"list\"\n        legendItems={longLegendItems}\n        checkedLegendItems={checkedLongLegendItems}\n        onCheckedLegendItemsChange={setCheckedLongLegendItems}\n        // pass legend title\n        legendTitle={'Country'}\n      />\n    </div>\n  );\n}"}},TestLongLegendItems.parameters)},2681:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ToImage",(function(){return ToImage}));__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_plots_PlotlyPlot__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(105),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Plots/PlotlyPlot",component:_plots_PlotlyPlot__WEBPACK_IMPORTED_MODULE_13__.c};var ToImage=function ToImage(){var ref=Object(react__WEBPACK_IMPORTED_MODULE_12__.useRef)(null),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(""),2),img=_useState2[0],setImg=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_12__.useEffect)((function(){var _ref$current;null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.toImage({format:"jpeg",height:400,width:400}).then((function(src){return setImg(src)}))}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_plots_PlotlyPlot__WEBPACK_IMPORTED_MODULE_13__.c,{ref:ref,data:[],layout:{}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("img",{src:img})]})};ToImage.parameters=Object.assign({storySource:{source:"function ToImage() {\n  const ref = useRef<PlotRef>(null);\n  const [img, setImg] = useState('');\n  useEffect(() => {\n    ref.current\n      ?.toImage({ format: 'jpeg', height: 400, width: 400 })\n      .then((src) => setImg(src));\n  }, []);\n  return (\n    <>\n      <PlotlyPlot ref={ref} data={[]} layout={{}} />\n      <img src={img} />\n    </>\n  );\n}"}},ToImage.parameters)},2682:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"WithLabel",(function(){return WithLabel})),__webpack_require__.d(__webpack_exports__,"VerticalOrientation",(function(){return VerticalOrientation})),__webpack_require__.d(__webpack_exports__,"CustomStyling",(function(){return CustomStyling}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_components_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(278),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/ButtonGroup",component:_components_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_14__.a};var Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("Vertical"),2),selectedOption=_useState2[0],setSelectedOption=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_ButtonGroup__WEBPACK_IMPORTED_MODULE_14__.a,Object.assign({},args,{onOptionSelected:setSelectedOption,selectedOption:selectedOption,containerStyles:Object.assign({},args.containerStyles,{margin:25})}))};Template.displayName="Template";var Basic=Template.bind({});Basic.args={options:["Vertical","Horizontal"]};var WithLabel=Template.bind({});WithLabel.args=Object.assign({},Basic.args,{label:"Custom Label"});var VerticalOrientation=Template.bind({});VerticalOrientation.args=Object.assign({},Basic.args,{orientation:"vertical"});var CustomStyling=Template.bind({});CustomStyling.args=Object.assign({},Basic.args,{label:"Custom Container Styling",containerStyles:{padding:10,borderRadius:5,background:"linear-gradient(#ffffff, #ffffff), linear-gradient(to right, red, purple)",backgroundOrigin:"padding-box, border-box",backgroundRepeat:"no-repeat",border:"2px solid transparent",maxWidth:200}}),Basic.parameters=Object.assign({storySource:{source:"(args) => {\n  const [selectedOption, setSelectedOption] = useState('Vertical');\n\n  return (\n    <ButtonGroup\n      {...args}\n      onOptionSelected={setSelectedOption}\n      selectedOption={selectedOption}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},Basic.parameters),WithLabel.parameters=Object.assign({storySource:{source:"(args) => {\n  const [selectedOption, setSelectedOption] = useState('Vertical');\n\n  return (\n    <ButtonGroup\n      {...args}\n      onOptionSelected={setSelectedOption}\n      selectedOption={selectedOption}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},WithLabel.parameters),VerticalOrientation.parameters=Object.assign({storySource:{source:"(args) => {\n  const [selectedOption, setSelectedOption] = useState('Vertical');\n\n  return (\n    <ButtonGroup\n      {...args}\n      onOptionSelected={setSelectedOption}\n      selectedOption={selectedOption}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},VerticalOrientation.parameters),CustomStyling.parameters=Object.assign({storySource:{source:"(args) => {\n  const [selectedOption, setSelectedOption] = useState('Vertical');\n\n  return (\n    <ButtonGroup\n      {...args}\n      onOptionSelected={setSelectedOption}\n      selectedOption={selectedOption}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},CustomStyling.parameters)},2683:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Controlled",(function(){return Controlled})),__webpack_require__.d(__webpack_exports__,"ControlledBounded",(function(){return ControlledBounded})),__webpack_require__.d(__webpack_exports__,"ControlledLinkedPair",(function(){return ControlledLinkedPair})),__webpack_require__.d(__webpack_exports__,"ControlledBounds",(function(){return ControlledBounds})),__webpack_require__.d(__webpack_exports__,"CustomValidator",(function(){return CustomValidator}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(151),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(95),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Date Input",component:_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.a};var ControlledTemplate=function ControlledTemplate(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)("2005-01-03"),2),value=_useState2[0],setValue=_useState2[1],onValueChange=Object(react__WEBPACK_IMPORTED_MODULE_14__.useCallback)((function(newValue){console.log("new value = "+newValue),setValue(newValue)}),[setValue]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.a,Object.assign({},args,{value:value,onValueChange:onValueChange,containerStyles:Object.assign({},args.containerStyles,{margin:25})}))};ControlledTemplate.displayName="ControlledTemplate";var Controlled=ControlledTemplate.bind({});Controlled.args={label:"Controlled"};var ControlledBounded=ControlledTemplate.bind({});ControlledBounded.args={label:"Controlled (2000-01-01 to 2009-12-31)",minValue:"2000-01-01",maxValue:"2009-12-31"};var ControlledLinkedPair=function ControlledLinkedPair(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)("2020-02-20"),2),linkedValue=_useState4[0],setLinkedValue=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.a,{value:linkedValue,label:"A",onValueChange:function onValueChange(newValue){console.log("A new value = "+newValue),setLinkedValue(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.a,{value:linkedValue,label:"B",onValueChange:function onValueChange(newValue){console.log("B new value = "+newValue),setLinkedValue(newValue)},containerStyles:{margin:25}})]})},ControlledBounds=function ControlledBounds(){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)("2020-01-04"),2),value=_useState6[0],setValue=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)("2020-01-01"),2),min=_useState8[0],setMin=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)("2020-01-09"),2),max=_useState10[0],setMax=_useState10[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.a,{value:value,label:"Value ("+min+" <= x <= "+max+")",minValue:min,maxValue:max,onValueChange:function onValueChange(newValue){console.log("new value = "+newValue),null!=newValue&&setValue(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.a,{value:min,maxValue:max,label:"Min",onValueChange:function onValueChange(newValue){null!=newValue&&setMin(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_15__.a,{value:max,minValue:min,label:"Max",onValueChange:function onValueChange(newValue){null!=newValue&&setMax(newValue)},containerStyles:{margin:25}})]})},CustomValidator=ControlledTemplate.bind({});CustomValidator.args={label:"Weekdays only",validator:function validator(newValue){if(null==newValue)return{validity:!0,message:""};var date=new Date(newValue);return date?date.getDay()>0&&date.getDay()<6?{validity:!0,message:""}:{validity:!1,message:"Please pick a weekday"}:{validity:!1,message:"badly formatted date"}}},Controlled.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<string>('2005-01-03');\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as string);\n    },\n    [setValue]\n  );\n\n  return (\n    <DateInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},Controlled.parameters),ControlledBounded.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<string>('2005-01-03');\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as string);\n    },\n    [setValue]\n  );\n\n  return (\n    <DateInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},ControlledBounded.parameters),ControlledLinkedPair.parameters=Object.assign({storySource:{source:'() => {\n  const [linkedValue, setLinkedValue] = useState<string>(\'2020-02-20\');\n\n  return (\n    <>\n      <DateInput\n        value={linkedValue}\n        label="A"\n        onValueChange={(newValue) => {\n          console.log(`A new value = ${newValue}`);\n          setLinkedValue(newValue as string);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <DateInput\n        value={linkedValue}\n        label="B"\n        onValueChange={(newValue) => {\n          console.log(`B new value = ${newValue}`);\n          setLinkedValue(newValue as string);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n    </>\n  );\n}'}},ControlledLinkedPair.parameters),ControlledBounds.parameters=Object.assign({storySource:{source:"() => {\n  const [value, setValue] = useState<string>('2020-01-04');\n  const [min, setMin] = useState<string>('2020-01-01');\n  const [max, setMax] = useState<string>('2020-01-09');\n\n  return (\n    <>\n      <DateInput\n        value={value}\n        label={`Value (${min} <= x <= ${max})`}\n        minValue={min}\n        maxValue={max}\n        onValueChange={(newValue) => {\n          console.log(`new value = ${newValue}`);\n          // for some reason the `newValue != null` is needed because\n          // the `useState<string>(0)` has an initial value provided\n          if (newValue != null) setValue(newValue as string);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <DateInput\n        value={min}\n        maxValue={max}\n        label=\"Min\"\n        onValueChange={(newValue) => {\n          if (newValue != null) setMin(newValue as string);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <DateInput\n        value={max}\n        minValue={min}\n        label=\"Max\"\n        onValueChange={(newValue) => {\n          if (newValue != null) setMax(newValue as string);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n    </>\n  );\n}"}},ControlledBounds.parameters),CustomValidator.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<string>('2005-01-03');\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as string);\n    },\n    [setValue]\n  );\n\n  return (\n    <DateInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},CustomValidator.parameters)},2684:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ControlledLinked",(function(){return ControlledLinked}));__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(134),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Date Range Input",component:_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__.a};var ControlledLinked=function ControlledLinked(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)({min:"2001-01-01",max:"2001-01-31"}),2),range=_useState2[0],setRange=_useState2[1],handleChangeA=Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)((function(newRange){console.log("A: new range = "+newRange.min+" to "+newRange.max),setRange(newRange)}),[setRange]),handleChangeB=Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)((function(newRange){console.log("B: new range = "+newRange.min+" to "+newRange.max),setRange(newRange)}),[setRange]),SharedDateRangeInputArgs={rangeBounds:{min:"2001-01-01",max:"2001-12-31"},range:range,containerStyles:{margin:25}};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__.a,Object.assign({label:"A",onRangeChange:handleChangeA},SharedDateRangeInputArgs)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__.a,Object.assign({label:"B",onRangeChange:handleChangeB},SharedDateRangeInputArgs))]})};ControlledLinked.parameters=Object.assign({storySource:{source:"() => {\n  const [range, setRange] = useState<DateRange>({\n    min: '2001-01-01',\n    max: '2001-01-31',\n  });\n\n  // there must be a cleverer way to do this\n  // avoiding the cut and paste\n  const handleChangeA = useCallback(\n    (newRange) => {\n      console.log(`A: new range = ${newRange.min} to ${newRange.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n\n  const handleChangeB = useCallback(\n    (newRange) => {\n      console.log(`B: new range = ${newRange.min} to ${newRange.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n\n  const SharedDateRangeInputArgs = {\n    rangeBounds: { min: '2001-01-01', max: '2001-12-31' },\n    range: range,\n    containerStyles: { margin: 25 },\n  };\n\n  return (\n    <>\n      <DateRangeInput\n        label=\"A\"\n        onRangeChange={handleChangeA}\n        {...SharedDateRangeInputArgs}\n      />\n      <DateRangeInput\n        label=\"B\"\n        onRangeChange={handleChangeB}\n        {...SharedDateRangeInputArgs}\n      />\n    </>\n  );\n}"}},ControlledLinked.parameters)},2685:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NoBounds",(function(){return NoBounds})),__webpack_require__.d(__webpack_exports__,"NoLabel",(function(){return NoLabel})),__webpack_require__.d(__webpack_exports__,"Bounded",(function(){return Bounded})),__webpack_require__.d(__webpack_exports__,"RequiredBounded",(function(){return RequiredBounded})),__webpack_require__.d(__webpack_exports__,"ExternallyOutOfBounds",(function(){return ExternallyOutOfBounds})),__webpack_require__.d(__webpack_exports__,"BoundedNonZero",(function(){return BoundedNonZero})),__webpack_require__.d(__webpack_exports__,"SilentBoundsCheck",(function(){return SilentBoundsCheck})),__webpack_require__.d(__webpack_exports__,"LinkedPair",(function(){return LinkedPair})),__webpack_require__.d(__webpack_exports__,"LinkedRequiredPair",(function(){return LinkedRequiredPair})),__webpack_require__.d(__webpack_exports__,"ControlledBounds",(function(){return ControlledBounds})),__webpack_require__.d(__webpack_exports__,"CustomValidator",(function(){return CustomValidator}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(95),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Number Input",component:_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_14__.b};var ControlledTemplate=function ControlledTemplate(args){var _args$value,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(null!==(_args$value=args.value)&&void 0!==_args$value?_args$value:1),2),value=_useState2[0],setValue=_useState2[1],onValueChange=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)((function(newValue){console.log("new value = "+newValue),setValue(newValue)}),[setValue]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_14__.b,Object.assign({},args,{value:value,onValueChange:onValueChange,containerStyles:Object.assign({},args.containerStyles,{margin:25})}))};ControlledTemplate.displayName="ControlledTemplate";var NoBounds=ControlledTemplate.bind({});NoBounds.args={label:"Controlled"};var NoLabel=ControlledTemplate.bind({});NoLabel.args={};var Bounded=ControlledTemplate.bind({});Bounded.args={label:"Controlled (0 <= x <= 5)",minValue:0,maxValue:5};var RequiredBounded=ControlledTemplate.bind({});RequiredBounded.args={label:"Controlled (0 <= x <= 5)",minValue:0,maxValue:5,required:!0};var ExternallyOutOfBounds=ControlledTemplate.bind({});ExternallyOutOfBounds.args={label:"Controlled (0 <= x <= 5)",minValue:0,maxValue:5,value:10};var BoundedNonZero=ControlledTemplate.bind({});BoundedNonZero.args={label:"Controlled (3 <= x <= 9)",value:6,minValue:3,maxValue:9};var SilentBoundsCheck=ControlledTemplate.bind({});SilentBoundsCheck.args={label:"Controlled (10 <= x <= 12)",value:11,minValue:10,maxValue:12,displayRangeViolationWarnings:!1};var LinkedPair=function LinkedPair(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(0),2),linkedValue=_useState4[0],setLinkedValue=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_14__.b,{value:linkedValue,label:"A",onValueChange:function onValueChange(newValue){console.log("A new value = "+newValue),setLinkedValue(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_14__.b,{value:linkedValue,label:"B",onValueChange:function onValueChange(newValue){console.log("B new value = "+newValue),setLinkedValue(newValue)},containerStyles:{margin:25}})]})},LinkedRequiredPair=function LinkedRequiredPair(){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(0),2),linkedValue=_useState6[0],setLinkedValue=_useState6[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_14__.b,{value:linkedValue,label:"A",onValueChange:function onValueChange(newValue){console.log("A new value = "+newValue),setLinkedValue(newValue)},required:!0,containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_14__.b,{value:linkedValue,label:"B",onValueChange:function onValueChange(newValue){console.log("B new value = "+newValue),setLinkedValue(newValue)},required:!0,containerStyles:{margin:25}})]})},ControlledBounds=function ControlledBounds(){var _useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(0),2),value=_useState8[0],setValue=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(-5),2),min=_useState10[0],setMin=_useState10[1],_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(5),2),max=_useState12[0],setMax=_useState12[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_14__.b,{value:value,label:"Value ("+min+" <= x <= "+max+")",minValue:min,maxValue:max,onValueChange:function onValueChange(newValue){console.log("new value = "+newValue),null!=newValue&&setValue(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_14__.b,{value:min,maxValue:max,label:"Min",onValueChange:function onValueChange(newValue){null!=newValue&&setMin(newValue)},containerStyles:{margin:25}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_NumberAndDateInputs__WEBPACK_IMPORTED_MODULE_14__.b,{value:max,minValue:min,label:"Max",onValueChange:function onValueChange(newValue){null!=newValue&&setMax(newValue)},containerStyles:{margin:25}})]})},CustomValidator=ControlledTemplate.bind({});CustomValidator.args={label:"Even numbers 0 <= x <= 10",validator:function validator(newValue){var validity=null!=newValue&&"number"==typeof newValue&&newValue>=0&&newValue<=10&&newValue%2==0;return{validity:validity,message:validity?"":"Not an even number 0 to 10"}},containerStyles:{width:"40ch"}},NoBounds.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},NoBounds.parameters),NoLabel.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},NoLabel.parameters),Bounded.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},Bounded.parameters),RequiredBounded.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},RequiredBounded.parameters),ExternallyOutOfBounds.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},ExternallyOutOfBounds.parameters),BoundedNonZero.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},BoundedNonZero.parameters),SilentBoundsCheck.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},SilentBoundsCheck.parameters),LinkedPair.parameters=Object.assign({storySource:{source:'() => {\n  const [linkedValue, setLinkedValue] = useState<number>(0);\n\n  return (\n    <>\n      <NumberInput\n        value={linkedValue}\n        label="A"\n        onValueChange={(newValue) => {\n          console.log(`A new value = ${newValue}`);\n          setLinkedValue(newValue as number);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <NumberInput\n        value={linkedValue}\n        label="B"\n        onValueChange={(newValue) => {\n          console.log(`B new value = ${newValue}`);\n          setLinkedValue(newValue as number);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n    </>\n  );\n}'}},LinkedPair.parameters),LinkedRequiredPair.parameters=Object.assign({storySource:{source:'() => {\n  const [linkedValue, setLinkedValue] = useState<number>(0);\n\n  return (\n    <>\n      <NumberInput\n        value={linkedValue}\n        label="A"\n        onValueChange={(newValue) => {\n          console.log(`A new value = ${newValue}`);\n          setLinkedValue(newValue as number);\n        }}\n        required={true}\n        containerStyles={{ margin: 25 }}\n      />\n      <NumberInput\n        value={linkedValue}\n        label="B"\n        onValueChange={(newValue) => {\n          console.log(`B new value = ${newValue}`);\n          setLinkedValue(newValue as number);\n        }}\n        required={true}\n        containerStyles={{ margin: 25 }}\n      />\n    </>\n  );\n}'}},LinkedRequiredPair.parameters),ControlledBounds.parameters=Object.assign({storySource:{source:'() => {\n  const [value, setValue] = useState<number>(0);\n  const [min, setMin] = useState<number>(-5);\n  const [max, setMax] = useState<number>(5);\n\n  return (\n    <>\n      <NumberInput\n        value={value}\n        label={`Value (${min} <= x <= ${max})`}\n        minValue={min}\n        maxValue={max}\n        onValueChange={(newValue) => {\n          console.log(`new value = ${newValue}`);\n          // for some reason the `newValue != null` is needed because\n          // the `useState<number>(0)` has an initial value provided\n          if (newValue != null) setValue(newValue as number);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <NumberInput\n        value={min}\n        maxValue={max}\n        label="Min"\n        onValueChange={(newValue) => {\n          if (newValue != null) setMin(newValue as number);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n      <NumberInput\n        value={max}\n        minValue={min}\n        label="Max"\n        onValueChange={(newValue) => {\n          if (newValue != null) setMax(newValue as number);\n        }}\n        containerStyles={{ margin: 25 }}\n      />\n    </>\n  );\n}'}},ControlledBounds.parameters),CustomValidator.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value ?? 1);\n  const onValueChange = useCallback(\n    (newValue) => {\n      console.log(`new value = ${newValue}`);\n      setValue(newValue as number);\n    },\n    [setValue]\n  );\n\n  return (\n    <NumberInput\n      {...args}\n      value={value}\n      onValueChange={onValueChange}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},CustomValidator.parameters)},2686:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"EmptyAtStart",(function(){return EmptyAtStart})),__webpack_require__.d(__webpack_exports__,"NoPartialRangesWithClear",(function(){return NoPartialRangesWithClear})),__webpack_require__.d(__webpack_exports__,"ControlledLinked",(function(){return ControlledLinked})),__webpack_require__.d(__webpack_exports__,"CustomValidator",(function(){return CustomValidator}));__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(134),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Number Range Input",component:_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__.b};var EmptyAtStart=function EmptyAtStart(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(),2),range=_useState2[0],setRange=_useState2[1],handleChange=Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)((function(newRange){console.log("new range = "+(null==newRange?void 0:newRange.min)+" to "+(null==newRange?void 0:newRange.max)),setRange(newRange)}),[setRange]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__.b,{label:"A",onRangeChange:handleChange,range:range})};EmptyAtStart.displayName="EmptyAtStart";var NoPartialRangesWithClear=function NoPartialRangesWithClear(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(),2),range=_useState4[0],setRange=_useState4[1],handleChange=Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)((function(newRange){console.log("new range = "+(null==newRange?void 0:newRange.min)+" to "+(null==newRange?void 0:newRange.max)),setRange(newRange)}),[setRange]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__.b,{label:"Between 0 and 100",onRangeChange:handleChange,range:range,rangeBounds:{min:0,max:100},allowPartialRange:!1,showClearButton:!0})};NoPartialRangesWithClear.displayName="NoPartialRangesWithClear";var ControlledLinked=function ControlledLinked(){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)({min:1,max:9}),2),range=_useState6[0],setRange=_useState6[1],handleChangeA=Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)((function(newRange){console.log("A: new range = "+(null==newRange?void 0:newRange.min)+" to "+(null==newRange?void 0:newRange.max)),setRange(newRange)}),[setRange]),handleChangeB=Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)((function(newRange){console.log("B: new range = "+(null==newRange?void 0:newRange.min)+" to "+(null==newRange?void 0:newRange.max)),setRange(newRange)}),[setRange]),SharedNumberRangeInputArgs={rangeBounds:{min:0,max:10},range:range,containerStyles:{margin:25}};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__.b,Object.assign({label:"A",onRangeChange:handleChangeA},SharedNumberRangeInputArgs)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__.b,Object.assign({label:"B (with extra labels, required=true )",onRangeChange:handleChangeB,lowerLabel:"minimum",upperLabel:"maximum",required:!0},SharedNumberRangeInputArgs))]})},CustomValidator=function CustomValidator(){var _useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(),2),range=_useState8[0],setRange=_useState8[1],handleChange=Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)((function(newRange){console.log("new range = "+(null==newRange?void 0:newRange.min)+" to "+(null==newRange?void 0:newRange.max)),setRange(newRange)}),[setRange]),validate=Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)((function(range){return console.log("validating range "+range.min+" to "+range.max),range&&null!=range.max&&null!=range.min?range.max-range.min==5?{validity:!0,message:""}:{validity:!1,message:"range is not 5"}:{validity:!1,message:"enter two numbers"}}),[range]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_components_widgets_NumberAndDateRangeInputs__WEBPACK_IMPORTED_MODULE_13__.b,{label:"Range must have width of 5",onRangeChange:handleChange,range:range,validator:validate,containerStyles:{width:"400px"}})};CustomValidator.displayName="CustomValidator",EmptyAtStart.parameters=Object.assign({storySource:{source:'() => {\n  const [range, setRange] = useState<NumberRange | undefined>();\n\n  const handleChange = useCallback(\n    (newRange) => {\n      console.log(`new range = ${newRange?.min} to ${newRange?.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n\n  return (\n    <NumberRangeInput label="A" onRangeChange={handleChange} range={range} />\n  );\n}'}},EmptyAtStart.parameters),NoPartialRangesWithClear.parameters=Object.assign({storySource:{source:'() => {\n  const [range, setRange] = useState<NumberRange | undefined>();\n\n  const handleChange = useCallback(\n    (newRange) => {\n      console.log(`new range = ${newRange?.min} to ${newRange?.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n\n  return (\n    <NumberRangeInput\n      label="Between 0 and 100"\n      onRangeChange={handleChange}\n      range={range}\n      rangeBounds={{ min: 0, max: 100 }}\n      allowPartialRange={false}\n      showClearButton={true}\n    />\n  );\n}'}},NoPartialRangesWithClear.parameters),ControlledLinked.parameters=Object.assign({storySource:{source:'() => {\n  const [range, setRange] = useState<NumberRange>({ min: 1, max: 9 });\n\n  // there must be a cleverer way to do this\n  // avoiding the cut and paste\n  const handleChangeA = useCallback(\n    (newRange) => {\n      console.log(`A: new range = ${newRange?.min} to ${newRange?.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n\n  const handleChangeB = useCallback(\n    (newRange) => {\n      console.log(`B: new range = ${newRange?.min} to ${newRange?.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n\n  const SharedNumberRangeInputArgs = {\n    rangeBounds: { min: 0, max: 10 },\n    range: range,\n    containerStyles: { margin: 25 },\n  };\n\n  return (\n    <>\n      <NumberRangeInput\n        label="A"\n        onRangeChange={handleChangeA}\n        {...SharedNumberRangeInputArgs}\n      />\n      <NumberRangeInput\n        label="B (with extra labels, required=true )"\n        onRangeChange={handleChangeB}\n        lowerLabel="minimum"\n        upperLabel="maximum"\n        required={true}\n        {...SharedNumberRangeInputArgs}\n      />\n    </>\n  );\n}'}},ControlledLinked.parameters),CustomValidator.parameters=Object.assign({storySource:{source:"() => {\n  const [range, setRange] = useState<NumberRange | undefined>();\n\n  const handleChange = useCallback(\n    (newRange) => {\n      console.log(`new range = ${newRange?.min} to ${newRange?.max}`);\n      setRange(newRange);\n    },\n    [setRange]\n  );\n  const validate = useCallback(\n    (range) => {\n      console.log(`validating range ${range.min} to ${range.max}`);\n      if (range && range.max != null && range.min != null) {\n        if (range.max - range.min === 5) {\n          return { validity: true, message: '' };\n        } else {\n          return { validity: false, message: 'range is not 5' };\n        }\n      } else {\n        // return { validity: true, message: '' }; // like `required: false` (no warning for empty or partially entered range)\n        return { validity: false, message: 'enter two numbers' }; // like `required: true` (warnings for the above)\n      }\n    },\n    [range]\n  );\n\n  return (\n    <NumberRangeInput\n      label=\"Range must have width of 5\"\n      onRangeChange={handleChange}\n      range={range}\n      validator={validate}\n      containerStyles={{ width: '400px' }}\n    />\n  );\n}"}},CustomValidator.parameters)},2687:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic}));__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_constants_colors__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(36),_components_widgets_OpacitySlider__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(348),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Slider/Opacity",component:_components_widgets_OpacitySlider__WEBPACK_IMPORTED_MODULE_14__.a};var Basic=function Basic(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(args.value),2),opacity=_useState2[0],setOpacity=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_OpacitySlider__WEBPACK_IMPORTED_MODULE_14__.a,{value:opacity,onValueChange:function onValueChange(value){args.onValueChange(value),setOpacity(value)},color:args.color,containerStyles:Object.assign({},args.containerStyles,{padding:25})})};Basic.displayName="Basic",Basic.args={value:1,containerStyles:{width:250},color:_constants_colors__WEBPACK_IMPORTED_MODULE_13__.f},Basic.argTypes={onValueChange:{action:"Opacity Value Changed"}},Basic.parameters=Object.assign({storySource:{source:"(args) => {\n  const [opacity, setOpacity] = useState<number>(args.value);\n  return (\n    <OpacitySlider\n      value={opacity}\n      onValueChange={(value) => {\n        args.onValueChange(value);\n        setOpacity(value);\n      }}\n      color={args.color}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},Basic.parameters)},2688:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BasicOrientationToggle",(function(){return BasicOrientationToggle})),__webpack_require__.d(__webpack_exports__,"CustomStyling",(function(){return CustomStyling}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_components_widgets_OrientationToggle__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(500),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Orientation Toggle",component:_components_widgets_OrientationToggle__WEBPACK_IMPORTED_MODULE_14__.a};var BasicOrientationToggle=function BasicOrientationToggle(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(args.orientation),2),orientation=_useState2[0],setOrientation=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){setOrientation(args.orientation)}),[args.orientation]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_OrientationToggle__WEBPACK_IMPORTED_MODULE_14__.a,{orientation:orientation,onOrientationChange:function onOrientationChange(){args.onOrientationChange("vertical"===orientation?"horizontal":"vertical"),setOrientation("vertical"===orientation?"horizontal":"vertical")},containerStyles:Object.assign({},args.containerStyles,{padding:25})})};BasicOrientationToggle.displayName="BasicOrientationToggle",BasicOrientationToggle.args={orientation:"vertical"},BasicOrientationToggle.argTypes={onOrientationChange:{action:"Value Changed"}};var CustomStyling=BasicOrientationToggle.bind({});CustomStyling.args={containerStyles:{padding:10,borderRadius:5,background:"linear-gradient(#ffffff, #ffffff), linear-gradient(to right, red, purple)",backgroundOrigin:"padding-box, border-box",backgroundRepeat:"no-repeat",border:"2px solid transparent",maxWidth:200},orientation:"horizontal"},CustomStyling.argTypes={onOrientationChange:{action:"Value Changed"}},BasicOrientationToggle.parameters=Object.assign({storySource:{source:"(args) => {\n  const [orientation, setOrientation] = useState<OrientationOptions>(\n    args.orientation\n  );\n\n  // Play nice with storybook.\n  useEffect(() => {\n    setOrientation(args.orientation);\n  }, [args.orientation]);\n\n  return (\n    <OrientationToggle\n      orientation={orientation}\n      onOrientationChange={() => {\n        args.onOrientationChange(\n          orientation === 'vertical' ? 'horizontal' : 'vertical'\n        );\n        setOrientation(orientation === 'vertical' ? 'horizontal' : 'vertical');\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},BasicOrientationToggle.parameters),CustomStyling.parameters=Object.assign({storySource:{source:"(args) => {\n  const [orientation, setOrientation] = useState<OrientationOptions>(\n    args.orientation\n  );\n\n  // Play nice with storybook.\n  useEffect(() => {\n    setOrientation(args.orientation);\n  }, [args.orientation]);\n\n  return (\n    <OrientationToggle\n      orientation={orientation}\n      onOrientationChange={() => {\n        args.onOrientationChange(\n          orientation === 'vertical' ? 'horizontal' : 'vertical'\n        );\n        setOrientation(orientation === 'vertical' ? 'horizontal' : 'vertical');\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},CustomStyling.parameters)},2689:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"Renamed",(function(){return Renamed}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_components_widgets_RadioButtonGroup__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(349),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/RadioButtonGroup",component:_components_widgets_RadioButtonGroup__WEBPACK_IMPORTED_MODULE_14__.a};var Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("Horizontal"),2),selectedOption=_useState2[0],setSelectedOption=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_components_widgets_RadioButtonGroup__WEBPACK_IMPORTED_MODULE_14__.a,Object.assign({},args,{onOptionSelected:setSelectedOption,selectedOption:selectedOption,containerStyles:Object.assign({},args.containerStyles,{margin:25})}))};Template.displayName="Template";var Basic=Template.bind({});Basic.args={options:["Horizontal","Vertical"],label:"Custom label",orientation:"horizontal",labelPlacement:"end",minWidth:150,buttonColor:"primary",margins:["10em","0","0","10em"],itemMarginRight:50};var Renamed=Template.bind({});Renamed.args=Object.assign({},Basic.args,{optionLabels:["Sideways","Upright"]}),Basic.parameters=Object.assign({storySource:{source:"(args) => {\n  const [selectedOption, setSelectedOption] = useState('Horizontal');\n\n  return (\n    <RadioButtonGroup\n      {...args}\n      onOptionSelected={setSelectedOption}\n      selectedOption={selectedOption}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},Basic.parameters),Renamed.parameters=Object.assign({storySource:{source:"(args) => {\n  const [selectedOption, setSelectedOption] = useState('Horizontal');\n\n  return (\n    <RadioButtonGroup\n      {...args}\n      onOptionSelected={setSelectedOption}\n      selectedOption={selectedOption}\n      containerStyles={{ ...args.containerStyles, margin: 25 }}\n    />\n  );\n}"}},Renamed.parameters)},2690:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"Labelled",(function(){return Labelled})),__webpack_require__.d(__webpack_exports__,"FullyLabelled",(function(){return FullyLabelled})),__webpack_require__.d(__webpack_exports__,"FormattedTooltip",(function(){return FormattedTooltip})),__webpack_require__.d(__webpack_exports__,"CustomColors",(function(){return CustomColors})),__webpack_require__.d(__webpack_exports__,"CustomGradientColors",(function(){return CustomGradientColors})),__webpack_require__.d(__webpack_exports__,"AuxiliaryTextInput",(function(){return AuxiliaryTextInput})),__webpack_require__.d(__webpack_exports__,"AuxiliaryTextInputBigNum",(function(){return AuxiliaryTextInputBigNum})),__webpack_require__.d(__webpack_exports__,"AuxiliaryTextInputHugeNum",(function(){return AuxiliaryTextInputHugeNum}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(164),_constants_colors__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/Slider",component:_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_14__.a};var Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(args.value),2),value=_useState2[0],setValue=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){setValue(args.value)}),[args.value]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_components_widgets_Slider__WEBPACK_IMPORTED_MODULE_14__.a,Object.assign({},args,{value:value,onChange:function onChange(value){args.onChange(value),setValue(value)},containerStyles:Object.assign({},args.containerStyles,{padding:25})}))};Template.displayName="Template";var Basic=Template.bind({});Basic.args={minimum:0,maximum:255,value:1,containerStyles:{height:100,width:150},debounceRateMs:100},Basic.argTypes={onChange:{action:"Slider Value Changed"}};var Labelled=Template.bind({});Labelled.args=Object.assign({},Basic.args,{containerStyles:{height:100,width:300},label:"Widget Label"}),Labelled.argTypes=Object.assign({},Basic.argTypes);var FullyLabelled=Template.bind({});FullyLabelled.args=Object.assign({},Basic.args,{containerStyles:{height:100,width:300},label:"Widget Label",showLimits:!0}),FullyLabelled.argTypes=Object.assign({},Basic.argTypes);var FormattedTooltip=Template.bind({});FormattedTooltip.args=Object.assign({},Labelled.args,{valueFormatter:function valueFormatter(value){return"#"+value}}),FormattedTooltip.argTypes=Object.assign({},Basic.argTypes);var CustomColors=Template.bind({});CustomColors.args=Object.assign({},Labelled.args,{label:"Widget Label",colorSpec:{type:"singleColor",trackColor:_constants_colors__WEBPACK_IMPORTED_MODULE_15__.j,knobColor:_constants_colors__WEBPACK_IMPORTED_MODULE_15__.g,tooltip:_constants_colors__WEBPACK_IMPORTED_MODULE_15__.h}}),CustomColors.argTypes=Object.assign({},Basic.argTypes);var CustomGradientColors=Template.bind({});CustomGradientColors.args=Object.assign({},Labelled.args,{label:"Widget Label",colorSpec:{type:"gradient",trackGradientStart:_constants_colors__WEBPACK_IMPORTED_MODULE_15__.f,trackGradientEnd:_constants_colors__WEBPACK_IMPORTED_MODULE_15__.i,knobColor:_constants_colors__WEBPACK_IMPORTED_MODULE_15__.k,tooltip:_constants_colors__WEBPACK_IMPORTED_MODULE_15__.h}}),CustomGradientColors.argTypes=Object.assign({},Basic.argTypes);var AuxiliaryTextInput=Template.bind({});AuxiliaryTextInput.args=Object.assign({},Labelled.args,{minimum:0,maximum:11,containerStyles:{height:100,width:600},label:"Special Number",showTextInput:!0}),AuxiliaryTextInput.argTypes=Object.assign({},Basic.argTypes);var AuxiliaryTextInputBigNum=Template.bind({});AuxiliaryTextInputBigNum.args=Object.assign({},Labelled.args,{minimum:-1e4,maximum:1e4,containerStyles:{height:100,width:600},label:"Special Number",showTextInput:!0}),AuxiliaryTextInputBigNum.argTypes=Object.assign({},Basic.argTypes);var AuxiliaryTextInputHugeNum=Template.bind({});AuxiliaryTextInputHugeNum.args=Object.assign({},Labelled.args,{minimum:-1e8,maximum:1e8,containerStyles:{height:100,width:600},label:"Special Number",showTextInput:!0}),AuxiliaryTextInputHugeNum.argTypes=Object.assign({},Basic.argTypes),Basic.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},Basic.parameters),Labelled.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},Labelled.parameters),FullyLabelled.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},FullyLabelled.parameters),FormattedTooltip.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},FormattedTooltip.parameters),CustomColors.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},CustomColors.parameters),CustomGradientColors.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},CustomGradientColors.parameters),AuxiliaryTextInput.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},AuxiliaryTextInput.parameters),AuxiliaryTextInputBigNum.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},AuxiliaryTextInputBigNum.parameters),AuxiliaryTextInputHugeNum.parameters=Object.assign({storySource:{source:"(args) => {\n  const [value, setValue] = useState<number | undefined>(args.value);\n\n  // Play nice with Storybook controls.\n  useEffect(() => {\n    setValue(args.value);\n  }, [args.value]);\n\n  return (\n    <SliderWidget\n      {...args}\n      value={value}\n      onChange={(value) => {\n        args.onChange(value);\n        setValue(value);\n      }}\n      containerStyles={{ ...args.containerStyles, padding: 25 }}\n    />\n  );\n}"}},AuxiliaryTextInputHugeNum.parameters)},2698:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SomeCovidData",(function(){return SomeCovidData})),__webpack_require__.d(__webpack_exports__,"NoTitleFullWidth",(function(){return NoTitleFullWidth})),__webpack_require__.d(__webpack_exports__,"RangeSelection",(function(){return RangeSelection})),__webpack_require__.d(__webpack_exports__,"EventHoursNoControls",(function(){return EventHoursNoControls})),__webpack_require__.d(__webpack_exports__,"RepoMonthsNoControls",(function(){return RepoMonthsNoControls})),__webpack_require__.d(__webpack_exports__,"DateRangeSelection",(function(){return DateRangeSelection})),__webpack_require__.d(__webpack_exports__,"EmptyData",(function(){return Histogram_stories_EmptyData})),__webpack_require__.d(__webpack_exports__,"EmptyDataLoading",(function(){return Histogram_stories_EmptyDataLoading})),__webpack_require__.d(__webpack_exports__,"StaticDataWithRangeControls",(function(){return StaticDataWithRangeControls})),__webpack_require__.d(__webpack_exports__,"ShowValues",(function(){return ShowValues})),__webpack_require__.d(__webpack_exports__,"Faceted",(function(){return Faceted}));__webpack_require__(63),__webpack_require__(8),__webpack_require__(10),__webpack_require__(124),__webpack_require__(387),__webpack_require__(388),__webpack_require__(74),__webpack_require__(25),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react=__webpack_require__(0),Histogram=__webpack_require__(189),HistogramControls=__webpack_require__(280),AxisRangeControl=__webpack_require__(221);__webpack_require__(41),__webpack_require__(449),__webpack_require__(108);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var getDailyCovidStats=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var response,json;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch("https://api.covidactnow.org/v2/states.json?apiKey=c85ebdd1b2ad497cb8349e777867933d");case 2:return response=_context.sent,_context.next=5,response.json();case 5:return json=_context.sent,_context.abrupt("return",json);case 7:case"end":return _context.stop()}}),_callee)})));return function getDailyCovidStats(){return _ref.apply(this,arguments)}}(),binDailyCovidStats=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(binWidth){var selectedUnit,throwSampleErrors,includeExtraDirectives,statisticsByState,calculatedBinWidth,newCasesStats,lowNewCases,highNewCases,newCasesBins,index,binEnd,hospitalizedStats,lowHospitalized,highHospitalized,hospitalizationBins,_index,_binEnd,reducer,binnedData,objectToReturn,_args2=arguments;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return selectedUnit=_args2.length>1&&void 0!==_args2[1]?_args2[1]:"default",throwSampleErrors=_args2.length>2&&void 0!==_args2[2]&&_args2[2],includeExtraDirectives=_args2.length>3&&void 0!==_args2[3]&&_args2[3],_context2.next=5,getDailyCovidStats();case 5:if(statisticsByState=_context2.sent,calculatedBinWidth=binWidth||("Count per 100000 Residents"===selectedUnit?1:1e3),!throwSampleErrors||9e3!==calculatedBinWidth){_context2.next=11;break}throw new Error("Pretend error of not being able retrieve data from the backend.");case 11:if(!throwSampleErrors||4e3!==calculatedBinWidth){_context2.next=13;break}throw new Error("Pretend error of some random error with a moderately long message associated to it.");case 13:for(newCasesStats=statisticsByState.map((function(state){return"Count per 100000 Residents"===selectedUnit?state.actuals.newCases/(state.population/1e5):state.actuals.newCases})),lowNewCases=Math.min.apply(Math,_toConsumableArray(newCasesStats).concat([0])),highNewCases=Math.max.apply(Math,_toConsumableArray(newCasesStats)),newCasesBins=[],index=lowNewCases;index<highNewCases;index+=calculatedBinWidth)binEnd=index+calculatedBinWidth,newCasesBins.push({binStart:index,binEnd:binEnd,binLabel:index+" - "+binEnd,value:0});for(hospitalizedStats=statisticsByState.map((function(state){return"Count per 100000 Residents"===selectedUnit?state.actuals.hospitalBeds.currentUsageCovid/(state.population/1e5):state.actuals.hospitalBeds.currentUsageCovid})),lowHospitalized=Math.min.apply(Math,_toConsumableArray(hospitalizedStats)),highHospitalized=Math.max.apply(Math,_toConsumableArray(hospitalizedStats)),hospitalizationBins=[],_index=lowHospitalized;_index<highHospitalized;_index+=calculatedBinWidth)_binEnd=_index+calculatedBinWidth,hospitalizationBins.push({binStart:_index,binEnd:_binEnd,binLabel:_index+" - "+_binEnd,value:0});return reducer=function reducer(accumulator,currentValue){var stateNewCasesData="Count per 100000 Residents"===selectedUnit?currentValue.actuals.newCases/(currentValue.population/1e5):currentValue.actuals.newCases,matchingCasesBinIndex=newCasesBins.findIndex((function(bin){return bin.binStart>=stateNewCasesData}));-1!==matchingCasesBinIndex?newCasesBins[matchingCasesBinIndex].value=newCasesBins[matchingCasesBinIndex].value+1:newCasesBins[newCasesBins.length-1].value=newCasesBins[newCasesBins.length-1].value+1;var stateHospitalUsageData="Count per 100000 Residents"===selectedUnit?currentValue.actuals.hospitalBeds.currentUsageCovid/(currentValue.population/1e5):currentValue.actuals.hospitalBeds.currentUsageCovid,matchingBinIndex=hospitalizationBins.findIndex((function(bin){return bin.binStart>=stateHospitalUsageData}));return-1!==matchingBinIndex?hospitalizationBins[matchingBinIndex].value=hospitalizationBins[matchingBinIndex].value+1:hospitalizationBins[hospitalizationBins.length-1].value=hospitalizationBins[hospitalizationBins.length-1].value+1,accumulator},binnedData=statisticsByState.reduce(reducer,[{name:"Current Hospitalizations",bins:hospitalizationBins},{name:"New Cases",bins:newCasesBins}]),objectToReturn=Object.assign({valueType:"number",series:binnedData},includeExtraDirectives?{availableUnits:["Count","Count per 100000 Residents"],selectedUnit:"Count",binWidth:"Count per 100000 Residents"===selectedUnit?1:1e3,binWidthRange:"Count per 100000 Residents"===selectedUnit?{min:1,max:15}:{min:1e3,max:15e3},binWidthStep:"Count per 100000 Residents"===selectedUnit?1:500}:{}),_context2.abrupt("return",objectToReturn);case 27:case"end":return _context2.stop()}}),_callee2)})));return function binDailyCovidStats(_x){return _ref2.apply(this,arguments)}}(),date_arithmetic=(__webpack_require__(729),__webpack_require__(828),__webpack_require__(151),__webpack_require__(207),__webpack_require__(76),__webpack_require__(120));function githubDates_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function githubDates_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){githubDates_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){githubDates_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var getCreatedDateData=function(){var _ref=githubDates_asyncToGenerator(regeneratorRuntime.mark((function _callee(url){var response,json;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetch(url);case 3:if((response=_context.sent).ok){_context.next=6;break}throw new Error("Response not as expected. Probably exceeded API rate limit.");case 6:return _context.next=8,response.json();case 8:return json=_context.sent,_context.abrupt("return",json.map((function(item){return{id:item.id,date:item.created_at}})));case 12:return _context.prev=12,_context.t0=_context.catch(0),console.log(_context.t0.message),_context.abrupt("return",void 0);case 16:case"end":return _context.stop()}}),_callee,null,[[0,12]])})));return function getCreatedDateData(_x){return _ref.apply(this,arguments)}}(),binGithubEventDates=function(){var _ref3=githubDates_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref2){var url,unit,binWidth,numBins,eventData,dates,rawFirstDate,firstDate,lastDate,bins,calculatedBinWidth,date,binEnd,objectToReturn;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return url=_ref2.url,unit=_ref2.unit,binWidth=_ref2.binWidth,numBins=_ref2.numBins,_context2.next=3,getCreatedDateData(url);case 3:if(null!=(eventData=_context2.sent)){_context2.next=6;break}return _context2.abrupt("return",void 0);case 6:for(dates=eventData.map((function(event){return event.date})).sort(),rawFirstDate=dates[0],firstDate="week"===unit?date_arithmetic.c(new Date(rawFirstDate),unit,0).toISOString():date_arithmetic.c(new Date(rawFirstDate),unit).toISOString(),lastDate=dates[dates.length-1],bins=[],calculatedBinWidth=binWidth||(numBins?{value:Math.max(1,Math.floor(date_arithmetic.b(new Date(firstDate),new Date(lastDate),unit,!0)/numBins)),unit:unit}:{value:1,unit:unit}),date=firstDate;date<lastDate;date=date_arithmetic.a(new Date(date),calculatedBinWidth.value,calculatedBinWidth.unit).toISOString())binEnd=date_arithmetic.a(new Date(date),calculatedBinWidth.value,calculatedBinWidth.unit),bins.push({binStart:date,binEnd:binEnd.toISOString(),binLabel:date+" - "+binEnd,value:0});return dates.forEach((function(date){var matchingBinIndex=bins.findIndex((function(bin){return date<bin.binStart}));matchingBinIndex<0?bins[bins.length-1].value+=1:bins[matchingBinIndex-1].value+=1})),objectToReturn={series:[{name:"Count of events",bins:bins}],valueType:"date"},_context2.abrupt("return",objectToReturn);case 16:case"end":return _context2.stop()}}),_callee2)})));return function binGithubEventDates(_x2){return _ref3.apply(this,arguments)}}(),FacetedPlot=__webpack_require__(157),jsx_runtime=__webpack_require__(1),defaultContainerStyles={height:300,width:375,marginBottom:"0.25rem",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066"},defaultSpacingOptions={marginRight:10,marginLeft:10,marginBottom:10,marginTop:50},FacetedHistogram_FacetedHistogram=function FacetedHistogram(facetedHistogramProps){var _componentProps$conta,_componentProps$spaci,componentProps=facetedHistogramProps.componentProps;return Object(jsx_runtime.jsx)(FacetedPlot.a,Object.assign({component:Histogram.a},facetedHistogramProps,{componentProps:Object.assign({},componentProps,{containerStyles:null!==(_componentProps$conta=componentProps.containerStyles)&&void 0!==_componentProps$conta?_componentProps$conta:defaultContainerStyles,spacingOptions:null!==(_componentProps$spaci=componentProps.spacingOptions)&&void 0!==_componentProps$spaci?_componentProps$spaci:defaultSpacingOptions})}))};FacetedHistogram_FacetedHistogram.displayName="FacetedHistogram";var facetedPlots_FacetedHistogram=FacetedHistogram_FacetedHistogram;try{FacetedHistogram_FacetedHistogram.displayName="FacetedHistogram",FacetedHistogram_FacetedHistogram.__docgenInfo={description:"",displayName:"FacetedHistogram",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"FacetedData<HistogramData>"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!0,type:{name:"HistogramProps"}},modalComponentProps:{defaultValue:null,description:"Provide modalComponentProps to activate click-to-expand\nThese are the props the expanded plot inside the modal will receive",name:"modalComponentProps",required:!1,type:{name:"HistogramProps"}},facetedPlotRef:{defaultValue:null,description:"",name:"facetedPlotRef",required:!1,type:{name:"Ref<FacetedPlotRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/facetedPlots/FacetedHistogram.tsx#FacetedHistogram"]={docgenInfo:FacetedHistogram_FacetedHistogram.__docgenInfo,name:"FacetedHistogram",path:"src/plots/facetedPlots/FacetedHistogram.tsx#FacetedHistogram"})}catch(__react_docgen_typescript_loader_error){}function Histogram_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Histogram_stories_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Histogram_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){Histogram_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Histogram_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Histogram_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Histogram_stories_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Histogram_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Plots/Histogram",component:Histogram.a};var Histogram_stories_TemplateWithMinimalControls=function TemplateWithMinimalControls(args){var _useState2=_slicedToArray(Object(react.useState)(),2),data=_useState2[0],setData=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(500),2),binWidth=_useState4[0],setBinWidth=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(!0),2),loading=_useState6[0],setLoading=_useState6[1],handleBinWidthChange=function(){var _ref=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee(newBinWidth){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:newBinWidth>0&&setBinWidth(newBinWidth);case 1:case"end":return _context.stop()}}),_callee)})));return function handleBinWidthChange(_x){return _ref.apply(this,arguments)}}();return Object(react.useEffect)((function(){return setLoading(!0),binDailyCovidStats(binWidth).then((function(data){setData(data),setLoading(!1)})),function(){return setLoading(!1)}}),[binWidth]),Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)(Histogram.a,Object.assign({data:data},args,{showSpinner:loading})),Object(jsx_runtime.jsx)("div",{style:{height:25}}),Object(jsx_runtime.jsx)(HistogramControls.a,{label:"Histogram Controls",valueType:"number",binWidthRange:{min:100,max:1e3},binWidthStep:100,binWidth:binWidth,onBinWidthChange:handleBinWidthChange})]})};Histogram_stories_TemplateWithMinimalControls.displayName="TemplateWithMinimalControls";var SomeCovidData=Histogram_stories_TemplateWithMinimalControls.bind({});SomeCovidData.args={title:"Some Current Covid Data in U.S. States",containerStyles:{height:"400px",width:"800px"}};var NoTitleFullWidth=Histogram_stories_TemplateWithMinimalControls.bind({});NoTitleFullWidth.args={containerStyles:{},spacingOptions:{marginTop:20,marginBottom:20},interactive:!1};var Histogram_stories_TemplateWithSelectedRangeControls=function TemplateWithSelectedRangeControls(args){var _useState8=_slicedToArray(Object(react.useState)(),2),data=_useState8[0],setData=_useState8[1],_useState10=_slicedToArray(Object(react.useState)(500),2),binWidth=_useState10[0],setBinWidth=_useState10[1],_useState12=_slicedToArray(Object(react.useState)(),2),selectedRange=_useState12[0],setSelectedRange=_useState12[1],_useState14=_slicedToArray(Object(react.useState)(!0),2),loading=_useState14[0],setLoading=_useState14[1],_useState16=_slicedToArray(Object(react.useState)(),2),independentAxisRange=_useState16[0],setIndependentAxisRange=_useState16[1],handleBinWidthChange=function(){var _ref2=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee2(newBinWidth){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:newBinWidth>0&&setBinWidth(newBinWidth);case 1:case"end":return _context2.stop()}}),_callee2)})));return function handleBinWidthChange(_x2){return _ref2.apply(this,arguments)}}(),handleSelectedRangeChange=function(){var _ref3=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee3(newRange){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:setSelectedRange(newRange);case 1:case"end":return _context3.stop()}}),_callee3)})));return function handleSelectedRangeChange(_x3){return _ref3.apply(this,arguments)}}(),handleIndependentAxisRangeChange=function(){var _ref4=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee4(newRange){return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:setIndependentAxisRange(newRange);case 1:case"end":return _context4.stop()}}),_callee4)})));return function handleIndependentAxisRangeChange(_x4){return _ref4.apply(this,arguments)}}();return Object(react.useEffect)((function(){return setLoading(!0),binDailyCovidStats(binWidth).then((function(data){setData(data),setLoading(!1)})),function(){return setLoading(!1)}}),[binWidth]),Object(react.useEffect)((function(){selectedRange&&console.log("The story received a new range: "+selectedRange.min+" to "+selectedRange.max)}),[selectedRange]),Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)(Histogram.a,Object.assign({data:data},args,{showSpinner:loading,interactive:!0,selectedRange:selectedRange,onSelectedRangeChange:handleSelectedRangeChange,independentAxisRange:independentAxisRange})),Object(jsx_runtime.jsx)("div",{style:{height:25}}),Object(jsx_runtime.jsx)(HistogramControls.a,{label:"Histogram Controls",valueType:"number",binWidthRange:{min:100,max:1e3},binWidthStep:100,binWidth:binWidth,onBinWidthChange:handleBinWidthChange,selectedRange:selectedRange,onSelectedRangeChange:handleSelectedRangeChange}),Object(jsx_runtime.jsx)(AxisRangeControl.a,{label:"Manual x-range control (you can only set it wider than data range)",range:independentAxisRange,onRangeChange:handleIndependentAxisRangeChange})]})};Histogram_stories_TemplateWithSelectedRangeControls.displayName="TemplateWithSelectedRangeControls";var RangeSelection=Histogram_stories_TemplateWithSelectedRangeControls.bind({});RangeSelection.args={title:"Some Current Covid Data in U.S. States",containerStyles:{height:"400px",width:"800px"}};var Histogram_stories_SimpleDateTemplate=function SimpleDateTemplate(args,_ref5){var apiData=_ref5.loaded.apiData;return Object(jsx_runtime.jsx)(Histogram.a,Object.assign({},args,{data:apiData}))};Histogram_stories_SimpleDateTemplate.displayName="SimpleDateTemplate";var EventHoursNoControls=Histogram_stories_SimpleDateTemplate.bind({});EventHoursNoControls.args={title:"Recent VEuPathDB github events",containerStyles:{height:"400px",width:"800px"}},EventHoursNoControls.loaders=[Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,binGithubEventDates({numBins:10,url:"https://api.github.com/users/VEuPathDB/events?per_page=50",unit:"hours"});case 2:return _context5.t0=_context5.sent,_context5.abrupt("return",{apiData:_context5.t0});case 4:case"end":return _context5.stop()}}),_callee5)})))];var RepoMonthsNoControls=Histogram_stories_SimpleDateTemplate.bind({});RepoMonthsNoControls.args={title:"VEuPathDB github repo creation dates",containerStyles:{height:"400px",width:"800px"}},RepoMonthsNoControls.loaders=[Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,binGithubEventDates({numBins:10,url:"https://api.github.com/users/VEuPathDB/repos?sort=created",unit:"month"});case 2:return _context6.t0=_context6.sent,_context6.abrupt("return",{apiData:_context6.t0});case 4:case"end":return _context6.stop()}}),_callee6)})))];var Histogram_stories_TemplateWithSelectedDateRangeControls=function TemplateWithSelectedDateRangeControls(args){var _useState18=_slicedToArray(Object(react.useState)(),2),data=_useState18[0],setData=_useState18[1],_useState20=_slicedToArray(Object(react.useState)(),2),selectedRange=_useState20[0],setSelectedRange=_useState20[1],_useState22=_slicedToArray(Object(react.useState)(!0),2),loading=_useState22[0],setLoading=_useState22[1],_useState24=_slicedToArray(Object(react.useState)(),2),independentAxisRange=_useState24[0],setIndependentAxisRange=_useState24[1],_useState26=_slicedToArray(Object(react.useState)({value:1,unit:"month"}),2),binWidth=_useState26[0],setBinWidth=_useState26[1],unit=binWidth.unit,handleSelectedRangeChange=function(){var _ref8=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee7(newRange){return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:setSelectedRange(newRange);case 1:case"end":return _context7.stop()}}),_callee7)})));return function handleSelectedRangeChange(_x5){return _ref8.apply(this,arguments)}}(),handleUnitChange=function(){var _ref9=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee8(newUnit){var oldValue,newValue;return regeneratorRuntime.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:oldValue=binWidth.value,newValue="week"===newUnit?4*oldValue:oldValue/4,setBinWidth({value:Math.floor(Math.max(1,newValue)),unit:newUnit});case 3:case"end":return _context8.stop()}}),_callee8)})));return function handleUnitChange(_x6){return _ref9.apply(this,arguments)}}(),handleBinWidthChange=function(){var _ref10=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee9(newBinWidth){return regeneratorRuntime.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",setBinWidth(newBinWidth));case 1:case"end":return _context9.stop()}}),_callee9)})));return function handleBinWidthChange(_x7){return _ref10.apply(this,arguments)}}(),handleIndependentAxisRangeChange=function(){var _ref11=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee10(newRange){return regeneratorRuntime.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:setIndependentAxisRange(newRange);case 1:case"end":return _context10.stop()}}),_callee10)})));return function handleIndependentAxisRangeChange(_x8){return _ref11.apply(this,arguments)}}();return Object(react.useEffect)((function(){setLoading(!0),binGithubEventDates({url:"https://api.github.com/users/VEuPathDB/repos?sort=created",unit:"week"===unit?"week":"month",binWidth:binWidth}).then((function(data){setData(data),setLoading(!1)}))}),[binWidth]),Object(react.useEffect)((function(){selectedRange&&console.log("The story received a new range: "+selectedRange.min+" to "+selectedRange.max)}),[selectedRange]),Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)(Histogram.a,Object.assign({data:data},args,{showSpinner:loading,selectedRange:selectedRange,onSelectedRangeChange:handleSelectedRangeChange,independentAxisRange:independentAxisRange})),Object(jsx_runtime.jsx)("div",{style:{height:25}}),Object(jsx_runtime.jsx)(HistogramControls.a,{valueType:"date",selectedRange:selectedRange,onSelectedRangeChange:handleSelectedRangeChange,binWidth:binWidth,onBinWidthChange:handleBinWidthChange,binWidthRange:"month"===unit?{min:1,max:12,unit:"month"}:{min:1,max:52,unit:"week"},selectedUnit:unit,availableUnits:["week","month"],onSelectedUnitChange:handleUnitChange}),Object(jsx_runtime.jsx)(AxisRangeControl.a,{label:"Manual x-range control (you can only set it wider than data range)",range:independentAxisRange,onRangeChange:handleIndependentAxisRangeChange,valueType:"date"})]})};Histogram_stories_TemplateWithSelectedDateRangeControls.displayName="TemplateWithSelectedDateRangeControls";var DateRangeSelection=Histogram_stories_TemplateWithSelectedDateRangeControls.bind({});DateRangeSelection.args={title:"VEuPathDB github repo creation dates",containerStyles:{height:"400px",width:"800px"},interactive:!0},DateRangeSelection.loaders=[Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee11(){return regeneratorRuntime.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=2,binGithubEventDates({numBins:10,url:"https://api.github.com/users/VEuPathDB/repos?sort=created",unit:"month"});case 2:return _context11.t0=_context11.sent,_context11.abrupt("return",{apiData:_context11.t0});case 4:case"end":return _context11.stop()}}),_callee11)})))];var Histogram_stories_EmptyData=function EmptyData(args){return Object(jsx_runtime.jsx)(Histogram.a,Object.assign({},args))};Histogram_stories_EmptyData.displayName="EmptyData",Histogram_stories_EmptyData.args={containerStyles:{height:"400px",width:"800px"},barLayout:"stack",orientation:"vertical"};var Histogram_stories_EmptyDataLoading=function EmptyDataLoading(args){return Object(jsx_runtime.jsx)(Histogram.a,Object.assign({},args))};Histogram_stories_EmptyDataLoading.displayName="EmptyDataLoading",Histogram_stories_EmptyDataLoading.args=Object.assign({},Histogram_stories_EmptyData.args,{showSpinner:!0});var Histogram_stories_TemplateStaticWithRangeControls=function TemplateStaticWithRangeControls(args){var _useState28=_slicedToArray(Object(react.useState)(),2),dependentAxisRange=_useState28[0],setDependentAxisRange=_useState28[1],_useState30=_slicedToArray(Object(react.useState)(),2),independentAxisRange=_useState30[0],setIndependentAxisRange=_useState30[1],_useState32=_slicedToArray(Object(react.useState)({}),2),axisTruncationConfig=_useState32[0],setAxisTruncationConfig=_useState32[1],handleDependentAxisRangeChange=function(){var _ref13=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee12(newRange){return regeneratorRuntime.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:setDependentAxisRange(newRange);case 1:case"end":return _context12.stop()}}),_callee12)})));return function handleDependentAxisRangeChange(_x9){return _ref13.apply(this,arguments)}}(),handleIndependentAxisRangeChange=function(){var _ref14=Histogram_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee13(newRange){return regeneratorRuntime.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:setIndependentAxisRange(newRange);case 1:case"end":return _context13.stop()}}),_callee13)})));return function handleIndependentAxisRangeChange(_x10){return _ref14.apply(this,arguments)}}();return Object(react.useEffect)((function(){if(null!=args.data){var allBins=args.data.series.flatMap((function(series){return series.bins})),leftTruncated=null!=(null==independentAxisRange?void 0:independentAxisRange.min)&&allBins.filter((function(bin){return independentAxisRange.min>=bin.binStart})).length>1,rightTruncated=null!=(null==independentAxisRange?void 0:independentAxisRange.max)&&allBins.filter((function(bin){return independentAxisRange.max<=bin.binEnd})).length>1,xFilteredBins=allBins.filter((function(bin){return(null==(null==independentAxisRange?void 0:independentAxisRange.min)||bin.binEnd>(null==independentAxisRange?void 0:independentAxisRange.min))&&(null==(null==independentAxisRange?void 0:independentAxisRange.max)||bin.binStart<(null==independentAxisRange?void 0:independentAxisRange.max))})),topTruncated=null!=(null==dependentAxisRange?void 0:dependentAxisRange.max)&&xFilteredBins.filter((function(bin){return bin.value>dependentAxisRange.max})).length>0,bottomTruncated=null!=(null==dependentAxisRange?void 0:dependentAxisRange.min)&&xFilteredBins.filter((function(bin){return bin.value<dependentAxisRange.min})).length>0;setAxisTruncationConfig({independentAxis:{min:leftTruncated,max:rightTruncated},dependentAxis:{min:bottomTruncated,max:topTruncated}})}else setAxisTruncationConfig({})}),[args.data,dependentAxisRange,independentAxisRange]),Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)(Histogram.a,Object.assign({},args,{axisTruncationConfig:axisTruncationConfig,independentAxisRange:independentAxisRange,dependentAxisRange:dependentAxisRange})),Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[Object(jsx_runtime.jsx)(AxisRangeControl.a,{label:"Y-Axis Range",range:dependentAxisRange,onRangeChange:handleDependentAxisRangeChange}),Object(jsx_runtime.jsx)(AxisRangeControl.a,{label:"X-Axis Range",range:independentAxisRange,onRangeChange:handleIndependentAxisRangeChange})]})]})};Histogram_stories_TemplateStaticWithRangeControls.displayName="TemplateStaticWithRangeControls";var staticData={series:[{name:"penguins",bins:[0,42,11,99,23,7,9].map((function(num,index){return{binStart:index+1,binEnd:index+2,binLabel:index+1+" to "+(index+2),value:num}}))}]},StaticDataWithRangeControls=Histogram_stories_TemplateStaticWithRangeControls.bind({});StaticDataWithRangeControls.args={data:staticData,interactive:!0};var ShowValues=Histogram_stories_TemplateStaticWithRangeControls.bind({});ShowValues.args={data:{series:[{name:"penguins",bins:[0,42,11,99,23,7,9].map((function(num,index){return{binStart:index+1,binEnd:index+2,binLabel:index+1+" to "+(index+2),value:num/10}}))}]},interactive:!0,showValues:!0};var facetedData={facets:[{label:"Emperor",data:staticData},{label:"Gentoo",data:staticData},{label:"Rockhopper",data:staticData},{label:"African",data:staticData},{label:"Madagascar"},{label:"No data",data:staticData}]},Histogram_stories_FacetedTemplate=function FacetedTemplate(_ref15){var data=_ref15.data,componentProps=_ref15.componentProps,modalComponentProps=_ref15.modalComponentProps;return Object(jsx_runtime.jsx)(facetedPlots_FacetedHistogram,{data:data,componentProps:componentProps,modalComponentProps:modalComponentProps})};Histogram_stories_FacetedTemplate.displayName="FacetedTemplate";var Faceted=Histogram_stories_FacetedTemplate.bind({});Faceted.args={data:facetedData,componentProps:{title:"Penguins",containerStyles:{width:300,height:300,border:"1px solid #dadada"}},modalComponentProps:{containerStyles:{width:"85%",height:"100%",margin:"auto"}}},SomeCovidData.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  const [data, setData] = useState<HistogramData>();\n  const [binWidth, setBinWidth] = useState<number>(500);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  const handleBinWidthChange = async (newBinWidth: NumberOrTimeDelta) => {\n    if (newBinWidth > 0) {\n      setBinWidth(newBinWidth as number);\n    }\n  };\n\n  // keep `data` up to date\n  useEffect(() => {\n    setLoading(true);\n    binDailyCovidStats(binWidth).then((data) => {\n      setData(data);\n      setLoading(false);\n    });\n    return () => setLoading(false);\n  }, [binWidth]);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Histogram data={data} {...args} showSpinner={loading} />\n      <div style={{ height: 25 }} />\n      <HistogramControls\n        label=\"Histogram Controls\"\n        valueType=\"number\"\n        binWidthRange={{ min: 100, max: 1000 }}\n        binWidthStep={100}\n        binWidth={binWidth}\n        onBinWidthChange={handleBinWidthChange}\n      />\n    </div>\n  );\n}"}},SomeCovidData.parameters),NoTitleFullWidth.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  const [data, setData] = useState<HistogramData>();\n  const [binWidth, setBinWidth] = useState<number>(500);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  const handleBinWidthChange = async (newBinWidth: NumberOrTimeDelta) => {\n    if (newBinWidth > 0) {\n      setBinWidth(newBinWidth as number);\n    }\n  };\n\n  // keep `data` up to date\n  useEffect(() => {\n    setLoading(true);\n    binDailyCovidStats(binWidth).then((data) => {\n      setData(data);\n      setLoading(false);\n    });\n    return () => setLoading(false);\n  }, [binWidth]);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Histogram data={data} {...args} showSpinner={loading} />\n      <div style={{ height: 25 }} />\n      <HistogramControls\n        label=\"Histogram Controls\"\n        valueType=\"number\"\n        binWidthRange={{ min: 100, max: 1000 }}\n        binWidthStep={100}\n        binWidth={binWidth}\n        onBinWidthChange={handleBinWidthChange}\n      />\n    </div>\n  );\n}"}},NoTitleFullWidth.parameters),RangeSelection.parameters=Object.assign({storySource:{source:'(\n  args\n) => {\n  const [data, setData] = useState<HistogramData>();\n  const [binWidth, setBinWidth] = useState<number>(500);\n  const [selectedRange, setSelectedRange] = useState<NumberOrDateRange>();\n  const [loading, setLoading] = useState<boolean>(true);\n  const [\n    independentAxisRange,\n    setIndependentAxisRange,\n  ] = useState<NumberOrDateRange>();\n\n  const handleBinWidthChange = async (newBinWidth: NumberOrTimeDelta) => {\n    if (newBinWidth > 0) {\n      setBinWidth(newBinWidth as number);\n    }\n  };\n\n  const handleSelectedRangeChange = async (newRange?: NumberOrDateRange) => {\n    setSelectedRange(newRange);\n  };\n\n  const handleIndependentAxisRangeChange = async (\n    newRange?: NumberOrDateRange\n  ) => {\n    setIndependentAxisRange(newRange);\n  };\n\n  // keep `data` up to date\n  useEffect(() => {\n    setLoading(true);\n    binDailyCovidStats(binWidth).then((data) => {\n      setData(data);\n      setLoading(false);\n    });\n    return () => setLoading(false);\n  }, [binWidth]);\n\n  // report changes on the histogram\'s selected range.\n  useEffect(() => {\n    if (selectedRange) {\n      console.log(\n        `The story received a new range: ${selectedRange.min} to ${selectedRange.max}`\n      );\n    }\n  }, [selectedRange]);\n\n  return (\n    <div style={{ display: \'flex\', flexDirection: \'column\' }}>\n      <Histogram\n        data={data}\n        {...args}\n        showSpinner={loading}\n        interactive={true}\n        selectedRange={selectedRange}\n        onSelectedRangeChange={handleSelectedRangeChange}\n        independentAxisRange={independentAxisRange}\n      />\n      <div style={{ height: 25 }} />\n      <HistogramControls\n        label="Histogram Controls"\n        valueType="number"\n        binWidthRange={{ min: 100, max: 1000 }}\n        binWidthStep={100}\n        binWidth={binWidth}\n        onBinWidthChange={handleBinWidthChange}\n        selectedRange={selectedRange}\n        onSelectedRangeChange={handleSelectedRangeChange}\n      />\n      <AxisRangeControl\n        label="Manual x-range control (you can only set it wider than data range)"\n        range={independentAxisRange}\n        onRangeChange={handleIndependentAxisRangeChange}\n      />\n    </div>\n  );\n}'}},RangeSelection.parameters),EventHoursNoControls.parameters=Object.assign({storySource:{source:"(\n  args,\n  { loaded: { apiData } }\n) => {\n  return <Histogram {...args} data={apiData} />;\n}"}},EventHoursNoControls.parameters),RepoMonthsNoControls.parameters=Object.assign({storySource:{source:"(\n  args,\n  { loaded: { apiData } }\n) => {\n  return <Histogram {...args} data={apiData} />;\n}"}},RepoMonthsNoControls.parameters),DateRangeSelection.parameters=Object.assign({storySource:{source:"(args) => {\n  const [data, setData] = useState<HistogramData>();\n  const [selectedRange, setSelectedRange] = useState<NumberOrDateRange>();\n  const [loading, setLoading] = useState<boolean>(true);\n  const [\n    independentAxisRange,\n    setIndependentAxisRange,\n  ] = useState<NumberOrDateRange>();\n  const [binWidth, setBinWidth] = useState<NumberOrTimeDelta>({\n    value: 1,\n    unit: 'month',\n  });\n  const unit = (binWidth as TimeDelta).unit;\n\n  const handleSelectedRangeChange = async (newRange?: NumberOrDateRange) => {\n    setSelectedRange(newRange);\n  };\n\n  const handleUnitChange = async (newUnit: string) => {\n    const oldValue: number = (binWidth as TimeDelta).value;\n    const newValue = newUnit === 'week' ? oldValue * 4 : oldValue / 4;\n    setBinWidth({ value: Math.floor(Math.max(1, newValue)), unit: newUnit });\n  };\n\n  const handleBinWidthChange = async (newBinWidth: NumberOrTimeDelta) =>\n    setBinWidth(newBinWidth);\n\n  const handleIndependentAxisRangeChange = async (\n    newRange?: NumberOrDateRange\n  ) => {\n    setIndependentAxisRange(newRange);\n  };\n\n  // keep `data` up to date\n  useEffect(() => {\n    setLoading(true);\n    binGithubEventDates({\n      url: 'https://api.github.com/users/VEuPathDB/repos?sort=created',\n      unit: unit === 'week' ? 'week' : 'month', // just to get round type issue\n      binWidth: binWidth as TimeDelta,\n    }).then((data) => {\n      setData(data);\n      setLoading(false);\n    });\n  }, [binWidth]);\n\n  // report changes on the histogram's selected range.\n  useEffect(() => {\n    if (selectedRange) {\n      console.log(\n        `The story received a new range: ${selectedRange.min} to ${selectedRange.max}`\n      );\n    }\n  }, [selectedRange]);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Histogram\n        data={data}\n        {...args}\n        showSpinner={loading}\n        selectedRange={selectedRange}\n        onSelectedRangeChange={handleSelectedRangeChange}\n        independentAxisRange={independentAxisRange}\n      />\n      <div style={{ height: 25 }} />\n      <HistogramControls\n        valueType=\"date\"\n        selectedRange={selectedRange}\n        onSelectedRangeChange={handleSelectedRangeChange}\n        binWidth={binWidth}\n        onBinWidthChange={handleBinWidthChange}\n        binWidthRange={\n          unit === 'month'\n            ? { min: 1, max: 12, unit: 'month' }\n            : { min: 1, max: 52, unit: 'week' }\n        }\n        selectedUnit={unit}\n        availableUnits={['week', 'month']}\n        onSelectedUnitChange={handleUnitChange}\n      />\n      <AxisRangeControl\n        label=\"Manual x-range control (you can only set it wider than data range)\"\n        range={independentAxisRange}\n        onRangeChange={handleIndependentAxisRangeChange}\n        valueType=\"date\"\n      />\n    </div>\n  );\n}"}},DateRangeSelection.parameters),Histogram_stories_EmptyData.parameters=Object.assign({storySource:{source:"(args) => (\n  <Histogram {...args} />\n)"}},Histogram_stories_EmptyData.parameters),Histogram_stories_EmptyDataLoading.parameters=Object.assign({storySource:{source:"(args) => (\n  <Histogram {...args} />\n)"}},Histogram_stories_EmptyDataLoading.parameters),StaticDataWithRangeControls.parameters=Object.assign({storySource:{source:"(args) => {\n  const [dependentAxisRange, setDependentAxisRange] = useState<NumberRange>();\n  const [\n    independentAxisRange,\n    setIndependentAxisRange,\n  ] = useState<NumberOrDateRange>();\n\n  const [\n    axisTruncationConfig,\n    setAxisTruncationConfig,\n  ] = useState<AxisTruncationConfig>({});\n\n  const handleDependentAxisRangeChange = async (\n    newRange?: NumberOrDateRange\n  ) => {\n    setDependentAxisRange(newRange as NumberRange);\n  };\n\n  const handleIndependentAxisRangeChange = async (\n    newRange?: NumberOrDateRange\n  ) => {\n    setIndependentAxisRange(newRange);\n  };\n\n  // here we figure out if any of the axes are truncated\n  useEffect(() => {\n    if (args.data == null) {\n      setAxisTruncationConfig({});\n      return;\n    }\n\n    const allBins = args.data.series.flatMap((series) => series.bins);\n\n    // if min is to the right of more than one binStart\n    // then it's left-truncated. (Histogram now adjusts the x-range to include partially cut off bins.)\n    const leftTruncated =\n      independentAxisRange?.min != null &&\n      allBins.filter((bin) => independentAxisRange.min >= bin.binStart).length >\n        1;\n\n    // if max is to the left of more than one binEnd\n    // then it's right-truncated. (Histogram now adjusts the x-range to include partially cut off bins.)\n    const rightTruncated =\n      independentAxisRange?.max != null &&\n      allBins.filter((bin) => independentAxisRange.max <= bin.binEnd).length >\n        1;\n\n    // filter to keep only bins that would be kept on the x-axis\n    const xFilteredBins = allBins.filter(\n      (bin) =>\n        (independentAxisRange?.min == null ||\n          bin.binEnd > independentAxisRange?.min) &&\n        (independentAxisRange?.max == null ||\n          bin.binStart < independentAxisRange?.max)\n    );\n\n    const topTruncated =\n      dependentAxisRange?.max != null &&\n      xFilteredBins.filter((bin) => bin.value > dependentAxisRange.max).length >\n        0;\n\n    const bottomTruncated =\n      dependentAxisRange?.min != null &&\n      xFilteredBins.filter((bin) => bin.value < dependentAxisRange.min).length >\n        0;\n\n    setAxisTruncationConfig({\n      independentAxis: { min: leftTruncated, max: rightTruncated },\n      dependentAxis: { min: bottomTruncated, max: topTruncated },\n    });\n  }, [args.data, dependentAxisRange, independentAxisRange]);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Histogram\n        {...args}\n        axisTruncationConfig={axisTruncationConfig}\n        independentAxisRange={independentAxisRange}\n        dependentAxisRange={dependentAxisRange}\n      />\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'space-around',\n        }}\n      >\n        <AxisRangeControl\n          label=\"Y-Axis Range\"\n          range={dependentAxisRange}\n          onRangeChange={handleDependentAxisRangeChange}\n        />\n        <AxisRangeControl\n          label=\"X-Axis Range\"\n          range={independentAxisRange}\n          onRangeChange={handleIndependentAxisRangeChange}\n        />\n      </div>\n    </div>\n  );\n}"}},StaticDataWithRangeControls.parameters),ShowValues.parameters=Object.assign({storySource:{source:"(args) => {\n  const [dependentAxisRange, setDependentAxisRange] = useState<NumberRange>();\n  const [\n    independentAxisRange,\n    setIndependentAxisRange,\n  ] = useState<NumberOrDateRange>();\n\n  const [\n    axisTruncationConfig,\n    setAxisTruncationConfig,\n  ] = useState<AxisTruncationConfig>({});\n\n  const handleDependentAxisRangeChange = async (\n    newRange?: NumberOrDateRange\n  ) => {\n    setDependentAxisRange(newRange as NumberRange);\n  };\n\n  const handleIndependentAxisRangeChange = async (\n    newRange?: NumberOrDateRange\n  ) => {\n    setIndependentAxisRange(newRange);\n  };\n\n  // here we figure out if any of the axes are truncated\n  useEffect(() => {\n    if (args.data == null) {\n      setAxisTruncationConfig({});\n      return;\n    }\n\n    const allBins = args.data.series.flatMap((series) => series.bins);\n\n    // if min is to the right of more than one binStart\n    // then it's left-truncated. (Histogram now adjusts the x-range to include partially cut off bins.)\n    const leftTruncated =\n      independentAxisRange?.min != null &&\n      allBins.filter((bin) => independentAxisRange.min >= bin.binStart).length >\n        1;\n\n    // if max is to the left of more than one binEnd\n    // then it's right-truncated. (Histogram now adjusts the x-range to include partially cut off bins.)\n    const rightTruncated =\n      independentAxisRange?.max != null &&\n      allBins.filter((bin) => independentAxisRange.max <= bin.binEnd).length >\n        1;\n\n    // filter to keep only bins that would be kept on the x-axis\n    const xFilteredBins = allBins.filter(\n      (bin) =>\n        (independentAxisRange?.min == null ||\n          bin.binEnd > independentAxisRange?.min) &&\n        (independentAxisRange?.max == null ||\n          bin.binStart < independentAxisRange?.max)\n    );\n\n    const topTruncated =\n      dependentAxisRange?.max != null &&\n      xFilteredBins.filter((bin) => bin.value > dependentAxisRange.max).length >\n        0;\n\n    const bottomTruncated =\n      dependentAxisRange?.min != null &&\n      xFilteredBins.filter((bin) => bin.value < dependentAxisRange.min).length >\n        0;\n\n    setAxisTruncationConfig({\n      independentAxis: { min: leftTruncated, max: rightTruncated },\n      dependentAxis: { min: bottomTruncated, max: topTruncated },\n    });\n  }, [args.data, dependentAxisRange, independentAxisRange]);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Histogram\n        {...args}\n        axisTruncationConfig={axisTruncationConfig}\n        independentAxisRange={independentAxisRange}\n        dependentAxisRange={dependentAxisRange}\n      />\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'space-around',\n        }}\n      >\n        <AxisRangeControl\n          label=\"Y-Axis Range\"\n          range={dependentAxisRange}\n          onRangeChange={handleDependentAxisRangeChange}\n        />\n        <AxisRangeControl\n          label=\"X-Axis Range\"\n          range={independentAxisRange}\n          onRangeChange={handleIndependentAxisRangeChange}\n        />\n      </div>\n    </div>\n  );\n}"}},ShowValues.parameters),Faceted.parameters=Object.assign({storySource:{source:"({\n  data,\n  componentProps,\n  modalComponentProps,\n}) => (\n  <FacetedHistogram\n    data={data}\n    componentProps={componentProps}\n    modalComponentProps={modalComponentProps}\n  />\n)"}},Faceted.parameters)},2700:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"singleDataset",(function(){return Boxplot_stories_singleDataset})),__webpack_require__.d(__webpack_exports__,"multipleDataset",(function(){return Boxplot_stories_multipleDataset})),__webpack_require__.d(__webpack_exports__,"yearDataset",(function(){return Boxplot_stories_yearDataset})),__webpack_require__.d(__webpack_exports__,"EmptyLoading",(function(){return EmptyLoading})),__webpack_require__.d(__webpack_exports__,"WithStorybookControl",(function(){return WithStorybookControl})),__webpack_require__.d(__webpack_exports__,"EmptyCategoryData",(function(){return EmptyCategoryData})),__webpack_require__.d(__webpack_exports__,"Faceted",(function(){return Faceted}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(74),__webpack_require__(25);var react=__webpack_require__(0),PlotlyPlot=(__webpack_require__(41),__webpack_require__(449),__webpack_require__(9),__webpack_require__(40),__webpack_require__(152),__webpack_require__(7),__webpack_require__(38),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(19),__webpack_require__(105)),plots=__webpack_require__(93),lodash=__webpack_require__(17),axis_tick_label_ellipsis=__webpack_require__(409),extended_axis_range_truncations=__webpack_require__(186),truncation_layout_shapes=__webpack_require__(239);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var EmptyBoxplotData=[],Boxplot=Object(PlotlyPlot.d)("Boxplot",(function(props){var _plotData$map$concat,_layout,_props$data=props.data,plotData=void 0===_props$data?EmptyBoxplotData:_props$data,showRawData=props.showRawData,showMean=props.showMean,independentAxisLabel=props.independentAxisLabel,dependentAxisLabel=props.dependentAxisLabel,dependentAxisRange=props.dependentAxisRange,_props$orientation=props.orientation,orientation=void 0===_props$orientation?plots.OrientationDefault:_props$orientation,_props$opacity=props.opacity,opacity=void 0===_props$opacity?plots.OpacityDefault:_props$opacity,_props$showIndependen=props.showIndependentAxisTickLabel,showIndependentAxisTickLabel=void 0===_props$showIndependen||_props$showIndependen,_props$showDependentA=props.showDependentAxisTickLabel,showDependentAxisTickLabel=void 0===_props$showDependentA||_props$showDependentA,_props$dependentValue=props.dependentValueType,dependentValueType=void 0===_props$dependentValue?"number":_props$dependentValue,axisTruncationConfig=props.axisTruncationConfig,restProps=_objectWithoutProperties(props,["data","showRawData","showMean","independentAxisLabel","dependentAxisLabel","dependentAxisRange","orientation","opacity","showIndependentAxisTickLabel","showDependentAxisTickLabel","dependentValueType","axisTruncationConfig"]),categoryOrder=Object(react.useMemo)((function(){return Object(lodash.uniq)(Object(lodash.flatMap)(plotData,(function(d){return d.label})))}),[plotData]),categoryOrderEllipsis=Object(react.useMemo)((function(){return Object(axis_tick_label_ellipsis.a)(categoryOrder,20)}),[plotData,categoryOrder]),_ref2=_slicedToArray("vertical"===orientation?["x","y"]:["y","x"],2),independentAxisName=_ref2[0],dependentAxisName=_ref2[1],data=0===plotData.length?[]:plotData.map((function(d){var _d$outliers,_orientationDependent,_orientationDependent2,_d$outlierSymbol,definedDataIndices=d.median.map((function(median,index){return null!=median?index:void 0})).filter((function(x){return null!=x})),orientationDependentProps=((_orientationDependent={})[independentAxisName]=Object(lodash.at)(d.label,definedDataIndices).map((function(d){var foundIndexValue=categoryOrder.findIndex((function(element){return element===d}));return categoryOrderEllipsis[foundIndexValue]})),_orientationDependent[dependentAxisName]=d.rawData&&showRawData?Object(lodash.at)(d.rawData,definedDataIndices):null!==(_d$outliers=d.outliers)&&void 0!==_d$outliers&&_d$outliers.length?Object(lodash.at)(d.outliers,definedDataIndices):[[null]],_orientationDependent);return 0===(null===(_orientationDependent2=orientationDependentProps[dependentAxisName])||void 0===_orientationDependent2?void 0:_orientationDependent2[0].length)&&(orientationDependentProps[dependentAxisName][0]=[null]),Object.assign({lowerfence:Object(lodash.at)(d.lowerfence,definedDataIndices),upperfence:Object(lodash.at)(d.upperfence,definedDataIndices),median:Object(lodash.at)(d.median,definedDataIndices),mean:null!==d.mean?Object(lodash.at)(d.mean,definedDataIndices):void 0,boxmean:null!==d.mean&&showMean,q1:Object(lodash.at)(d.q1,definedDataIndices),q3:Object(lodash.at)(d.q3,definedDataIndices),name:d.name,showlegend:!!d.name,boxpoints:d.rawData&&showRawData?"all":"outliers",jitter:.1,marker:{opacity:opacity,color:d.borderColor,symbol:null!==(_d$outlierSymbol=d.outlierSymbol)&&void 0!==_d$outlierSymbol?_d$outlierSymbol:"circle-open"},line:{width:1,color:d.borderColor},fillcolor:d.color},orientationDependentProps,{type:"box"})})).concat(((_plotData$map$concat={})[independentAxisName]=categoryOrderEllipsis,_plotData$map$concat[dependentAxisName]=categoryOrderEllipsis.map((function(){return 0})),_plotData$map$concat.type="bar",_plotData$map$concat.hoverinfo="none",_plotData$map$concat.showlegend=!1,_plotData$map$concat)),dependentAxis="vertical"===orientation?"yaxis":"xaxis",independentAxis="vertical"===orientation?"xaxis":"yaxis",standardDependentAxisRange=dependentAxisRange,extendedDependentAxisRange=Object(extended_axis_range_truncations.a)(standardDependentAxisRange,null==axisTruncationConfig?void 0:axisTruncationConfig.dependentAxis,"number",!0),truncatedAxisHighlighting=Object(react.useMemo)((function(){return data.length>0?Object(truncation_layout_shapes.a)(orientation,void 0,standardDependentAxisRange,void 0,extendedDependentAxisRange,axisTruncationConfig):[]}),[standardDependentAxisRange,extendedDependentAxisRange,orientation,data,axisTruncationConfig]),layout=((_layout={})[independentAxis]={automargin:!0,showgrid:!1,zeroline:!1,showline:!1,title:independentAxisLabel,range:data.length?void 0:[1,5],tickfont:data.length?{}:{color:"transparent"},showticklabels:showIndependentAxisTickLabel,type:"category",categoryorder:"array",categoryarray:categoryOrderEllipsis},_layout[dependentAxis]={automargin:!0,showline:!0,rangemode:"tozero",title:dependentAxisLabel,range:data.length?[null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.min,null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.max]:void 0,tickfont:data.length?{}:{color:"transparent"},showticklabels:showDependentAxisTickLabel,type:"date"===dependentValueType?"date":void 0},_layout.boxmode="group",_layout.shapes=truncatedAxisHighlighting,_layout);return Object.assign({data:data,layout:layout,storedIndependentAxisTickLabel:categoryOrder},restProps)})),plots_Boxplot=Boxplot;try{Boxplot.displayName="Boxplot",Boxplot.__docgenInfo={description:"",displayName:"Boxplot",props:{independentAxisLabel:{defaultValue:null,description:"label for independent axis",name:"independentAxisLabel",required:!1,type:{name:"string"}},dependentAxisLabel:{defaultValue:null,description:"label for the (typically) y-axis, e.g. Wealth",name:"dependentAxisLabel",required:!1,type:{name:"string"}},dependentAxisRange:{defaultValue:null,description:"set the range of the dependent axis (optional)",name:"dependentAxisRange",required:!1,type:{name:"NumberOrDateRange"}},showRawData:{defaultValue:null,description:"show the rawData (if given) - optional",name:"showRawData",required:!1,type:{name:"boolean"}},showMean:{defaultValue:null,description:"Show the mean as an extra dotted line in the box - optional",name:"showMean",required:!1,type:{name:"boolean"}},showIndependentAxisTickLabel:{defaultValue:null,description:"show/hide independent axis tick label",name:"showIndependentAxisTickLabel",required:!1,type:{name:"boolean"}},showDependentAxisTickLabel:{defaultValue:null,description:"show/hide dependent axis tick label",name:"showDependentAxisTickLabel",required:!1,type:{name:"boolean"}},dependentValueType:{defaultValue:null,description:"dependentValueType: 'number' | 'date'",name:"dependentValueType",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},data:{defaultValue:null,description:"plot data - following web-components' API, not Plotly's",name:"data",required:!1,type:{name:"BoxplotData"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Should plot legend be displayed? Default is yes",name:"displayLegend",required:!1,type:{name:"boolean"}},containerStyles:{defaultValue:null,description:"CSS styles for enclosing div\nDefault is { width: '100%', height: '400px' }",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},containerClass:{defaultValue:null,description:"class name for enclosing div. Default is web-components-plot",name:"containerClass",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"Enables mouse-overs and interaction if true. Default false.",name:"interactive",required:!1,type:{name:"boolean"}},displayLibraryControls:{defaultValue:null,description:"show Plotly's mode bar (only shows if interactive == true)",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},showSpinner:{defaultValue:null,description:"show a loading... spinner in the middle of the container div",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:"Show an overlay with the words 'No Data'",name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend layout and appearance.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},legendTitle:{defaultValue:null,description:"legend title",name:"legendTitle",required:!1,type:{name:"string"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},maxLegendTextLength:{defaultValue:null,description:"maximum number of characters for legend ellipsis",name:"maxLegendTextLength",required:!1,type:{name:"number"}},storedIndependentAxisTickLabel:{defaultValue:null,description:"original independent axis tick labels as data is changed at each component (barplot and boxplot)",name:"storedIndependentAxisTickLabel",required:!1,type:{name:"string[]"}},checkedLegendItems:{defaultValue:null,description:"list of checked legend items via checkbox input",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},onPlotlyRender:{defaultValue:null,description:"A function to call each time after plotly renders the plot",name:"onPlotlyRender",required:!1,type:{name:"((figure: Readonly<Figure>, graphDiv: Readonly<HTMLElement>) => void)"}},colorPalette:{defaultValue:null,description:"",name:"colorPalette",required:!1,type:{name:"string[]"}},orientation:{defaultValue:null,description:"Orientation of plot - default is vertical (e.g. independent axis at bottom)",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},opacity:{defaultValue:null,description:"Opacity of markers that require opacity (e.g. outliers, overlaid bars).\nNumber 0 to 1 (default 0.5)",name:"opacity",required:!1,type:{name:"number"}},axisTruncationConfig:{defaultValue:null,description:"truncation config (flags) to show truncated axis (true) or not (false)",name:"axisTruncationConfig",required:!1,type:{name:"AxisTruncationConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/Boxplot.tsx#Boxplot"]={docgenInfo:Boxplot.__docgenInfo,name:"Boxplot",path:"src/plots/Boxplot.tsx#Boxplot"})}catch(__react_docgen_typescript_loader_error){}var FacetedPlot=__webpack_require__(157),jsx_runtime=__webpack_require__(1),defaultContainerStyles={height:300,width:375,marginBottom:"0.25rem",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066"},defaultSpacingOptions={marginRight:15,marginLeft:15,marginBottom:10,marginTop:50},FacetedBoxplot_FacetedBoxplot=function FacetedBoxplot(facetedBoxplotProps){var _componentProps$conta,_componentProps$spaci,componentProps=facetedBoxplotProps.componentProps;return Object(jsx_runtime.jsx)(FacetedPlot.a,Object.assign({component:plots_Boxplot},facetedBoxplotProps,{componentProps:Object.assign({},componentProps,{containerStyles:null!==(_componentProps$conta=componentProps.containerStyles)&&void 0!==_componentProps$conta?_componentProps$conta:defaultContainerStyles,spacingOptions:null!==(_componentProps$spaci=componentProps.spacingOptions)&&void 0!==_componentProps$spaci?_componentProps$spaci:defaultSpacingOptions})}))};FacetedBoxplot_FacetedBoxplot.displayName="FacetedBoxplot";var facetedPlots_FacetedBoxplot=FacetedBoxplot_FacetedBoxplot;try{FacetedBoxplot_FacetedBoxplot.displayName="FacetedBoxplot",FacetedBoxplot_FacetedBoxplot.__docgenInfo={description:"",displayName:"FacetedBoxplot",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"FacetedData<BoxplotData>"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!0,type:{name:"BoxplotProps"}},modalComponentProps:{defaultValue:null,description:"Provide modalComponentProps to activate click-to-expand\nThese are the props the expanded plot inside the modal will receive",name:"modalComponentProps",required:!1,type:{name:"BoxplotProps"}},facetedPlotRef:{defaultValue:null,description:"",name:"facetedPlotRef",required:!1,type:{name:"Ref<FacetedPlotRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/facetedPlots/FacetedBoxplot.tsx#FacetedBoxplot"]={docgenInfo:FacetedBoxplot_FacetedBoxplot.__docgenInfo,name:"FacetedBoxplot",path:"src/plots/facetedPlots/FacetedBoxplot.tsx#FacetedBoxplot"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Plots/Boxplot",component:plots_Boxplot,argTypes:{opacity:{control:{type:"range",min:0,max:1,step:.1}}}};var singleData={series:[{lowerfence:[1,1,5,1,1],upperfence:[7,6,5,1,6],median:[3,4,5,1,2],mean:[3.0877,3.6,5,1,2.1914],boxmean:!0,q1:[2,2,5,1,1],q3:[4,5,5,1,3],name:"Bangladesh",label:["Finished floor; cement","Finished floor; ceramic tile","Finished floor; vinyl of asphalt strips","Natural floor; dung","Natural floor; earth/sand"],outliers:[[8,8,8,8,8,8,10,8,9,10,10,8,10],[],[],[],[7,7,8,7,7,9,7,7,7,7,7,8,7,7,8,7,8,8,7,7,7,8,9]]}]},multipleData={series:[{lowerfence:[1,1,5,1,1],upperfence:[7,6,5,1,6],median:[3,4,5,1,2],mean:[3.0877,3.6,5,1,2.1914],q1:[2,2,5,1,1],q3:[4,5,5,1,3],name:"Bangladesh",label:["Finished floor; cement","Finished floor; ceramic tile","Finished floor; vinyl of asphalt strips","Natural floor; dung","Natural floor; earth/sand"],outliers:[[8,8,8,8,8,8,10,8,9,10,10,8,10],[],[],[],[7,7,8,7,7,9,7,7,7,7,7,8,7,7,8,7,8,8,7,7,7,8,9]]},{lowerfence:[1,1,1,1,1,4,1],upperfence:[3,5,1,3,5,4,1],median:[1,2,1,1,2,4,1],mean:[1.57,2.1111,1,1.3145,2.3571,4,1],q1:[1,1,1,1,1,4,1],q3:[2,3,1,2,3.75,4,1],name:"India",boxpoints:"outliers",label:["Finished floor; cement","Finished floor; ceramic tile","Finished floor; vinyl of asphalt strips","Natural floor; earth/sand","Other, specify","Rudimentary floor; palm/bamboo","Rudimentary floor; wood planks"],outliers:[[4,4,4,5,4,7,4,4,6,6,4,5,4,4,5,5,4,4,4,5,9,4,4,4,4],[],[],[4,4],[],[],[]]},{lowerfence:[1,1,2,1,1,1],upperfence:[2,3,2,1,3,3],q1:[1,1,2,1,1,1],q3:[1.5,2,2,1,2,2],median:[1,2,2,1,1,1],mean:[1.2857,1.7223,2,1,1.5342,1.5131],name:"Kenya",label:["Finished floor; carpet","Finished floor; cement","Finished floor; ceramic tile","Finished floor; vinyl of asphalt strips","Natural floor; dung","Natural floor; earth/sand"],outliers:[[],[5,5,5,4,4,4,5,4,5,4,4,6,4,5,4,4,4],[],[],[4,4,4,4,21,4,5,4,4],[8,4,4,5,4,4,4,4,4]]}]},yearData={series:[{lowerfence:[2007,2007,2007],upperfence:[2011,2011,2011],q1:[2008,2008,2008],q3:[2010,2010,2010],median:[2009,2009,2009],mean:[2008.8639,2009.0816,2009.0021],name:"Data",label:["Exclusively breastfed","Not breastfed","Partially breastfed"],outliers:[[],[],[]]}]},Boxplot_stories_singleDataset=function singleDataset(){return Object(jsx_runtime.jsx)(plots_Boxplot,{data:singleData.series,containerStyles:{width:"100%",height:450},title:"Boxplot examples",orientation:"vertical",independentAxisLabel:"Floor material",dependentAxisLabel:"Sleeping rooms in dwelling",showIndependentAxisTickLabel:!0,showDependentAxisTickLabel:!0,showMean:!0,interactive:!0,displayLegend:singleData.series.length>1,displayLibraryControls:!1})};Boxplot_stories_singleDataset.displayName="singleDataset";var Boxplot_stories_multipleDataset=function multipleDataset(){return Object(jsx_runtime.jsx)(plots_Boxplot,{data:multipleData.series,containerStyles:{width:"100%",height:450},title:"Boxplot examples",orientation:"vertical",independentAxisLabel:"Floor material",dependentAxisLabel:"Sleeping rooms in dwelling",showIndependentAxisTickLabel:!0,showDependentAxisTickLabel:!0,showMean:!0,interactive:!0,displayLegend:multipleData.series.length>1,displayLibraryControls:!1})};Boxplot_stories_multipleDataset.displayName="multipleDataset";var Boxplot_stories_yearDataset=function yearDataset(){return Object(jsx_runtime.jsx)(plots_Boxplot,{data:yearData.series,containerStyles:{width:"100%",height:450},title:"Boxplot examples",orientation:"vertical",independentAxisLabel:"Breastfed",dependentAxisLabel:"Enrollment year",showIndependentAxisTickLabel:!0,showDependentAxisTickLabel:!0,showMean:!0,interactive:!0,displayLegend:multipleData.series.length>1,displayLibraryControls:!1,spacingOptions:{marginTop:100,marginRight:100,marginBottom:100,marginLeft:100},legendTitle:"Legend title example",dependentValueType:"date"})};Boxplot_stories_yearDataset.displayName="yearDataset";var Boxplot_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(plots_Boxplot,Object.assign({},args))};Boxplot_stories_Template.displayName="Template";var EmptyLoading=Boxplot_stories_Template.bind({});EmptyLoading.argTypes=storyArgTypes(EmptyLoading.args={showSpinner:!0,containerStyles:{width:"600px",height:"400px"}});var WithStorybookControl=Boxplot_stories_Template.bind({});WithStorybookControl.argTypes=storyArgTypes(WithStorybookControl.args={data:singleData.series,orientation:"vertical",showMean:!0,interactive:!0,displayLegend:!0,displayLibraryControls:!0,showSpinner:!1,legendTitle:"Legend title example",independentAxisLabel:"Floor material",dependentAxisLabel:"Sleeping rooms in dwelling",showIndependentAxisTickLabel:!0,showDependentAxisTickLabel:!0,containerStyles:{width:"100%",height:450}});var emptyCategoryData={series:[{lowerfence:[void 0,1,void 0,1,1],upperfence:[void 0,6,void 0,1,6],median:[void 0,4,void 0,1,2],mean:[void 0,3.6,void 0,1,2.1914],boxmean:!0,q1:[void 0,2,void 0,1,1],q3:[void 0,5,void 0,1,3],name:"Bangladesh",label:["Finished floor; cement","Finished floor; ceramic tile","Finished floor; vinyl of asphalt strips","Natural floor; dung","Natural floor; earth/sand"],outliers:[[],[],[],[],[7,7,8,7,7,9,7,7,7,7,7,8,7,7,8,7,8,8,7,7,7,8,9]]}]},EmptyCategoryData=Boxplot_stories_Template.bind({});function storyArgTypes(args){if(args.data){var pointTraceIndices=args.data.map((function(d,index){return d.rawData||d.outliers.length?index:-1})).filter((function(i){return i>=0}));return{data:{control:{disable:!0}},showRawData:{control:{disable:0==args.data.filter((function(d){return d.rawData&&d.rawData.length})).length}},showMean:{control:{disable:0==args.data.filter((function(d){return null!=d.mean})).length}},opacity:{control:{disable:0==pointTraceIndices.length}},dependentValueType:{control:{disable:!0}}}}}EmptyCategoryData.argTypes=storyArgTypes(EmptyCategoryData.args={data:emptyCategoryData.series,orientation:"vertical",showMean:!0,interactive:!0,displayLegend:!0,displayLibraryControls:!0,showSpinner:!1,legendTitle:"Legend title example",independentAxisLabel:"Floor material",dependentAxisLabel:"Sleeping rooms in dwelling",showIndependentAxisTickLabel:!0,showDependentAxisTickLabel:!0,containerStyles:{width:"100%",height:450}});var facetedData={facets:[{label:"Low income",data:multipleData.series},{label:"Medium income",data:multipleData.series},{label:"High income",data:multipleData.series},{label:"Even higher income"},{label:"No data"}]},Boxplot_stories_FacetedTemplate=function FacetedTemplate(_ref){var data=_ref.data,componentProps=_ref.componentProps,modalComponentProps=_ref.modalComponentProps;return Object(jsx_runtime.jsx)(facetedPlots_FacetedBoxplot,{data:data,componentProps:componentProps,modalComponentProps:modalComponentProps})};Boxplot_stories_FacetedTemplate.displayName="FacetedTemplate";var Faceted=Boxplot_stories_FacetedTemplate.bind({});Faceted.args={data:facetedData,componentProps:{title:"Number of rooms (faceted)",containerStyles:{width:300,height:300,border:"1px solid #dadada"}}},Boxplot_stories_singleDataset.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <Boxplot\n      data={singleData.series}\n      // width/height props are replaced with containerStyles\n      containerStyles={{\n        width: plotWidth,\n        height: plotHeight,\n      }}\n      title={plotTitle}\n      orientation={orientation}\n      independentAxisLabel={'Floor material'}\n      dependentAxisLabel={'Sleeping rooms in dwelling'}\n      // show/hide independent/dependent axis tick label\n      showIndependentAxisTickLabel={true}\n      showDependentAxisTickLabel={true}\n      showMean={true}\n      // staticPlot is changed to interactive\n      interactive={true}\n      displayLegend={singleData.series.length > 1}\n      displayLibraryControls={false}\n    />\n  );\n}"}},Boxplot_stories_singleDataset.parameters),Boxplot_stories_multipleDataset.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <Boxplot\n      data={multipleData.series}\n      // width/height props are replaced with containerStyles\n      containerStyles={{\n        width: plotWidth,\n        height: plotHeight,\n      }}\n      title={plotTitle}\n      orientation={orientation}\n      independentAxisLabel={'Floor material'}\n      dependentAxisLabel={'Sleeping rooms in dwelling'}\n      // show/hide independent/dependent axis tick label\n      showIndependentAxisTickLabel={true}\n      showDependentAxisTickLabel={true}\n      showMean={true}\n      // staticPlot is changed to interactive\n      interactive={true}\n      displayLegend={multipleData.series.length > 1}\n      displayLibraryControls={false}\n    />\n  );\n}"}},Boxplot_stories_multipleDataset.parameters),Boxplot_stories_yearDataset.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <Boxplot\n      data={yearData.series}\n      // width height is replaced with containerStyles\n      containerStyles={{\n        width: plotWidth,\n        height: plotHeight,\n      }}\n      title={plotTitle}\n      orientation={orientation}\n      independentAxisLabel={'Breastfed'}\n      dependentAxisLabel={'Enrollment year'}\n      // show/hide independent/dependent axis tick label\n      showIndependentAxisTickLabel={true}\n      showDependentAxisTickLabel={true}\n      showMean={true}\n      // staticPlot is changed to interactive\n      interactive={true}\n      displayLegend={multipleData.series.length > 1}\n      displayLibraryControls={false}\n      // margin is replaced with spacingOptions\n      spacingOptions={{\n        marginTop: 100,\n        marginRight: 100,\n        marginBottom: 100,\n        marginLeft: 100,\n      }}\n      legendTitle={'Legend title example'}\n      // this will be like findVariable(vizConfig.yAxisVariable)?.type at viz\n      dependentValueType={'date'}\n    />\n  );\n}"}},Boxplot_stories_yearDataset.parameters),EmptyLoading.parameters=Object.assign({storySource:{source:"(args: any) => <Boxplot {...args} />"}},EmptyLoading.parameters),WithStorybookControl.parameters=Object.assign({storySource:{source:"(args: any) => <Boxplot {...args} />"}},WithStorybookControl.parameters),EmptyCategoryData.parameters=Object.assign({storySource:{source:"(args: any) => <Boxplot {...args} />"}},EmptyCategoryData.parameters),Faceted.parameters=Object.assign({storySource:{source:"({\n  data,\n  componentProps,\n  modalComponentProps,\n}) => (\n  <FacetedBoxplot\n    data={data}\n    componentProps={componentProps}\n    modalComponentProps={modalComponentProps}\n  />\n)"}},Faceted.parameters)},2701:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NumericAxes",(function(){return NumericAxes})),__webpack_require__.d(__webpack_exports__,"CategoricalAxes",(function(){return CategoricalAxes})),__webpack_require__.d(__webpack_exports__,"Empty",(function(){return Empty})),__webpack_require__.d(__webpack_exports__,"EmptyLoading",(function(){return EmptyLoading})),__webpack_require__.d(__webpack_exports__,"Faceted",(function(){return Faceted}));__webpack_require__(10),__webpack_require__(124);var react=__webpack_require__(0),PlotlyPlot=(__webpack_require__(1281),__webpack_require__(8),__webpack_require__(12),__webpack_require__(14),__webpack_require__(121),__webpack_require__(151),__webpack_require__(40),__webpack_require__(152),__webpack_require__(7),__webpack_require__(105));function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var EmptyHeatmapData={xLabels:[],yLabels:[],values:[[]]},Heatmap=Object(PlotlyPlot.d)("Heatmap",(function(props){var _props$data=props.data,data=void 0===_props$data?EmptyHeatmapData:_props$data,xAxisLabel=props.xAxisLabel,yAxisLabel=props.yAxisLabel,showValues=props.showValues,zSmooth=props.zSmooth,legendTitle=props.legendTitle,restProps=_objectWithoutProperties(props,["data","xAxisLabel","yAxisLabel","showValues","zSmooth","legendTitle"]),isEmptyData=Object(react.useMemo)((function(){return 0==data.values.flat().length}),[data]),layout={annotations:[],xaxis:{title:xAxisLabel,mirror:!0,showgrid:!1,tickfont:isEmptyData?{color:"transparent"}:{},zeroline:!1,nticks:isEmptyData?5:data.xLabels.length+1},yaxis:{title:yAxisLabel,mirror:!0,showgrid:!1,tickfont:isEmptyData?{color:"transparent"}:{},zeroline:!1,nticks:isEmptyData?5:data.yLabels.length+1}};if(showValues)for(var i=0;i<data.yLabels.length;i++)for(var j=0;j<data.xLabels.length;j++){var _data$values$i$j,result={xref:"x",yref:"y",x:data.xLabels[j],y:data.yLabels[i],text:null===(_data$values$i$j=data.values[i][j])||void 0===_data$values$i$j?void 0:_data$values$i$j.toString(),font:{color:"white"},showarrow:!1};!layout.annotations||layout.annotations.push(result)}var finalData=[{x:data.xLabels,y:data.yLabels,z:data.values,type:"heatmap",zsmooth:zSmooth,colorbar:{title:{text:legendTitle}}}];return Object.assign({data:finalData,layout:layout},restProps)})),plots_Heatmap=Heatmap;try{Heatmap.displayName="Heatmap",Heatmap.__docgenInfo={description:"",displayName:"Heatmap",props:{xAxisLabel:{defaultValue:null,description:'Label for x axis. Both x and y axes have "independent" variables',name:"xAxisLabel",required:!1,type:{name:"string"}},yAxisLabel:{defaultValue:null,description:"Label for y axis.",name:"yAxisLabel",required:!1,type:{name:"string"}},showValues:{defaultValue:null,description:"Show values as text in heatmap",name:"showValues",required:!1,type:{name:"boolean"}},zSmooth:{defaultValue:null,description:"",name:"zSmooth",required:!1,type:{name:'false | "fast" | "best"'}},data:{defaultValue:null,description:"plot data - following web-components' API, not Plotly's",name:"data",required:!1,type:{name:"HeatmapData"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Should plot legend be displayed? Default is yes",name:"displayLegend",required:!1,type:{name:"boolean"}},containerStyles:{defaultValue:null,description:"CSS styles for enclosing div\nDefault is { width: '100%', height: '400px' }",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},containerClass:{defaultValue:null,description:"class name for enclosing div. Default is web-components-plot",name:"containerClass",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"Enables mouse-overs and interaction if true. Default false.",name:"interactive",required:!1,type:{name:"boolean"}},displayLibraryControls:{defaultValue:null,description:"show Plotly's mode bar (only shows if interactive == true)",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},showSpinner:{defaultValue:null,description:"show a loading... spinner in the middle of the container div",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:"Show an overlay with the words 'No Data'",name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend layout and appearance.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},legendTitle:{defaultValue:null,description:"legend title",name:"legendTitle",required:!1,type:{name:"string"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},maxLegendTextLength:{defaultValue:null,description:"maximum number of characters for legend ellipsis",name:"maxLegendTextLength",required:!1,type:{name:"number"}},storedIndependentAxisTickLabel:{defaultValue:null,description:"original independent axis tick labels as data is changed at each component (barplot and boxplot)",name:"storedIndependentAxisTickLabel",required:!1,type:{name:"string[]"}},checkedLegendItems:{defaultValue:null,description:"list of checked legend items via checkbox input",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},onPlotlyRender:{defaultValue:null,description:"A function to call each time after plotly renders the plot",name:"onPlotlyRender",required:!1,type:{name:"((figure: Readonly<Figure>, graphDiv: Readonly<HTMLElement>) => void)"}},colorPalette:{defaultValue:null,description:"",name:"colorPalette",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/Heatmap.tsx#Heatmap"]={docgenInfo:Heatmap.__docgenInfo,name:"Heatmap",path:"src/plots/Heatmap.tsx#Heatmap"})}catch(__react_docgen_typescript_loader_error){}var FacetedPlot=__webpack_require__(157),jsx_runtime=__webpack_require__(1),defaultContainerStyles={height:300,width:375,marginBottom:"0.25rem",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066"},defaultSpacingOptions={marginRight:10,marginLeft:25,marginBottom:40,marginTop:60},FacetedHeatmap_FacetedHeatmap=function FacetedHeatmap(facetedHeatmapProps){var _componentProps$conta,_componentProps$spaci,componentProps=facetedHeatmapProps.componentProps;return Object(jsx_runtime.jsx)(FacetedPlot.a,Object.assign({component:plots_Heatmap},facetedHeatmapProps,{componentProps:Object.assign({},componentProps,{containerStyles:null!==(_componentProps$conta=componentProps.containerStyles)&&void 0!==_componentProps$conta?_componentProps$conta:defaultContainerStyles,spacingOptions:null!==(_componentProps$spaci=componentProps.spacingOptions)&&void 0!==_componentProps$spaci?_componentProps$spaci:defaultSpacingOptions})}))};FacetedHeatmap_FacetedHeatmap.displayName="FacetedHeatmap";var facetedPlots_FacetedHeatmap=FacetedHeatmap_FacetedHeatmap;try{FacetedHeatmap_FacetedHeatmap.displayName="FacetedHeatmap",FacetedHeatmap_FacetedHeatmap.__docgenInfo={description:"",displayName:"FacetedHeatmap",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"FacetedData<HeatmapData>"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!0,type:{name:"HeatmapProps"}},modalComponentProps:{defaultValue:null,description:"Provide modalComponentProps to activate click-to-expand\nThese are the props the expanded plot inside the modal will receive",name:"modalComponentProps",required:!1,type:{name:"HeatmapProps"}},facetedPlotRef:{defaultValue:null,description:"",name:"facetedPlotRef",required:!1,type:{name:"Ref<FacetedPlotRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/facetedPlots/FacetedHeatmap.tsx#FacetedHeatmap"]={docgenInfo:FacetedHeatmap_FacetedHeatmap.__docgenInfo,name:"FacetedHeatmap",path:"src/plots/facetedPlots/FacetedHeatmap.tsx#FacetedHeatmap"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Plots/Heatmap",component:plots_Heatmap,parameters:{redmine:"https://redmine.apidb.org/issues/42052"}};var Heatmap_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(plots_Heatmap,Object.assign({},args))};Heatmap_stories_Template.displayName="Template";var numericData={xLabels:[1,2,3,4],yLabels:[1,2,3],values:[[1,20,40,30],[20,0,60,15],[30,60,0,50]]},NumericAxes=Heatmap_stories_Template.bind({});NumericAxes.args={data:numericData,xAxisLabel:"Number of pets",yAxisLabel:"Number of children",showValues:!1,title:"Numeric heatmap",legendTitle:"Count of households"};var CategoricalAxes=Heatmap_stories_Template.bind({});CategoricalAxes.args={data:{xLabels:["Monday","Tuesday","Wednesday","Thursday","Friday"],yLabels:["Morning","Afternoon","Evening"],values:[[17,10,33,58,8],[20,5,63,82,30],[39,67,11,-5,20]]},showValues:!0,title:"Categorical heatmap",legendTitle:"Temperature"};var Empty=Heatmap_stories_Template.bind({});Empty.args={showSpinner:!1};var EmptyLoading=Heatmap_stories_Template.bind({});EmptyLoading.args={showSpinner:!0};var facetedData={facets:[{label:"Kenya",data:numericData},{label:"Zimbabwe",data:numericData},{label:"South Africa",data:numericData},{label:"Wakanda"},{label:"No data"}]},Heatmap_stories_FacetedTemplate=function FacetedTemplate(_ref){var data=_ref.data,componentProps=_ref.componentProps,modalComponentProps=_ref.modalComponentProps;return Object(jsx_runtime.jsx)(facetedPlots_FacetedHeatmap,{data:data,componentProps:componentProps,modalComponentProps:modalComponentProps})};Heatmap_stories_FacetedTemplate.displayName="FacetedTemplate";var Faceted=Heatmap_stories_FacetedTemplate.bind({});Faceted.args={data:facetedData,componentProps:{title:"Number of children vs Number of pets (faceted)"},modalComponentProps:{containerStyles:{width:"85%",height:"100%",margin:"auto"}}},NumericAxes.parameters=Object.assign({storySource:{source:"(args) => <Heatmap {...args} />"}},NumericAxes.parameters),CategoricalAxes.parameters=Object.assign({storySource:{source:"(args) => <Heatmap {...args} />"}},CategoricalAxes.parameters),Empty.parameters=Object.assign({storySource:{source:"(args) => <Heatmap {...args} />"}},Empty.parameters),EmptyLoading.parameters=Object.assign({storySource:{source:"(args) => <Heatmap {...args} />"}},EmptyLoading.parameters),Faceted.parameters=Object.assign({storySource:{source:"({\n  data,\n  componentProps,\n  modalComponentProps,\n}) => (\n  <FacetedHeatmap\n    data={data}\n    componentProps={componentProps}\n    modalComponentProps={modalComponentProps}\n  />\n)"}},Faceted.parameters)},2702:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"ErrorBars",(function(){return ErrorBars})),__webpack_require__.d(__webpack_exports__,"EmptyData",(function(){return EmptyData})),__webpack_require__.d(__webpack_exports__,"EmptyDataLoading",(function(){return EmptyDataLoading})),__webpack_require__.d(__webpack_exports__,"NoDataOverlay",(function(){return NoDataOverlay})),__webpack_require__.d(__webpack_exports__,"MarkerTooltips",(function(){return MarkerTooltips})),__webpack_require__.d(__webpack_exports__,"Faceted",(function(){return Faceted})),__webpack_require__.d(__webpack_exports__,"LogScale",(function(){return LogScale})),__webpack_require__.d(__webpack_exports__,"YAxisLabelWithHtml",(function(){return LinePlot_stories_YAxisLabelWithHtml})),__webpack_require__.d(__webpack_exports__,"dateDataFormat",(function(){return LinePlot_stories_dateDataFormat}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(63),__webpack_require__(8),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react=__webpack_require__(0),PlotlyPlot=(__webpack_require__(25),__webpack_require__(338),__webpack_require__(387),__webpack_require__(388),__webpack_require__(40),__webpack_require__(152),__webpack_require__(105)),guards=__webpack_require__(178),lodash=__webpack_require__(17),plots=__webpack_require__(93),extended_axis_range_truncations=__webpack_require__(186),truncation_layout_shapes=__webpack_require__(239),tick_settings=__webpack_require__(245);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var EmptyLinePlotData={series:[]},LinePlot=Object(PlotlyPlot.d)("LinePlot",(function(props){var _props$data=props.data,data=void 0===_props$data?EmptyLinePlotData:_props$data,independentAxisRange=props.independentAxisRange,dependentAxisRange=props.dependentAxisRange,independentAxisLabel=props.independentAxisLabel,dependentAxisLabel=props.dependentAxisLabel,independentValueType=props.independentValueType,dependentValueType=props.dependentValueType,_props$orientation=props.orientation,orientation=void 0===_props$orientation?plots.OrientationDefault:_props$orientation,axisTruncationConfig=props.axisTruncationConfig,_props$independentAxi=props.independentAxisLogScale,independentAxisLogScale=void 0===_props$independentAxi?plots.independentAxisLogScaleDefault:_props$independentAxi,_props$dependentAxisL=props.dependentAxisLogScale,dependentAxisLogScale=void 0===_props$dependentAxisL?plots.DependentAxisLogScaleDefault:_props$dependentAxisL,restProps=_objectWithoutProperties(props,["data","independentAxisRange","dependentAxisRange","independentAxisLabel","dependentAxisLabel","independentValueType","dependentValueType","orientation","axisTruncationConfig","independentAxisLogScale","dependentAxisLogScale"]),standardIndependentAxisRange=independentAxisRange,extendedIndependentAxisRange=Object(extended_axis_range_truncations.a)(standardIndependentAxisRange,null==axisTruncationConfig?void 0:axisTruncationConfig.independentAxis,"date"===independentValueType?"date":"number",!0,independentAxisLogScale),standardDependentAxisRange=dependentAxisRange,extendedDependentAxisRange=Object(extended_axis_range_truncations.a)(standardDependentAxisRange,null==axisTruncationConfig?void 0:axisTruncationConfig.dependentAxis,"date"===dependentValueType?"date":"number",!0,dependentAxisLogScale),truncatedAxisHighlighting=Object(react.useMemo)((function(){return data.series.length>0?Object(truncation_layout_shapes.a)(orientation,standardIndependentAxisRange,standardDependentAxisRange,extendedIndependentAxisRange,extendedDependentAxisRange,axisTruncationConfig):[]}),[standardDependentAxisRange,extendedDependentAxisRange,orientation,data,axisTruncationConfig]),layout={hovermode:"x",xaxis:Object.assign({title:independentAxisLabel,range:data.series.length?[null==extendedIndependentAxisRange?void 0:extendedIndependentAxisRange.min,null==extendedIndependentAxisRange?void 0:extendedIndependentAxisRange.max].map((function(val){return independentAxisLogScale&&null!=val?Math.log10(val):val})):void 0,zeroline:!1,mirror:!0,type:"date"===independentValueType?"date":independentAxisLogScale?"log":void 0,tickfont:data.series.length?{}:{color:"transparent"}},Object(tick_settings.a)(independentAxisLogScale,extendedIndependentAxisRange,independentValueType,data.series.length),{tickformat:"date"===independentValueType&&null!=data.binWidthSlider&&"year"===data.binWidthSlider.binWidth.unit?"%Y":void 0,tickvals:null!=data&&data.series.length>0&&"date"===independentValueType&&null!=data.binWidthSlider&&"year"===data.binWidthSlider.binWidth.unit?Object(lodash.uniq)(data.series.flatMap((function(series){return series.x.map((function(x){return x.substring(0,4)}))}))):void 0}),yaxis:Object.assign({title:dependentAxisLabel,range:data.series.length?[null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.min,null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.max].map((function(val){return dependentAxisLogScale&&null!=val?Math.log10(val):val})):void 0,zeroline:!1,mirror:!0,type:"date"===dependentValueType?"date":dependentAxisLogScale?"log":void 0,tickfont:data.series.length?{}:{color:"transparent"}},Object(tick_settings.a)(dependentAxisLogScale,extendedDependentAxisRange,dependentValueType,data.series.length)),shapes:truncatedAxisHighlighting},plotlyData=Object(react.useMemo)((function(){return data.series.map((function(series){var _series$yErrorBarLowe,_series$yErrorBarUppe;if(null!==(_series$yErrorBarLowe=series.yErrorBarLower)&&void 0!==_series$yErrorBarLowe&&_series$yErrorBarLowe.length&&null!==(_series$yErrorBarUppe=series.yErrorBarUpper)&&void 0!==_series$yErrorBarUppe&&_series$yErrorBarUppe.length){if(series.yErrorBarLower.length===series.y.length&&series.yErrorBarLower.length===series.y.length){if(Object(guards.a)(series.yErrorBarUpper)&&Object(guards.a)(series.yErrorBarLower)&&Object(guards.a)(series.y)){var yvals=series.y;return Object.assign({},series,{error_y:{type:"data",visible:"true",array:series.yErrorBarUpper.map((function(upperValue,index){var yval=yvals[index];return null!=upperValue&&null!=yval?upperValue-yval:null})),arrayminus:series.yErrorBarLower.map((function(lowerValue,index){var yval=yvals[index];return null!=lowerValue&&null!=yval?yval-lowerValue:null}))}})}return console.log("WARNING: date-based error bars not yet implemented for LinePlot"),series}throw new Error("yErrorBarUpper and/or yErrorBarLower don't have the same number of values as the main data")}return series})).map((function(series){var _series$binLabel,_series$x,_series$y,_series$yErrorBarLowe2,_series$yErrorBarUppe2,_series$extraTooltipT;return Object.assign({},series,{hovertemplate:"%{text}",text:Object(lodash.zip)(null!==(_series$binLabel=series.binLabel)&&void 0!==_series$binLabel?_series$binLabel:[],(null!==(_series$x=series.x)&&void 0!==_series$x?_series$x:[]).map(String),(null!==(_series$y=series.y)&&void 0!==_series$y?_series$y:[]).map(String),(null!==(_series$yErrorBarLowe2=series.yErrorBarLower)&&void 0!==_series$yErrorBarLowe2?_series$yErrorBarLowe2:[]).map(String),(null!==(_series$yErrorBarUppe2=series.yErrorBarUpper)&&void 0!==_series$yErrorBarUppe2?_series$yErrorBarUppe2:[]).map(String),null!==(_series$extraTooltipT=series.extraTooltipText)&&void 0!==_series$extraTooltipT?_series$extraTooltipT:[]).map((function(_ref){var _ref2=_slicedToArray(_ref,6),binLabel=_ref2[0],x=_ref2[1],y=_ref2[2],lower=_ref2[3],upper=_ref2[4];return"x: "+(null!=binLabel?binLabel:x)+"<br>y: "+y+(null!=lower&&null!=upper?" (95% CI: "+lower+" - "+upper+")":"")+"<br>"+_ref2[5]}))})}))}),[data.series]);return Object.assign({data:plotlyData,layout:layout},restProps)})),plots_LinePlot=LinePlot;try{LinePlot.displayName="LinePlot",LinePlot.__docgenInfo={description:"This component is much like ScatterPlot, but where the X-axis may be binned and\nthe mode 'markers' is unavailable.",displayName:"LinePlot",props:{independentAxisRange:{defaultValue:null,description:"x-axis range: required for confidence interval - not really",name:"independentAxisRange",required:!1,type:{name:"NumberOrDateRange"}},dependentAxisRange:{defaultValue:null,description:"y-axis range: required for confidence interval",name:"dependentAxisRange",required:!1,type:{name:"NumberOrDateRange"}},independentAxisLabel:{defaultValue:null,description:"x-axis label",name:"independentAxisLabel",required:!1,type:{name:"string"}},dependentAxisLabel:{defaultValue:null,description:"y-axis label",name:"dependentAxisLabel",required:!1,type:{name:"string"}},independentValueType:{defaultValue:null,description:"independentValueType",name:"independentValueType",required:!1,type:{name:"enum",value:[{value:'"string"'},{value:'"number"'},{value:'"date"'},{value:'"category"'},{value:'"longitude"'}]}},dependentValueType:{defaultValue:null,description:"dependentValueType",name:"dependentValueType",required:!1,type:{name:"enum",value:[{value:'"string"'},{value:'"number"'},{value:'"date"'},{value:'"category"'},{value:'"longitude"'}]}},data:{defaultValue:null,description:"plot data - following web-components' API, not Plotly's",name:"data",required:!1,type:{name:"LinePlotData"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Should plot legend be displayed? Default is yes",name:"displayLegend",required:!1,type:{name:"boolean"}},containerStyles:{defaultValue:null,description:"CSS styles for enclosing div\nDefault is { width: '100%', height: '400px' }",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},containerClass:{defaultValue:null,description:"class name for enclosing div. Default is web-components-plot",name:"containerClass",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"Enables mouse-overs and interaction if true. Default false.",name:"interactive",required:!1,type:{name:"boolean"}},displayLibraryControls:{defaultValue:null,description:"show Plotly's mode bar (only shows if interactive == true)",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},showSpinner:{defaultValue:null,description:"show a loading... spinner in the middle of the container div",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:"Show an overlay with the words 'No Data'",name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend layout and appearance.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},legendTitle:{defaultValue:null,description:"legend title",name:"legendTitle",required:!1,type:{name:"string"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},maxLegendTextLength:{defaultValue:null,description:"maximum number of characters for legend ellipsis",name:"maxLegendTextLength",required:!1,type:{name:"number"}},storedIndependentAxisTickLabel:{defaultValue:null,description:"original independent axis tick labels as data is changed at each component (barplot and boxplot)",name:"storedIndependentAxisTickLabel",required:!1,type:{name:"string[]"}},checkedLegendItems:{defaultValue:null,description:"list of checked legend items via checkbox input",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},onPlotlyRender:{defaultValue:null,description:"A function to call each time after plotly renders the plot",name:"onPlotlyRender",required:!1,type:{name:"((figure: Readonly<Figure>, graphDiv: Readonly<HTMLElement>) => void)"}},colorPalette:{defaultValue:null,description:"",name:"colorPalette",required:!1,type:{name:"string[]"}},orientation:{defaultValue:null,description:"Orientation of plot - default is vertical (e.g. independent axis at bottom)",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},independentAxisLogScale:{defaultValue:null,description:"Use a log scale for independent axis. Default is false",name:"independentAxisLogScale",required:!1,type:{name:"boolean"}},dependentAxisLogScale:{defaultValue:null,description:"Use a log scale for dependent axis. Default is false",name:"dependentAxisLogScale",required:!1,type:{name:"boolean"}},axisTruncationConfig:{defaultValue:null,description:"truncation config (flags) to show truncated axis (true) or not (false)",name:"axisTruncationConfig",required:!1,type:{name:"AxisTruncationConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/LinePlot.tsx#LinePlot"]={docgenInfo:LinePlot.__docgenInfo,name:"LinePlot",path:"src/plots/LinePlot.tsx#LinePlot"})}catch(__react_docgen_typescript_loader_error){}var FacetedPlot=__webpack_require__(157),jsx_runtime=__webpack_require__(1),defaultContainerStyles={height:300,width:750/1.75,marginBottom:"0.25rem",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066"},defaultSpacingOptions={marginRight:20,marginLeft:50,marginBottom:40,marginTop:50},FacetedLinePlot_FacetedLinePlot=function FacetedLinePlot(facetedLinePlotProps){var _componentProps$conta,_componentProps$spaci,componentProps=facetedLinePlotProps.componentProps;return Object(jsx_runtime.jsx)(FacetedPlot.a,Object.assign({component:plots_LinePlot},facetedLinePlotProps,{componentProps:Object.assign({},componentProps,{containerStyles:null!==(_componentProps$conta=componentProps.containerStyles)&&void 0!==_componentProps$conta?_componentProps$conta:defaultContainerStyles,spacingOptions:null!==(_componentProps$spaci=componentProps.spacingOptions)&&void 0!==_componentProps$spaci?_componentProps$spaci:defaultSpacingOptions})}))};FacetedLinePlot_FacetedLinePlot.displayName="FacetedLinePlot";var facetedPlots_FacetedLinePlot=FacetedLinePlot_FacetedLinePlot;try{FacetedLinePlot_FacetedLinePlot.displayName="FacetedLinePlot",FacetedLinePlot_FacetedLinePlot.__docgenInfo={description:"",displayName:"FacetedLinePlot",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"FacetedData<LinePlotData>"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!0,type:{name:"LinePlotProps"}},modalComponentProps:{defaultValue:null,description:"Provide modalComponentProps to activate click-to-expand\nThese are the props the expanded plot inside the modal will receive",name:"modalComponentProps",required:!1,type:{name:"LinePlotProps"}},facetedPlotRef:{defaultValue:null,description:"",name:"facetedPlotRef",required:!1,type:{name:"Ref<FacetedPlotRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/facetedPlots/FacetedLinePlot.tsx#FacetedLinePlot"]={docgenInfo:FacetedLinePlot_FacetedLinePlot.__docgenInfo,name:"FacetedLinePlot",path:"src/plots/facetedPlots/FacetedLinePlot.tsx#FacetedLinePlot"})}catch(__react_docgen_typescript_loader_error){}var AxisRangeControl=__webpack_require__(221),dist=__webpack_require__(167);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function LinePlot_stories_slicedToArray(arr,i){return function LinePlot_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function LinePlot_stories_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function LinePlot_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return LinePlot_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LinePlot_stories_arrayLikeToArray(o,minLen)}(arr,i)||function LinePlot_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LinePlot_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Plots/LinePlot",component:plots_LinePlot};var dataSet={series:[{x:[0,2,5,8,12],y:[4,8,3,12,11],name:"Cats"},{x:[0,2,5,8,12],y:[6,11,4,10,13],name:"Dogs"}]},errorBarData={series:[Object.assign({},dataSet.series[0],{yErrorBarUpper:[5,9,5,14,12.5],yErrorBarLower:[3,6,1,10,9.5],binLabel:["[0,2)","[2,5)","[5,8)","[8,12)","[12,15)"],sampleSize:[5,60,43,22,11,99]}),Object.assign({},dataSet.series[1],{yErrorBarUpper:[7,12,6,12,14.5],yErrorBarLower:[5,10,2,8,11.5],binLabel:["[0,2)","[2,5)","[5,8)","[8,12)","[12,15)"],sampleSize:[11,22,33,44,55,66]})]},markerTooltipData={series:[Object.assign({},dataSet.series[0],{extraTooltipText:["n: 1","n: 2","n: 3","n: 4","n: 5"],mode:"lines+markers"}),{x:[0,2,5,8,12],y:[6,8,4,10,11],name:"Dogs",extraTooltipText:["n: 5","n: 4","n: 3","n: 2","n: 1"],mode:"lines+markers"},{x:[0,2,5,8,12],y:[12,10,6,1,11],name:"Turtles",extraTooltipText:["n: 3","n: 6","n: 9","n: 12","n: 15"],mode:"lines+markers"}]},LinePlot_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(plots_LinePlot,Object.assign({},args))};LinePlot_stories_Template.displayName="Template";var Basic=LinePlot_stories_Template.bind({});Basic.args={data:dataSet,dependentAxisLabel:"Awesomeness",independentAxisLabel:"Age",legendTitle:"Animal",title:"Awesomeness of animals"};var ErrorBars=LinePlot_stories_Template.bind({});ErrorBars.args={data:errorBarData,dependentAxisLabel:"Awesomeness with error bars",independentAxisLabel:"Age",legendTitle:"Animal",title:"Awesomeness of animals"};var EmptyData=LinePlot_stories_Template.bind({});EmptyData.args={dependentAxisLabel:"Dependent axis label",independentAxisLabel:"Independent axis label"};var EmptyDataLoading=LinePlot_stories_Template.bind({});EmptyDataLoading.args={dependentAxisLabel:"Dependent axis label",independentAxisLabel:"Independent axis label",showSpinner:!0};var NoDataOverlay=LinePlot_stories_Template.bind({});NoDataOverlay.args={dependentAxisLabel:"Dependent axis label",independentAxisLabel:"Independent axis label",showNoDataOverlay:!0,title:"Awesomeness of animals"};var MarkerTooltips=LinePlot_stories_Template.bind({});MarkerTooltips.args={data:markerTooltipData,dependentAxisLabel:"Awesomeness",independentAxisLabel:"Age",legendTitle:"Animal",title:"Awesomeness of animals",interactive:!0};var facetedData={facets:[{label:"indoors",data:dataSet},{label:"outdoors",data:dataSet},{label:"space",data:dataSet},{label:"volcano",data:dataSet},{label:"underwater",data:dataSet},{label:"imaginary"},{label:"No data"}]},LinePlot_stories_FacetedTemplate=function FacetedTemplate(_ref){var data=_ref.data,componentProps=_ref.componentProps,modalComponentProps=_ref.modalComponentProps;return Object(jsx_runtime.jsx)(facetedPlots_FacetedLinePlot,{data:data,componentProps:componentProps,modalComponentProps:modalComponentProps})};LinePlot_stories_FacetedTemplate.displayName="FacetedTemplate";var Faceted=LinePlot_stories_FacetedTemplate.bind({});Faceted.args={data:facetedData,componentProps:{title:"indoor and outdoor pets",containerStyles:{width:300,height:300,border:"1px solid #dadada"}},modalComponentProps:{containerStyles:{width:"85%",height:"100%",margin:"auto"}}};var dataSetLog={series:[{x:[0,1,2,3,4,5,6,7,8,9,10],y:[33,36,35,37,35,34,35,36,33,37,35],name:"data"}]},LinePlot_stories_TemplateWithSelectedRangeControls=function TemplateWithSelectedRangeControls(args){var _useState2=LinePlot_stories_slicedToArray(Object(react.useState)({min:1,max:80}),2),dependentAxisRange=_useState2[0],setDependentAxisRange=_useState2[1],_useState4=LinePlot_stories_slicedToArray(Object(react.useState)(!1),2),dependentAxisLogScale=_useState4[0],setDependentAxisLogScale=_useState4[1],handleDependentAxisRangeChange=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(newRange){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:setDependentAxisRange(newRange);case 1:case"end":return _context.stop()}}),_callee)})));return function handleDependentAxisRangeChange(_x){return _ref2.apply(this,arguments)}}(),onDependentAxisLogScaleChange=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(value){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:setDependentAxisLogScale(value);case 1:case"end":return _context2.stop()}}),_callee2)})));return function onDependentAxisLogScaleChange(_x2){return _ref3.apply(this,arguments)}}();return Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)(plots_LinePlot,Object.assign({data:dataSetLog},args,{dependentAxisRange:dependentAxisRange,dependentAxisLogScale:dependentAxisLogScale})),Object(jsx_runtime.jsx)(dist.Toggle,{label:"Log scale "+(dependentAxisLogScale?"on (excludes values  0)":"off"),value:null!=dependentAxisLogScale&&dependentAxisLogScale,onChange:onDependentAxisLogScaleChange,styleOverrides:{container:{marginLeft:"5em"}}}),Object(jsx_runtime.jsx)("div",{style:{height:25}}),Object(jsx_runtime.jsx)(AxisRangeControl.a,{label:"Y-axis range control",range:dependentAxisRange,onRangeChange:handleDependentAxisRangeChange,containerStyles:{marginLeft:"5em"}})]})};LinePlot_stories_TemplateWithSelectedRangeControls.displayName="TemplateWithSelectedRangeControls";var LogScale=LinePlot_stories_TemplateWithSelectedRangeControls.bind({});LogScale.args={containerStyles:{height:"450px",width:"750px"}};var LinePlot_stories_YAxisLabelWithHtml=function YAxisLabelWithHtml(args){return Object(jsx_runtime.jsx)(plots_LinePlot,Object.assign({data:void 0},args,{dependentAxisLabel:"<b><i>Arithmetic mean:</i></b><br /> Plasmodium asexual stages, by microscopy result"}))};LinePlot_stories_YAxisLabelWithHtml.displayName="YAxisLabelWithHtml",LinePlot_stories_YAxisLabelWithHtml.args={containerStyles:{height:"450px",width:"750px"}};var dateData={series:[{x:["2017-01-01","2018-01-01","2019-01-01"],y:[.5285,.5058,.4205],binLabel:["2017-01-01 - 2018-01-01","2018-01-01 - 2019-01-01","2019-01-01 - 2020-01-01"],yErrorBarUpper:[.5399,.5158,.4364],yErrorBarLower:[.517,.4959,.4046],extraTooltipText:["n: 3880/7342","n: 4932/9750","n: 1556/3700"],name:"Data",mode:"lines+markers",opacity:.7,marker:{color:"rgb(136,34,85)",symbol:"circle"},line:{color:"rgb(136,34,85)",shape:"linear"}}],binWidthSlider:{valueType:"date",binWidth:{value:1,unit:"year"},binWidthRange:{min:1,max:2,unit:"year"},binWidthStep:1}},LinePlot_stories_dateDataFormat=function dateDataFormat(args){return Object(jsx_runtime.jsx)(plots_LinePlot,Object.assign({data:dateData,dependentAxisLabel:"<b><i>Arithmetic mean:</i></b><br /> Plasmodium asexual stages, by microscopy result",interactive:!0,independentValueType:"date"},args))};LinePlot_stories_dateDataFormat.displayName="dateDataFormat",LinePlot_stories_dateDataFormat.args={containerStyles:{height:"450px",width:"750px"}},Basic.parameters=Object.assign({storySource:{source:"(args) => <LinePlot {...args} />"}},Basic.parameters),ErrorBars.parameters=Object.assign({storySource:{source:"(args) => <LinePlot {...args} />"}},ErrorBars.parameters),EmptyData.parameters=Object.assign({storySource:{source:"(args) => <LinePlot {...args} />"}},EmptyData.parameters),EmptyDataLoading.parameters=Object.assign({storySource:{source:"(args) => <LinePlot {...args} />"}},EmptyDataLoading.parameters),NoDataOverlay.parameters=Object.assign({storySource:{source:"(args) => <LinePlot {...args} />"}},NoDataOverlay.parameters),MarkerTooltips.parameters=Object.assign({storySource:{source:"(args) => <LinePlot {...args} />"}},MarkerTooltips.parameters),Faceted.parameters=Object.assign({storySource:{source:"({\n  data,\n  componentProps,\n  modalComponentProps,\n}) => (\n  <FacetedLinePlot\n    data={data}\n    componentProps={componentProps}\n    modalComponentProps={modalComponentProps}\n  />\n)"}},Faceted.parameters),LogScale.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  const [dependentAxisRange, setDependentAxisRange] = useState<\n    NumberOrDateRange | undefined\n  >({ min: 1, max: 80 });\n  const [dependentAxisLogScale, setDependentAxisLogScale] = useState<\n    boolean | undefined\n  >(false);\n\n  const handleDependentAxisRangeChange = async (\n    newRange?: NumberOrDateRange\n  ) => {\n    setDependentAxisRange(newRange);\n  };\n\n  const onDependentAxisLogScaleChange = async (value?: boolean) => {\n    setDependentAxisLogScale(value);\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <LinePlot\n        data={dataSetLog}\n        {...args}\n        dependentAxisRange={dependentAxisRange}\n        dependentAxisLogScale={dependentAxisLogScale}\n      />\n      <Toggle\n        label={`Log scale ${\n          dependentAxisLogScale ? 'on (excludes values \\u{2264} 0)' : 'off'\n        }`}\n        value={dependentAxisLogScale ?? false}\n        onChange={onDependentAxisLogScaleChange}\n        styleOverrides={{ container: { marginLeft: '5em' } }}\n      />\n      <div style={{ height: 25 }} />\n      <AxisRangeControl\n        label=\"Y-axis range control\"\n        range={dependentAxisRange}\n        onRangeChange={handleDependentAxisRangeChange}\n        containerStyles={{ marginLeft: '5em' }}\n      />\n    </div>\n  );\n}"}},LogScale.parameters),LinePlot_stories_YAxisLabelWithHtml.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  return (\n    <LinePlot\n      data={undefined}\n      {...args}\n      dependentAxisLabel={\n        '<b><i>Arithmetic mean:</i></b><br /> Plasmodium asexual stages, by microscopy result'\n      }\n    />\n  );\n}"}},LinePlot_stories_YAxisLabelWithHtml.parameters),LinePlot_stories_dateDataFormat.parameters=Object.assign({storySource:{source:"(args: any) => {\n  return (\n    <LinePlot\n      data={dateData}\n      dependentAxisLabel={\n        '<b><i>Arithmetic mean:</i></b><br /> Plasmodium asexual stages, by microscopy result'\n      }\n      interactive={true}\n      independentValueType={'date'}\n      {...args}\n    />\n  );\n}"}},LinePlot_stories_dateDataFormat.parameters)},2703:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TwoByTwo",(function(){return TwoByTwo})),__webpack_require__.d(__webpack_exports__,"TwoByThree",(function(){return TwoByThree})),__webpack_require__.d(__webpack_exports__,"FourByThree",(function(){return FourByThree})),__webpack_require__.d(__webpack_exports__,"TenByTwelve",(function(){return TenByTwelve})),__webpack_require__.d(__webpack_exports__,"DynamicSize",(function(){return DynamicSize})),__webpack_require__.d(__webpack_exports__,"RealData",(function(){return RealData})),__webpack_require__.d(__webpack_exports__,"RealData2",(function(){return RealData2})),__webpack_require__.d(__webpack_exports__,"EmptyData",(function(){return EmptyData})),__webpack_require__.d(__webpack_exports__,"EmptyDataLoading",(function(){return EmptyDataLoading})),__webpack_require__.d(__webpack_exports__,"Faceted",(function(){return Faceted})),__webpack_require__.d(__webpack_exports__,"TwoByTwoLongAxisLabel",(function(){return TwoByTwoLongAxisLabel}));__webpack_require__(10),__webpack_require__(124);var react=__webpack_require__(0),PlotlyPlot=(__webpack_require__(25),__webpack_require__(8),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(684),__webpack_require__(723),__webpack_require__(1013),__webpack_require__(387),__webpack_require__(388),__webpack_require__(831),__webpack_require__(720),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(19),__webpack_require__(9),__webpack_require__(40),__webpack_require__(152),__webpack_require__(105)),lodash=__webpack_require__(17),lodash_default=__webpack_require__.n(lodash),axis_tick_label_ellipsis=__webpack_require__(409),makeStyles=__webpack_require__(1336),addOns=__webpack_require__(92),src=__webpack_require__(94),removeHtmlTags=__webpack_require__(312);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EmptyMosaicData={values:[[]],independentLabels:[],dependentLabels:[]},useStyles=Object(makeStyles.a)({root:{"& .legend .traces .legendtoggle":{cursor:"default !important"}}}),MosaicPlot=Object(PlotlyPlot.d)("MosaicPlot",(function(_ref){var _restProps$maxLegendT,_spacingOptions$margi3,legendTraceGroupGap,plotHeight,_spacingOptions$margi,_spacingOptions$margi2,_ref$data=_ref.data,data=void 0===_ref$data?EmptyMosaicData:_ref$data,independentAxisLabel=_ref.independentAxisLabel,dependentAxisLabel=_ref.dependentAxisLabel,colors=_ref.colors,showColumnLabels=_ref.showColumnLabels,spacingOptions=_ref.spacingOptions,containerClass=_ref.containerClass,restProps=(_ref.displayLegend,_ref.legendOptions,_objectWithoutProperties(_ref,["data","independentAxisLabel","dependentAxisLabel","colors","showColumnLabels","spacingOptions","containerClass","displayLegend","legendOptions"])),raw_widths=lodash_default.a.unzip(data.values).map((function(arr){return lodash_default.a.sum(arr)})),sum_raw_widths=lodash_default.a.sum(raw_widths),percent_widths=raw_widths.map((function(width){return width/sum_raw_widths*100})),independentLabelsEllipsis=Object(react.useMemo)((function(){return Object(axis_tick_label_ellipsis.a)(data.independentLabels,10)}),[data]),column_centers=percent_widths.map((function(width,i){return lodash_default.a.sum(percent_widths.slice(0,i))+width/2})),containerHeightProp=restProps.containerStyles?restProps.containerStyles.height:PlotlyPlot.a,containerHeight=containerHeightProp?"number"==typeof containerHeightProp?containerHeightProp:containerHeightProp.endsWith("px")?parseInt(containerHeightProp):void 0:void 0;containerHeight?(plotHeight=containerHeight-(null!==(_spacingOptions$margi=null==spacingOptions?void 0:spacingOptions.marginTop)&&void 0!==_spacingOptions$margi?_spacingOptions$margi:100)-(null!==(_spacingOptions$margi2=null==spacingOptions?void 0:spacingOptions.marginBottom)&&void 0!==_spacingOptions$margi2?_spacingOptions$margi2:80),independentAxisLabel&&(plotHeight-=20),0!=showColumnLabels&&(plotHeight-=20+15*data.independentLabels.length),legendTraceGroupGap=.95*(plotHeight-20*data.dependentLabels.length)/(data.dependentLabels.length-1),legendTraceGroupGap=Math.max(legendTraceGroupGap,0)):legendTraceGroupGap=0;var maxLegendTextLength=null!==(_restProps$maxLegendT=restProps.maxLegendTextLength)&&void 0!==_restProps$maxLegendT?_restProps$maxLegendT:PlotlyPlot.b,marginLeftExtra=5.357*function getLongestTruncatedStringLength(strings,maxLength){var longestStringLength=Math.max.apply(Math,_toConsumableArray(strings.map((function(str){return str.length}))));return longestStringLength>maxLength?maxLength+2:longestStringLength}(data.dependentLabels,maxLegendTextLength)+37.5,yAxisTitleStandoff=Math.max(marginLeftExtra+25,showColumnLabels?125:0),marginLeft=null!==(_spacingOptions$margi3=null==spacingOptions?void 0:spacingOptions.marginLeft)&&void 0!==_spacingOptions$margi3?_spacingOptions$margi3:addOns.h.marginLeft,newSpacingOptions=Object.assign({},spacingOptions,{marginLeft:marginLeft+marginLeftExtra}),xAxisTitleStandoff=0!=showColumnLabels?20+15*data.independentLabels.length:void 0,getElbowPointerY=function getElbowPointerY(nthLabel){return-20-15*nthLabel},layout={xaxis:{title:{text:void 0===independentAxisLabel&&0!=showColumnLabels?"":independentAxisLabel,standoff:xAxisTitleStandoff},tickvals:column_centers,tickangle:90,ticktext:new Array(data.independentLabels.length).fill(""),range:[0,100],automargin:!0},yaxis:{title:{text:dependentAxisLabel&&dependentAxisLabel+" (Proportion)",standoff:yAxisTitleStandoff},range:[0,100],tickvals:[],automargin:!0},barmode:"stack",barnorm:"percent",legend:{xanchor:"right",x:-.01,y:.5,tracegroupgap:legendTraceGroupGap,itemclick:!1,itemdoubleclick:!1},hovermode:"x unified",shapes:0!=showColumnLabels&&_toConsumableArray(column_centers.flatMap((function(column_center,index){var elbowY=getElbowPointerY(index),sharedProps={type:"line",line:{width:1},xref:"x",yref:"paper",ysizemode:"pixel",yanchor:0};return[Object.assign({},sharedProps,{x0:column_center,y0:-5,x1:column_center,y1:elbowY}),Object.assign({},sharedProps,{x0:column_center,y0:elbowY,x1:0,y1:elbowY})]}))),annotations:0!=showColumnLabels&&_toConsumableArray(column_centers.map((function(column_center,index){return{width:150,height:20,align:"right",valign:"center",xref:"paper",yref:"paper",x:0,xshift:-67,y:0,ayref:"pixel",ay:-getElbowPointerY(index),text:independentLabelsEllipsis[index],arrowcolor:"rgba(255, 255, 255, 0)"}})))},plotlyReadyData=data.values.map((function(counts,i){return{x:column_centers,y:counts,name:data.dependentLabels[i],hoverinfo:"text",hovertext:counts.map((function(count,j){return"<b>"+data.dependentLabels[i]+"</b> ("+(count/raw_widths[j]*100).toFixed(1)+"%) - <b>"+data.independentLabels[j]+"</b>"})),width:percent_widths,type:"bar",marker:{line:{width:1,color:"white"},color:colors?colors[i]:addOns.a[i]},legendgroup:data.dependentLabels[i],legendrank:i}})).reverse(),classes=useStyles();return Object.assign({data:plotlyReadyData,layout:layout,storedIndependentAxisTickLabel:data.independentLabels,spacingOptions:newSpacingOptions,containerClass:classes.root+" "+(null!=containerClass?containerClass:"")+" mosaic-container",displayLegend:!0,onPlotlyRender:function onPlotlyRender(figure,graphDiv){var annotationGroups=Object(src.c)(graphDiv).selectAll(".annotation-text");annotationGroups.selectAll("title").remove(),annotationGroups.attr("pointer-events","all").attr("cursor","default").append("svg:title").text((function(d,i){return Object(removeHtmlTags.a)(data.independentLabels[i])+" ("+lodash_default.a.round(percent_widths[i],1)+"%)"}))}},restProps)})),plots_MosaicPlot=MosaicPlot;try{MosaicPlot.displayName="MosaicPlot",MosaicPlot.__docgenInfo={description:"",displayName:"MosaicPlot",props:{independentAxisLabel:{defaultValue:null,description:"label for independent axis",name:"independentAxisLabel",required:!1,type:{name:"string"}},dependentAxisLabel:{defaultValue:null,description:"label for dependent axis",name:"dependentAxisLabel",required:!1,type:{name:"string"}},colors:{defaultValue:null,description:"colors for dependent axis",name:"colors",required:!1,type:{name:"string[]"}},showColumnLabels:{defaultValue:null,description:"Show column labels",name:"showColumnLabels",required:!1,type:{name:"boolean"}},data:{defaultValue:null,description:"plot data - following web-components' API, not Plotly's",name:"data",required:!1,type:{name:"MosaicPlotData"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Should plot legend be displayed? Default is yes",name:"displayLegend",required:!1,type:{name:"boolean"}},containerStyles:{defaultValue:null,description:"CSS styles for enclosing div\nDefault is { width: '100%', height: '400px' }",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},containerClass:{defaultValue:null,description:"class name for enclosing div. Default is web-components-plot",name:"containerClass",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"Enables mouse-overs and interaction if true. Default false.",name:"interactive",required:!1,type:{name:"boolean"}},displayLibraryControls:{defaultValue:null,description:"show Plotly's mode bar (only shows if interactive == true)",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},showSpinner:{defaultValue:null,description:"show a loading... spinner in the middle of the container div",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:"Show an overlay with the words 'No Data'",name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend layout and appearance.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},legendTitle:{defaultValue:null,description:"legend title",name:"legendTitle",required:!1,type:{name:"string"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},maxLegendTextLength:{defaultValue:null,description:"maximum number of characters for legend ellipsis",name:"maxLegendTextLength",required:!1,type:{name:"number"}},storedIndependentAxisTickLabel:{defaultValue:null,description:"original independent axis tick labels as data is changed at each component (barplot and boxplot)",name:"storedIndependentAxisTickLabel",required:!1,type:{name:"string[]"}},checkedLegendItems:{defaultValue:null,description:"list of checked legend items via checkbox input",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},onPlotlyRender:{defaultValue:null,description:"A function to call each time after plotly renders the plot",name:"onPlotlyRender",required:!1,type:{name:"((figure: Readonly<Figure>, graphDiv: Readonly<HTMLElement>) => void)"}},colorPalette:{defaultValue:null,description:"",name:"colorPalette",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/MosaicPlot.tsx#MosaicPlot"]={docgenInfo:MosaicPlot.__docgenInfo,name:"MosaicPlot",path:"src/plots/MosaicPlot.tsx#MosaicPlot"})}catch(__react_docgen_typescript_loader_error){}var FacetedPlot=__webpack_require__(157),jsx_runtime=__webpack_require__(1),defaultContainerStyles={height:360,width:750/1.45,marginBottom:"0.25rem",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066"},defaultSpacingOptions={marginRight:15,marginLeft:15,marginBottom:10,marginTop:50},FacetedMosaicPlot_FacetedMosaicPlot=function FacetedMosaicPlot(facetedMosaicPlotProps){var _componentProps$conta,_componentProps$spaci,componentProps=facetedMosaicPlotProps.componentProps;return Object(jsx_runtime.jsx)(FacetedPlot.a,Object.assign({component:plots_MosaicPlot},facetedMosaicPlotProps,{componentProps:Object.assign({},componentProps,{containerStyles:null!==(_componentProps$conta=componentProps.containerStyles)&&void 0!==_componentProps$conta?_componentProps$conta:defaultContainerStyles,spacingOptions:null!==(_componentProps$spaci=componentProps.spacingOptions)&&void 0!==_componentProps$spaci?_componentProps$spaci:defaultSpacingOptions})}))};FacetedMosaicPlot_FacetedMosaicPlot.displayName="FacetedMosaicPlot";var facetedPlots_FacetedMosaicPlot=FacetedMosaicPlot_FacetedMosaicPlot;try{FacetedMosaicPlot_FacetedMosaicPlot.displayName="FacetedMosaicPlot",FacetedMosaicPlot_FacetedMosaicPlot.__docgenInfo={description:"",displayName:"FacetedMosaicPlot",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"FacetedData<MosaicPlotData>"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!0,type:{name:"MosaicPlotProps"}},modalComponentProps:{defaultValue:null,description:"Provide modalComponentProps to activate click-to-expand\nThese are the props the expanded plot inside the modal will receive",name:"modalComponentProps",required:!1,type:{name:"MosaicPlotProps"}},facetedPlotRef:{defaultValue:null,description:"",name:"facetedPlotRef",required:!1,type:{name:"Ref<FacetedPlotRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/facetedPlots/FacetedMosaicPlot.tsx#FacetedMosaicPlot"]={docgenInfo:FacetedMosaicPlot_FacetedMosaicPlot.__docgenInfo,name:"FacetedMosaicPlot",path:"src/plots/facetedPlots/FacetedMosaicPlot.tsx#FacetedMosaicPlot"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Plots/Mosaic",component:plots_MosaicPlot};var MosaicPlot_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(plots_MosaicPlot,Object.assign({},args))};MosaicPlot_stories_Template.displayName="Template";var defaults={showColumnLabels:!0,displayLegend:!0,interactive:!1},TwoByTwo=MosaicPlot_stories_Template.bind({});TwoByTwo.args=Object.assign({},defaults,{data:{values:[[40,15],[10,25]],independentLabels:["Men","Women"],dependentLabels:["Died","Survived"]},independentAxisLabel:"Sex",dependentAxisLabel:"Status",colors:["orange","blue"],title:"Sex & Status Mosaic"});var TwoByThree=MosaicPlot_stories_Template.bind({});TwoByThree.args=Object.assign({},defaults,{data:{values:[[45,15,20],[10,45,20]],independentLabels:["Rabbit","Cat","Dog"],dependentLabels:["Positive","Negative"]},showColumnLabels:!1,displayLegend:!1});var fourByThreeData={values:[[52,15,35],[15,40,50],[20,15,7],[22,30,10]],independentLabels:["Mercury","Venus","Mars"],dependentLabels:["Nitrogen","Oxygen","Hydrogen","Other"]},FourByThree=MosaicPlot_stories_Template.bind({});FourByThree.args=Object.assign({},defaults,{data:fourByThreeData,independentAxisLabel:"Planet",dependentAxisLabel:"Atmospheric makeup",interactive:!0});var tenByTwelveData={values:[[84,97,78,24,100,55,74,62,4,5],[90,45,72,48,7,56,70,88,1,68],[23,42,15,39,33,16,15,90,5,51],[7,87,30,61,32,73,48,100,6,53],[99,92,61,97,9,85,2,45,77,16],[26,41,20,39,11,34,32,4,72,67],[77,71,93,45,10,20,62,93,90,79],[60,82,93,27,8,23,75,15,84,57],[21,36,3,89,78,98,64,31,59,57],[4,41,71,97,84,46,40,96,1,9],[44,40,99,87,19,70,67,65,27,84],[70,28,2,83,43,83,43,19,55,50]],independentLabels:["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],dependentLabels:["January","February","March","April","May","June","July","August","September","October","November","December"]},TenByTwelve=MosaicPlot_stories_Template.bind({});TenByTwelve.args=Object.assign({},defaults,{data:tenByTwelveData,independentAxisLabel:"Year",dependentAxisLabel:"Month",interactive:!0,containerStyles:{height:750,width:750}});var DynamicSize=MosaicPlot_stories_Template.bind({});DynamicSize.args=Object.assign({},defaults,{data:tenByTwelveData,independentAxisLabel:"Year",dependentAxisLabel:"Month",interactive:!0,containerStyles:{height:"80%",width:"80%"}});var RealData=MosaicPlot_stories_Template.bind({});RealData.args=Object.assign({},defaults,{data:{values:[[771,794,635,820,411,589,517],[769,587,726,818,376,605,522],[759,795,826,820,385,722,520],[787,714,496,820,402,560,521],[773,692,676,819,395,620,518]],independentLabels:["Bangladesh","India","Kenya","Mali","Mozambique","Pakistan","The Gambia"],dependentLabels:["0","1","2","3","4"],pValue:55703e-19,degreesFreedom:24,chisq:121.3516,completeCases:[{variableDetails:{variableId:"ENVO_00000009",entityId:"PCO_0000024"},completeCases:22567},{variableDetails:{variableId:"EUPATH_0000143",entityId:"PCO_0000024"},completeCases:22560}],completeCasesAllVars:22560,completeCasesAxesVars:22560},independentAxisLabel:"Country",dependentAxisLabel:"Household wealth index, categorical",interactive:!0,containerStyles:{width:750,height:450,marginTop:"0.75rem",marginLeft:"0.75rem",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066"},displayLibraryControls:!1,displayLegend:!1});var RealData2=MosaicPlot_stories_Template.bind({});RealData2.args=Object.assign({},defaults,{data:{values:[[0,707,15,1,1,3135,0,0,0],[0,3384,18,1,0,159,14,2,4],[7,623,1,1,1698,1029,0,0,0],[36,3700,290,9,0,59,1,1,1],[1,1335,1,0,328,309,2,0,0],[5,2177,69,0,54,785,2,1,3],[78,1901,113,89,113,301,1,2,0]],independentLabels:["Finished floor; carpet","Finished floor; cement","Finished floor; ceramic tile","Finished floor; vinyl of asphalt strips","Natural floor; dung","Natural floor; earth/sand","Other, specify","Rudimentary floor; palm/bamboo","Rudimentary floor; wood planks"],dependentLabels:["Bangladesh","India","Kenya","Mali","Mozambique","Pakistan","The Gambia"],pValue:0,degreesFreedom:48,chisq:18977.3082,completeCases:[{variableDetails:{variableId:"EUPATH_0000006",entityId:"PCO_0000024"},completeCases:22567},{variableDetails:{variableId:"ENVO_00000009",entityId:"PCO_0000024"},completeCases:22567}],completeCasesAllVars:22567,completeCasesAxesVars:22567},independentAxisLabel:"Floor material",dependentAxisLabel:"Country",interactive:!0,containerStyles:{width:750,height:450,marginTop:"0.75rem",marginLeft:"0.75rem",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066"},displayLibraryControls:!1,displayLegend:!1});var EmptyData=MosaicPlot_stories_Template.bind({});EmptyData.args={};var EmptyDataLoading=MosaicPlot_stories_Template.bind({});EmptyDataLoading.args={showSpinner:!0};var facetedData={facets:[{label:"10 bya"},{label:"4.5 bya",data:fourByThreeData},{label:"2 bya",data:fourByThreeData},{label:"Today",data:fourByThreeData},{label:"No data"}]},MosaicPlot_stories_FacetedTemplate=function FacetedTemplate(_ref){var data=_ref.data,componentProps=_ref.componentProps,modalComponentProps=_ref.modalComponentProps;return Object(jsx_runtime.jsx)(facetedPlots_FacetedMosaicPlot,{data:data,componentProps:componentProps,modalComponentProps:modalComponentProps})};MosaicPlot_stories_FacetedTemplate.displayName="FacetedTemplate";var Faceted=MosaicPlot_stories_FacetedTemplate.bind({});Faceted.args={data:facetedData,componentProps:{title:"Atmospheric makeup of planets over time",containerStyles:{width:300,height:300,border:"1px solid #dadada"}},modalComponentProps:{containerStyles:{width:"85%",height:"100%",margin:"auto"}}};var TwoByTwoLongAxisLabel=MosaicPlot_stories_Template.bind({});TwoByTwoLongAxisLabel.args=Object.assign({},defaults,{data:{values:[[40,15],[10,25]],independentLabels:["Men","Women"],dependentLabels:["Died","Survived"]},independentAxisLabel:"Weight-for-length or -height z-score, using median weight and median length or height",dependentAxisLabel:"Diarrhea case during the last 7 days, caregiver report",colors:["orange","blue"]}),TwoByTwo.parameters=Object.assign({storySource:{source:"(args) => <MosaicPlot {...args} />"}},TwoByTwo.parameters),TwoByThree.parameters=Object.assign({storySource:{source:"(args) => <MosaicPlot {...args} />"}},TwoByThree.parameters),FourByThree.parameters=Object.assign({storySource:{source:"(args) => <MosaicPlot {...args} />"}},FourByThree.parameters),TenByTwelve.parameters=Object.assign({storySource:{source:"(args) => <MosaicPlot {...args} />"}},TenByTwelve.parameters),DynamicSize.parameters=Object.assign({storySource:{source:"(args) => <MosaicPlot {...args} />"}},DynamicSize.parameters),RealData.parameters=Object.assign({storySource:{source:"(args) => <MosaicPlot {...args} />"}},RealData.parameters),RealData2.parameters=Object.assign({storySource:{source:"(args) => <MosaicPlot {...args} />"}},RealData2.parameters),EmptyData.parameters=Object.assign({storySource:{source:"(args) => <MosaicPlot {...args} />"}},EmptyData.parameters),EmptyDataLoading.parameters=Object.assign({storySource:{source:"(args) => <MosaicPlot {...args} />"}},EmptyDataLoading.parameters),Faceted.parameters=Object.assign({storySource:{source:"({\n  data,\n  componentProps,\n  modalComponentProps,\n}) => (\n  <FacetedMosaicPlot\n    data={data}\n    componentProps={componentProps}\n    modalComponentProps={modalComponentProps}\n  />\n)"}},Faceted.parameters),TwoByTwoLongAxisLabel.parameters=Object.assign({storySource:{source:"(args) => <MosaicPlot {...args} />"}},TwoByTwoLongAxisLabel.parameters)},2706:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(40),__webpack_require__(7),__webpack_require__(74),__webpack_require__(1004),__webpack_require__(207),__webpack_require__(76),__webpack_require__(1861),__webpack_require__(1862),__webpack_require__(1003);var client_api=__webpack_require__(2799),esm=__webpack_require__(28),parameters=(__webpack_require__(1863),{controls:{expanded:!0},layout:"fullscreen"});function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},2707:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"EntityDiagramUnified",(function(){return EntityDiagram_stories_EntityDiagramUnified})),__webpack_require__.d(__webpack_exports__,"EntityDiagramControls",(function(){return EntityDiagramControls}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19),__webpack_require__(40),__webpack_require__(152);var react=__webpack_require__(0),hierarchy=(__webpack_require__(247),__webpack_require__(50),__webpack_require__(143),__webpack_require__(144),__webpack_require__(150),__webpack_require__(1867),__webpack_require__(25),__webpack_require__(169),__webpack_require__(342)),Tree=__webpack_require__(2798),Group=__webpack_require__(2784),Text=__webpack_require__(2797),Line=__webpack_require__(2785),LinearGradient=__webpack_require__(2786),jsx_runtime=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function EntityDiagram(_ref){var treeData=_ref.treeData,orientation=_ref.orientation,isExpanded=_ref.isExpanded,highlightedEntityID=_ref.highlightedEntityID,filteredEntities=_ref.filteredEntities,entityCounts=_ref.entityCounts,renderNode=_ref.renderNode,size=_ref.size,_ref$selectedTextBold=_ref.selectedTextBold,selectedTextBold=void 0===_ref$selectedTextBold||_ref$selectedTextBold,_ref$selectedBorderWe=_ref.selectedBorderWeight,selectedBorderWeight=void 0===_ref$selectedBorderWe?1:_ref$selectedBorderWe,_ref$selectedHighligh=_ref.selectedHighlightWeight,selectedHighlightWeight=void 0===_ref$selectedHighligh?3:_ref$selectedHighligh,_ref$selectedHighligh2=_ref.selectedHighlightColor,selectedHighlightColor=void 0===_ref$selectedHighligh2?"rgba(60, 120, 216, 1)":_ref$selectedHighligh2,_ref$shadowDx=_ref.shadowDx,shadowDx=void 0===_ref$shadowDx?2:_ref$shadowDx,_ref$shadowDy=_ref.shadowDy,shadowDy=void 0===_ref$shadowDy?2:_ref$shadowDy,_ref$shadowDispersion=_ref.shadowDispersion,shadowDispersion=void 0===_ref$shadowDispersion?.2:_ref$shadowDispersion,_ref$shadowOpacity=_ref.shadowOpacity,shadowOpacity=void 0===_ref$shadowOpacity?.3:_ref$shadowOpacity,_ref$miniNodeWidth=_ref.miniNodeWidth,miniNodeWidth=void 0===_ref$miniNodeWidth?35:_ref$miniNodeWidth,_ref$miniNodeHeight=_ref.miniNodeHeight,miniNodeHeight=void 0===_ref$miniNodeHeight?20:_ref$miniNodeHeight,_ref$expandedNodeWidt=_ref.expandedNodeWidth,expandedNodeWidth=void 0===_ref$expandedNodeWidt?120:_ref$expandedNodeWidt,_ref$expandedNodeHeig=_ref.expandedNodeHeight,expandedNodeHeight=void 0===_ref$expandedNodeHeig?40:_ref$expandedNodeHeig,_ref$fontSize=_ref.fontSize,fontSize=void 0===_ref$fontSize?12:_ref$fontSize,_ref$shadingColor=_ref.shadingColor,shadingColor=void 0===_ref$shadingColor?"#e4c8c8":_ref$shadingColor,data=Object(hierarchy.c)(treeData),nodeWidth=isExpanded?expandedNodeWidth:miniNodeWidth,nodeHeight=isExpanded?expandedNodeHeight:miniNodeHeight,nodeHighlightWidth=selectedHighlightWeight,treeHeight=("horizontal"===orientation?size.width-nodeWidth:size.height-nodeHeight)-2*nodeHighlightWidth-shadowDy,treeWidth="horizontal"===orientation?size.height:size.width,treeLeft="horizontal"===orientation?nodeWidth/2+nodeHighlightWidth:0,treeTop=("horizontal"===orientation?0:nodeHeight/2)+nodeHighlightWidth;function CustomNode(_ref2){var _renderNode,displayText,_node$data$displayNam,node=_ref2.node,isHighlighted=highlightedEntityID==node.data.id;isExpanded?displayText=null!==(_node$data$displayNam=node.data.displayNamePlural)&&void 0!==_node$data$displayNam?_node$data$displayNam:node.data.displayName:displayText=node.data.displayName.match(/\b(\w)/g).join("");var rectHeight=nodeHeight-4,rectWidth=nodeWidth-4,borderWidth=isHighlighted?selectedBorderWeight:2,backgroundRect=Object(jsx_runtime.jsx)("rect",{height:rectHeight+borderWidth,width:rectWidth+borderWidth,y:-rectHeight/2-borderWidth/2,x:-rectWidth/2-borderWidth/2,rx:".3em",fill:"white",strokeWidth:borderWidth,stroke:"transparent",style:{filter:0==shadowOpacity?void 0:isHighlighted?"url(#selected-shadow)":"url(#shadow)"}}),borderRect=Object(jsx_runtime.jsx)("rect",{height:rectHeight+borderWidth,width:rectWidth+borderWidth,y:-rectHeight/2-borderWidth/2,x:-rectWidth/2-borderWidth/2,rx:".3em",fill:"none",stroke:isHighlighted?selectedHighlightColor:"#666",strokeWidth:isHighlighted?borderWidth+1:borderWidth}),shadingRect=Object(jsx_runtime.jsx)("rect",{height:isExpanded?8:rectHeight,width:rectWidth,y:isExpanded?rectHeight/2-8:-rectHeight/2,x:-rectWidth/2,fill:entityCounts?"url('#rect-gradient-"+node.data.id+"')":"white",style:{overflowWrap:isExpanded?"normal":void 0}}),text=Object(jsx_runtime.jsx)(Text.a,{fontSize:isHighlighted?1.1*fontSize:fontSize,fontWeight:500,textAnchor:"middle",verticalAnchor:"middle",style:{userSelect:"none",fontWeight:isHighlighted&&selectedTextBold?"bold":void 0},dy:isExpanded?-8:0,children:displayText}),count=entityCounts&&isExpanded?Object(jsx_runtime.jsx)(Text.a,{fontSize:isHighlighted?1.1*fontSize*.8:.8*fontSize,fontWeight:500,fill:"#333",textAnchor:"middle",verticalAnchor:"end",y:.8*fontSize,children:entityCounts[node.data.id].filtered.toLocaleString()+" of "+entityCounts[node.data.id].total.toLocaleString()}):Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{}),filterIcon=null!=filteredEntities&&filteredEntities.includes(node.data.id)?Object(jsx_runtime.jsxs)(Group.a,{children:[Object(jsx_runtime.jsx)("title",{children:"This entity has filters"}),Object(jsx_runtime.jsx)(Text.a,{fontSize:14,fontFamily:"FontAwesome",fill:"green",textAnchor:"start",x:rectWidth/2-16,dy:-8,verticalAnchor:"middle",children:""})]}):null,children=Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[backgroundRect,shadingRect,filterIcon,text,count,borderRect]});return Object(jsx_runtime.jsxs)(Group.a,{top:"horizontal"==orientation?node.x:node.y,left:"horizontal"==orientation?node.y:node.x,children:[null!==(_renderNode=null==renderNode?void 0:renderNode(node.data,children))&&void 0!==_renderNode?_renderNode:children,!isExpanded&&Object(jsx_runtime.jsx)("title",{children:node.data.displayName})]})}function OffsetLine(_ref3){var to,from,link=_ref3.link,nodeHeight=_ref3.nodeHeight,nodeWidth=_ref3.nodeWidth,orientation=_ref3.orientation,isOneToMany=link.target.data.isManyToOneWithParent,offset=link.target.y-nodeWidth/2-(link.source.y+nodeWidth/2)>40?15:0;"horizontal"==orientation?(from={x:link.source.y+nodeWidth/2+offset,y:link.source.x},to={x:isOneToMany?link.target.y-nodeWidth/2-5-2*offset:link.target.y-nodeWidth/2-5-offset,y:link.target.x}):(from={x:link.source.x,y:link.source.y},to={x:link.target.x,y:link.target.y-nodeHeight/2-5});var oneToManyNodeEndpoints=[];return isOneToMany&&oneToManyNodeEndpoints.push({x:to.x+("horizontal"==orientation?offset:nodeHeight/2),y:to.y+("horizontal"==orientation?nodeHeight/4:0)},{x:to.x+("horizontal"==orientation?offset:0),y:to.y},{x:to.x+("horizontal"==orientation?offset:nodeHeight/2*-1),y:to.y-("horizontal"==orientation?nodeHeight/4:0)}),Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Line.a,{from:from,to:to,stroke:"#777",strokeWidth:2,markerStart:"url(#dot)",markerEnd:isOneToMany?"":"url(#dot)"}),isOneToMany?oneToManyNodeEndpoints.map((function(endpoint,index){return Object(jsx_runtime.jsx)(Line.a,{from:to,to:endpoint,stroke:"#777",strokeWidth:2,markerEnd:"url(#dot)"},index)})):null]})}var nodeSize=isExpanded?4.25:3.5;return Object(jsx_runtime.jsx)("div",{className:isExpanded?"expanded-diagram":"mini-diagram",children:Object(jsx_runtime.jsxs)("svg",{width:size.width,height:size.height,children:[Object(jsx_runtime.jsxs)("defs",{children:[Object(jsx_runtime.jsx)("marker",{id:"dot",viewBox:"0 0 10 10",markerWidth:nodeSize,markerHeight:nodeSize,orient:"auto",fill:"#777",refX:nodeSize,refY:nodeSize,children:Object(jsx_runtime.jsx)("circle",{cx:nodeSize,cy:nodeSize,r:nodeSize})}),Object(jsx_runtime.jsx)("filter",{id:"shadow",x:"-20%",y:"-40%",width:"150%",height:"200%",children:Object(jsx_runtime.jsx)("feDropShadow",{dx:shadowDx,dy:shadowDy,stdDeviation:shadowDispersion,floodOpacity:shadowOpacity})}),Object(jsx_runtime.jsx)("filter",{id:"selected-shadow",x:"-20%",y:"-40%",width:"150%",height:"200%",children:Object(jsx_runtime.jsx)("feDropShadow",{dx:1.5*shadowDx,dy:1.5*shadowDy,stdDeviation:2*shadowDispersion,floodOpacity:shadowOpacity})})]}),entityCounts&&Object.entries(entityCounts).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),entityId=_ref5[0],_ref5$=_ref5[1],total=_ref5$.total,filtered=_ref5$.filtered;return Object(jsx_runtime.jsx)(LinearGradient.a,{vertical:!1,x1:0,x2:filtered/total,fromOffset:1,id:"rect-gradient-"+entityId,from:shadingColor,to:isExpanded?"#cccccc":"white"},entityId)})),Object(jsx_runtime.jsx)(Tree.a,{root:data,size:[treeWidth,treeHeight],children:function children(tree){return Object(jsx_runtime.jsxs)(Group.a,{left:treeLeft,top:treeTop,children:[tree.links().map((function(link,i){return Object(jsx_runtime.jsx)(OffsetLine,{link:link,nodeHeight:nodeHeight,nodeWidth:nodeWidth,orientation:orientation},"link-"+i)})),tree.descendants().map((function(node,i){return Object(jsx_runtime.jsx)(CustomNode,{node:node},"node-"+i)}))]})}})]})})}EntityDiagram.displayName="EntityDiagram";try{EntityDiagram.displayName="EntityDiagram",EntityDiagram.__docgenInfo={description:"",displayName:"EntityDiagram",props:{treeData:{defaultValue:null,description:"Data that defines the tree structure",name:"treeData",required:!0,type:{name:"StudyData"}},orientation:{defaultValue:null,description:"Which direction the tree is oriented",name:"orientation",required:!0,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},isExpanded:{defaultValue:null,description:"Whether the diagram is expanded",name:"isExpanded",required:!0,type:{name:"boolean"}},filteredEntities:{defaultValue:null,description:"Array of entity IDs that have filters applied",name:"filteredEntities",required:!1,type:{name:"string[]"}},size:{defaultValue:null,description:"The tree's dimensions. If the tree is horizontal, it may not take up the\nwhole height; if it's vertical, it may not take up the full width.",name:"size",required:!0,type:{name:"{ height: number; width: number; }"}},highlightedEntityID:{defaultValue:null,description:"Which entity to highlight",name:"highlightedEntityID",required:!1,type:{name:"string"}},entityCounts:{defaultValue:null,description:"Counts used for red/gray bar and display",name:"entityCounts",required:!1,type:{name:"EntityCounts"}},renderNode:{defaultValue:null,description:"An optional function returning the element to render for a node given its\ndata",name:"renderNode",required:!1,type:{name:"((node: StudyData, children?: ReactNode) => ReactElement<any, string | JSXElementConstructor<any>> | null)"}},selectedTextBold:{defaultValue:{value:"true"},description:"",name:"selectedTextBold",required:!1,type:{name:"boolean"}},selectedBorderWeight:{defaultValue:{value:"1"},description:"",name:"selectedBorderWeight",required:!1,type:{name:"number"}},selectedHighlightWeight:{defaultValue:{value:"3"},description:"",name:"selectedHighlightWeight",required:!1,type:{name:"number"}},selectedHighlightColor:{defaultValue:{value:"rgba(60, 120, 216, 1)"},description:"",name:"selectedHighlightColor",required:!1,type:{name:"string"}},shadowDx:{defaultValue:{value:"2"},description:"",name:"shadowDx",required:!1,type:{name:"number"}},shadowDy:{defaultValue:{value:"2"},description:"",name:"shadowDy",required:!1,type:{name:"number"}},shadowDispersion:{defaultValue:{value:"0.2"},description:"",name:"shadowDispersion",required:!1,type:{name:"number"}},shadowOpacity:{defaultValue:{value:"0.3"},description:"",name:"shadowOpacity",required:!1,type:{name:"number"}},miniNodeWidth:{defaultValue:{value:"35"},description:"",name:"miniNodeWidth",required:!1,type:{name:"number"}},miniNodeHeight:{defaultValue:{value:"20"},description:"",name:"miniNodeHeight",required:!1,type:{name:"number"}},expandedNodeWidth:{defaultValue:{value:"120"},description:"",name:"expandedNodeWidth",required:!1,type:{name:"number"}},expandedNodeHeight:{defaultValue:{value:"40"},description:"",name:"expandedNodeHeight",required:!1,type:{name:"number"}},fontSize:{defaultValue:{value:"12"},description:"",name:"fontSize",required:!1,type:{name:"number"}},shadingColor:{defaultValue:{value:"#e4c8c8"},description:"",name:"shadingColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/EntityDiagram/EntityDiagram.tsx#EntityDiagram"]={docgenInfo:EntityDiagram.__docgenInfo,name:"EntityDiagram",path:"src/EntityDiagram/EntityDiagram.tsx#EntityDiagram"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(1877);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function EntityDiagram_stories_slicedToArray(arr,i){return function EntityDiagram_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EntityDiagram_stories_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function EntityDiagram_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return EntityDiagram_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EntityDiagram_stories_arrayLikeToArray(o,minLen)}(arr,i)||function EntityDiagram_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EntityDiagram_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Entity Diagram",component:EntityDiagram};var studyData={id:"DS12385",rootEntity:{id:"GEMS_House",displayName:"Household",description:"Households from the study area",children:[{id:"GEMS_HouseObs",displayName:"Household Observation",description:"",children:[],isManyToOneWithParent:!0,variables:[{id:"var-19",providerLabel:"_watersupply",displayName:"Water supply",type:"string",isMultiValued:!1}]},{id:"GEMS_Part",displayName:"Participant",description:"Participants in the study",children:[{id:"GEMS_PartObs",displayName:"Participant Observation",description:"",children:[{id:"GEMS_Sample",displayName:"Sample",description:"",children:[],variables:[]},{id:"GEMS_Treat",displayName:"Treatment",description:"",children:[],variables:[]}],variables:[{id:"var-12",providerLabel:"_weight",displayName:"Weight",type:"number",isContinuous:!0,precision:2,units:"pounds",isMultiValued:!0},{id:"var-13",providerLabel:"_favnumber",displayName:"Favorite number",type:"number",isContinuous:!1,precision:0,units:"",isMultiValued:!1},{id:"var-14",providerLabel:"_startdate",displayName:"Start date",type:"date",isContinuous:!1,isMultiValued:!1},{id:"var-15",providerLabel:"_visitdate",displayName:"Visit date",type:"number",isContinuous:!1,precision:0,isMultiValued:!1},{id:"var-16",providerLabel:"_mood",displayName:"Mood",type:"string",isMultiValued:!1}]}],variables:[{id:"var-10",providerLabel:"_networth",displayName:"Net worth",type:"number",isContinuous:!0,precision:2,units:"dollars",isMultiValued:!0},{id:"var-11",providerLabel:"_shoesize",displayName:"Shoe size",type:"number",isContinuous:!0,precision:1,units:"shoe size",isMultiValued:!0},{id:"var-17",providerLabel:"_haircolor",displayName:"Hair color",type:"string",isMultiValued:!1},{id:"var-20",providerLabel:"_name",displayName:"Name",type:"string",isMultiValued:!1}]}],variables:[{id:"var-18",providerLabel:"_address",displayName:"City",type:"string",isMultiValued:!1}]}},EntityDiagram_stories_entityCounts={GEMS_House:{total:100,filtered:5},GEMS_HouseObs:{total:100,filtered:2},GEMS_Part:{total:100,filtered:41},GEMS_PartObs:{total:100,filtered:66},GEMS_Treat:{total:100,filtered:100},GEMS_Sample:{total:100,filtered:30}},miniSize={height:300,width:150},expandedSize={height:500,width:600},miniDivSize={height:miniSize.height+3,width:miniSize.width+3},expandedDivSize={height:expandedSize.height+2,width:expandedSize.width+2},EntityDiagram_stories_EntityDiagramUnified=function EntityDiagramUnified(){var _useState2=EntityDiagram_stories_slicedToArray(Object(react.useState)("vertical"),2),orientation=_useState2[0],setOrientation=_useState2[1],_useState4=EntityDiagram_stories_slicedToArray(Object(react.useState)(!1),2),expanded=_useState4[0],setExpanded=_useState4[1],size=expanded?expandedSize:miniSize,divSize=expanded?expandedDivSize:miniDivSize;return Object(jsx_runtime.jsxs)("div",{style:{marginLeft:40,marginTop:40,width:1e3,height:700},children:[Object(jsx_runtime.jsx)("button",{onClick:function onClick(){return setOrientation("horizontal"==orientation?"vertical":"horizontal")},children:"Switch Orientation"}),Object(jsx_runtime.jsx)("button",{onClick:function onClick(){return setExpanded(!expanded)},children:"Switch Size"}),Object(jsx_runtime.jsx)("div",{style:Object.assign({},divSize,{border:"1px solid",padding:"1px"}),children:Object(jsx_runtime.jsx)(EntityDiagram,{treeData:studyData.rootEntity,orientation:orientation,isExpanded:expanded,highlightedEntityID:"Sample",entityCounts:EntityDiagram_stories_entityCounts,size:size,selectedBorderWeight:1,selectedHighlightColor:"yellow",selectedHighlightWeight:3,selectedTextBold:!1})})]})};EntityDiagram_stories_EntityDiagramUnified.displayName="EntityDiagramUnified";var EntityDiagram_stories_Template=function Template(_ref){var width=_ref.width,height=_ref.height,args=_objectWithoutProperties(_ref,["width","height"]);return Object(jsx_runtime.jsx)(EntityDiagram,Object.assign({},args,{size:{width:width,height:height}}))};EntityDiagram_stories_Template.displayName="Template";var EntityDiagramControls=EntityDiagram_stories_Template.bind({});EntityDiagramControls.args={width:miniSize.width,height:miniSize.height,orientation:"vertical",isExpanded:!1,selectedBorderWeight:1,selectedHighlightColor:"rgba(60, 120, 216, 1)",selectedHighlightWeight:3,selectedTextBold:!0,shadowDx:2,shadowDy:2,shadowDispersion:.2,shadowOpacity:.3,highlightedEntityID:"Sample",shadingColor:"#e4c8c8",entityCounts:EntityDiagram_stories_entityCounts,treeData:studyData.rootEntity,fontSize:12,miniNodeWidth:35,miniNodeHeight:20,expandedNodeWidth:120,expandedNodeHeight:40},EntityDiagramControls.argTypes={orientation:{control:{type:"radio",options:["vertical","horizontal"]}},shadingColor:{control:"color"},selectedHighlightColor:{control:"color",table:{category:"selected node style"}},selectedBorderWeight:{control:{type:"number",min:0,step:1},table:{category:"selected node style"}},selectedHighlightWeight:{control:{type:"number",min:0,step:1},table:{category:"selected node style"}},selectedTextBold:{table:{category:"selected node style"}},shadowDx:{control:{type:"number",min:0,step:1},table:{category:"drop shadow"}},shadowDy:{control:{type:"number",min:0,step:1},table:{category:"drop shadow"}},shadowDispersion:{control:{type:"number",min:0,step:.1},table:{category:"drop shadow"}},shadowOpacity:{control:{type:"number",min:0,max:1,step:.1},table:{category:"drop shadow"}},width:{control:{type:"number",min:0,step:50}},height:{control:{type:"number",min:0,step:50}},miniNodeWidth:{table:{category:"mini"}},miniNodeHeight:{table:{category:"mini"}},expandedNodeWidth:{table:{category:"expanded"}},expandedNodeHeight:{table:{category:"expanded"}}},EntityDiagram_stories_EntityDiagramUnified.parameters=Object.assign({storySource:{source:"() => {\n  const [orientation, setOrientation] = useState<'horizontal' | 'vertical'>(\n    'vertical'\n  );\n  const [expanded, setExpanded] = useState<boolean>(false);\n  const size = expanded ? expandedSize : miniSize;\n  const divSize = expanded ? expandedDivSize : miniDivSize;\n\n  return (\n    <div\n      style={{\n        marginLeft: 40,\n        marginTop: 40,\n        width: 1000,\n        height: 700,\n      }}\n    >\n      <button\n        onClick={() =>\n          orientation == 'horizontal'\n            ? setOrientation('vertical')\n            : setOrientation('horizontal')\n        }\n      >\n        Switch Orientation\n      </button>\n      <button\n        onClick={() => (expanded ? setExpanded(false) : setExpanded(true))}\n      >\n        Switch Size\n      </button>\n      <div style={{ ...divSize, border: '1px solid', padding: '1px' }}>\n        <EntityDiagram\n          treeData={studyData.rootEntity}\n          orientation={orientation}\n          isExpanded={expanded}\n          highlightedEntityID={'Sample'}\n          entityCounts={entityCounts}\n          size={size}\n          selectedBorderWeight={1}\n          selectedHighlightColor=\"yellow\"\n          selectedHighlightWeight={3}\n          selectedTextBold={false}\n        />\n      </div>\n    </div>\n  );\n}"}},EntityDiagram_stories_EntityDiagramUnified.parameters),EntityDiagramControls.parameters=Object.assign({storySource:{source:"({ width, height, ...args }) => (\n  <EntityDiagram {...args} size={{ width: width, height: height }} />\n)"}},EntityDiagramControls.parameters)},2708:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SidebarResize",(function(){return SidebarResize_stories_SidebarResize}));__webpack_require__(63),__webpack_require__(8),__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react=__webpack_require__(0),map=__webpack_require__(56),getMarkersFromFixtureData=__webpack_require__(112),Sidebar=__webpack_require__(86),TabHomeContent=__webpack_require__(623),PiePlot=(__webpack_require__(108),__webpack_require__(25),__webpack_require__(121),__webpack_require__(151),__webpack_require__(273)),jsx_runtime=__webpack_require__(1);function TabPieChartContent(props){var _sumValues,sumValues;sumValues=props.pieChartData?props.pieChartData.slices.map((function(o){return o.value})).reduce((function(a,c){return a+c})):null;var height=300+30*(props.pieChartData?props.pieChartData.slices.length:0);return Object(jsx_runtime.jsx)(PiePlot.a,{data:props.pieChartData?props.pieChartData:{slices:[]},donutOptions:{size:.4,text:null===(_sumValues=sumValues)||void 0===_sumValues?void 0:_sumValues.toString(),fontSize:20},containerStyles:{width:"300px",height:height+"px"},spacingOptions:{marginTop:0,marginBottom:0,marginLeft:10,marginRight:20,padding:0},legendOptions:{orientation:"horizontal",horizontalPosition:"left",verticalPosition:"bottom",verticalPaddingAdjustment:-.5},displayLegend:null==props.showLegend||props.showLegend,displayLibraryControls:!1})}TabPieChartContent.displayName="TabPieChartContent";try{TabPieChartContent.displayName="TabPieChartContent",TabPieChartContent.__docgenInfo={description:"",displayName:"TabPieChartContent",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},pieChartData:{defaultValue:null,description:"",name:"pieChartData",required:!1,type:{name:"PiePlotData"}},showLegend:{defaultValue:null,description:"",name:"showLegend",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/TabPieChartContent.tsx#TabPieChartContent"]={docgenInfo:TabPieChartContent.__docgenInfo,name:"TabPieChartContent",path:"src/map/TabPieChartContent.tsx#TabPieChartContent"})}catch(__react_docgen_typescript_loader_error){}var MapVEuMap=__webpack_require__(70),geohash=__webpack_require__(165);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Sidebar/Sidebar in map",component:Sidebar.a,subcomponents:{Tab:Sidebar.b}};var defaultAnimation={method:"geohash",animationFunction:geohash.a,duration:map.c};var handleMarkerClick=function handleMarkerClick(e){!function removeClassName(targetClass){var targetElement=document.getElementsByClassName(targetClass)[0];null!=targetElement&&targetElement.classList.remove(targetClass)}("highlight-marker"),e.target._icon.classList.add("highlight-marker")},SidebarResize_stories_SidebarResize=function SidebarResize(args){var _useState2=_slicedToArray(Object(react.useState)([]),2),markerElements=_useState2[0],setMarkerElements=_useState2[1],noop=function noop(){},handleViewportChanged=Object(react.useCallback)(function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(bvp){var markers;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(getMarkersFromFixtureData.d)(bvp,map.c,noop,handleMarkerClick);case 2:markers=_context.sent,setMarkerElements(markers);case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[setMarkerElements]),_useState4=_slicedToArray(Object(react.useState)(!0),2),sidebarCollapsed=_useState4[0],setSidebarCollapsed=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(""),2),tabSelected=_useState6[0],setTabSelected=_useState6[1],viewport=_slicedToArray(Object(react.useState)({center:[13,16],zoom:4}),1)[0];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(Sidebar.a,{id:"leaflet-sidebar",collapsed:sidebarCollapsed,position:"left",selected:tabSelected,closeIcon:"fas fa-times",onOpen:function sidebarOnOpen(id){var el=document.getElementsByClassName("leaflet-sidebar-content")[0]?document.getElementsByClassName("leaflet-sidebar-content")[0]:null,tabStyle=null==el?void 0:el.getAttributeNode("style");tabStyle&&(null==el||el.removeAttributeNode(tabStyle)),tabSelected!=id?(setSidebarCollapsed(!1),setTabSelected(id)):(setSidebarCollapsed(!0),setTabSelected(""))},onClose:function sidebarOnClose(){setSidebarCollapsed(!0),setTabSelected("");var el=document.getElementsByClassName("leaflet-sidebar-content")[0]?document.getElementsByClassName("leaflet-sidebar-content")[0]:null,tabStyle=null==el?void 0:el.getAttributeNode("style");tabStyle&&(null==el||el.removeAttributeNode(tabStyle))},children:[Object(jsx_runtime.jsx)(Sidebar.b,{id:"home",header:"Home",icon:"fas fa-home",children:Object(jsx_runtime.jsx)(TabHomeContent.a,{id:"home",header:"this is Home"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"settings",header:"Settings",icon:"fas fa-cog",disabled:!0,children:Object(jsx_runtime.jsx)("p",{children:"Change settings"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"gap1",header:"",icon:"",disabled:!0,divider:!0,children:Object(jsx_runtime.jsx)("p",{children:"gap1"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"marker-table1",header:"Details for selected samples",icon:"fas fa-table",children:Object(jsx_runtime.jsx)("p",{children:"Detailed table???"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"export",header:"Export Data",icon:"fas fa-download",children:Object(jsx_runtime.jsx)("p",{children:"Download data"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"gap2",header:"",icon:"",disabled:!0,divider:!0,children:Object(jsx_runtime.jsx)("p",{children:"gap2"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"plot",header:"Summary",icon:"fas fa-chart-pie",children:Object(jsx_runtime.jsx)(TabPieChartContent,{id:"graph",header:"this is Home",pieChartData:{slices:[{color:"#FFB300",label:"Anopheles gambiae sensu stricto",value:130},{color:"#803E75",label:"Anopheles coluzzii",value:127},{color:"#C10020",label:"Anopheles gambiae sensu lato",value:47},{color:"silver",label:"Anopheles funestus",value:10},{color:"#FF7A5C",label:"Culex quinquefasciatus",value:6},{color:"#FFB300",label:"Anopheles gambiae sensu stricto1",value:130},{color:"#803E75",label:"Anopheles coluzzii1",value:127},{color:"#C10020",label:"Anopheles gambiae sensu lato1",value:47},{color:"silver",label:"Anopheles funestus1",value:10},{color:"#FF7A5C",label:"Culex quinquefasciatus1",value:6}]}})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"boxplot",header:"Box Plot",icon:"fas fa-percent",children:Object(jsx_runtime.jsx)("p",{children:"Box plot"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"graph",header:"Chart",icon:"fas fa-chart-bar",children:Object(jsx_runtime.jsx)("p",{children:"This is for chart"})}),Object(jsx_runtime.jsx)(Sidebar.b,{id:"help",header:"Tutorial",icon:"fas fa-question",anchor:"bottom",children:Object(jsx_runtime.jsx)("p",{children:"Help/Tutorial"})})]}),Object(jsx_runtime.jsx)(MapVEuMap.a,Object.assign({},args,{viewport:viewport,onBoundsChanged:handleViewportChanged,markers:markerElements,animation:defaultAnimation}))]})};SidebarResize_stories_SidebarResize.args={height:"100vh",width:"100vw",showGrid:!0,showMouseToolbar:!0},SidebarResize_stories_SidebarResize.parameters=Object.assign({storySource:{source:'(args) => {\n  //MapVeuMap stuff\n  const [markerElements, setMarkerElements] = useState<\n    ReactElement<BoundsDriftMarkerProps>[]\n  >([]);\n\n  //make a no-op function instead of setLegendData as this story does not use legend\n  // const [legendData, setLegendData] = useState<LegendProps[\'data\']>([]);\n  const noop = () => {};\n\n  const handleViewportChanged = useCallback(\n    async (bvp: BoundsViewport) => {\n      const markers = await getSpeciesDonuts(\n        bvp,\n        defaultAnimationDuration,\n        noop,\n        handleMarkerClick\n      );\n      setMarkerElements(markers);\n    },\n    [setMarkerElements]\n  );\n\n  //Sidebar state managements (for categorical)\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(true);\n  const [tabSelected, setTabSelected] = useState(\'\'); //could be used to set default active tab, e.g., \'Home\', but leave blank\n  const [viewport] = useState<Viewport>({ center: [13, 16], zoom: 4 });\n\n  //this is X button/icon behavior considering sidebar resize\n  const sidebarOnClose = () => {\n    setSidebarCollapsed(true);\n    //add this to fix a bug\n    setTabSelected(\'\');\n\n    //this works!\n    let el: Element | null = document.getElementsByClassName(\n      \'leaflet-sidebar-content\'\n    )[0]\n      ? document.getElementsByClassName(\'leaflet-sidebar-content\')[0]\n      : null;\n    // let el: any = document.getElementById("leaflet-sidebar-content")? document.getElementById("leaflet-sidebar-content"): \'\';\n    let tabStyle = el?.getAttributeNode(\'style\');\n    if (tabStyle) {\n      el?.removeAttributeNode(tabStyle);\n    }\n  };\n\n  //this is sidebar opening considering sidebar resize\n  const sidebarOnOpen = (id: string) => {\n    //removing style for re-resizable here may help for 1st click bug - yes\n    let el: Element | null = document.getElementsByClassName(\n      \'leaflet-sidebar-content\'\n    )[0]\n      ? document.getElementsByClassName(\'leaflet-sidebar-content\')[0]\n      : null;\n    // let el: any = document.getElementById("leaflet-sidebar-content")? document.getElementById("leaflet-sidebar-content"): \'\';\n    let tabStyle = el?.getAttributeNode(\'style\');\n    if (tabStyle) {\n      el?.removeAttributeNode(tabStyle);\n    }\n\n    //add a function to close drawer by clicking the same icon\n    if (tabSelected != id) {\n      setSidebarCollapsed(false);\n      setTabSelected(id);\n    } else {\n      setSidebarCollapsed(true);\n      //clear tabSelected so that the tab can be reopen\n      setTabSelected(\'\');\n    }\n  };\n\n  //5 data\n  // let pieChartData = [{color: "#FFB300", label: "Anopheles gambiae sensu stricto", value: 130},{color: "#803E75", label: "Anopheles coluzzii", value: 127},{color: "#C10020", label: "Anopheles gambiae sensu lato", value: 47},{color: "silver", label: "Anopheles funestus", value: 10},{color: "#FF7A5C", label: "Culex quinquefasciatus", value: 6}];\n  //test more data like 10\n  let pieChartData = {\n    slices: [\n      {\n        color: \'#FFB300\',\n        label: \'Anopheles gambiae sensu stricto\',\n        value: 130,\n      },\n      { color: \'#803E75\', label: \'Anopheles coluzzii\', value: 127 },\n      { color: \'#C10020\', label: \'Anopheles gambiae sensu lato\', value: 47 },\n      { color: \'silver\', label: \'Anopheles funestus\', value: 10 },\n      { color: \'#FF7A5C\', label: \'Culex quinquefasciatus\', value: 6 },\n      {\n        color: \'#FFB300\',\n        label: \'Anopheles gambiae sensu stricto1\',\n        value: 130,\n      },\n      { color: \'#803E75\', label: \'Anopheles coluzzii1\', value: 127 },\n      { color: \'#C10020\', label: \'Anopheles gambiae sensu lato1\', value: 47 },\n      { color: \'silver\', label: \'Anopheles funestus1\', value: 10 },\n      { color: \'#FF7A5C\', label: \'Culex quinquefasciatus1\', value: 6 },\n    ],\n  };\n\n  let testText = \'this is Home\';\n\n  return (\n    <>\n      <Sidebar\n        id="leaflet-sidebar"\n        collapsed={sidebarCollapsed}\n        position="left"\n        selected={tabSelected}\n        closeIcon="fas fa-times"\n        onOpen={sidebarOnOpen}\n        onClose={sidebarOnClose}\n      >\n        <Tab id="home" header="Home" icon="fas fa-home">\n          {/* a test to separate tab contents into a component, TabHomeContent */}\n          <TabHomeContent id={\'home\'} header={testText} />\n        </Tab>\n        {/* testing disabled - greyish icon*/}\n        <Tab id="settings" header="Settings" icon="fas fa-cog" disabled>\n          <p>Change settings</p>\n        </Tab>\n        {/* add disabled tap - no header & icon, use both diabled and divider */}\n        <Tab id="gap1" header="" icon="" disabled divider>\n          <p>gap1</p>\n        </Tab>\n        <Tab\n          id="marker-table1"\n          header="Details for selected samples"\n          icon="fas fa-table"\n        >\n          <p>Detailed table???</p>\n        </Tab>\n        <Tab id="export" header="Export Data" icon="fas fa-download">\n          <p>Download data</p>\n        </Tab>\n        {/* add disabled tap - no header & icon, use both diabled and divider */}\n        <Tab id="gap2" header="" icon="" disabled divider>\n          <p>gap2</p>\n        </Tab>\n        <Tab id="plot" header="Summary" icon="fas fa-chart-pie">\n          {/* a test to separate tab contents into a component, TabHomeContent */}\n          <TabPieChartContent\n            id={\'graph\'}\n            header={testText}\n            pieChartData={pieChartData}\n          />\n        </Tab>\n        {/* no box plot icon exists in fontawesome */}\n        <Tab id="boxplot" header="Box Plot" icon="fas fa-percent">\n          <p>Box plot</p>\n        </Tab>\n        <Tab id="graph" header="Chart" icon="fas fa-chart-bar">\n          <p>This is for chart</p>\n        </Tab>\n        {/* placing bottom side using  anchor="bottom" attribute */}\n        <Tab id="help" header="Tutorial" icon="fas fa-question" anchor="bottom">\n          <p>Help/Tutorial</p>\n        </Tab>\n      </Sidebar>\n      <MapVEuMap\n        {...args}\n        viewport={viewport}\n        onBoundsChanged={handleViewportChanged}\n        markers={markerElements}\n        animation={defaultAnimation}\n      />\n    </>\n  );\n}'}},SidebarResize_stories_SidebarResize.parameters)},2709:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"RequiredControls",(function(){return PieControls_stories_RequiredControls})),__webpack_require__.d(__webpack_exports__,"AdditionalOptions",(function(){return PieControls_stories_AdditionalOptions}));__webpack_require__(10),__webpack_require__(63),__webpack_require__(8);var react=__webpack_require__(0),colors=(__webpack_require__(108),__webpack_require__(206),__webpack_require__(41),__webpack_require__(25),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(19),__webpack_require__(15),__webpack_require__(9),__webpack_require__(36)),ControlsHeader=__webpack_require__(626),ButtonGroup=__webpack_require__(278),Notification=__webpack_require__(306),OpacitySlider=__webpack_require__(348),dist=__webpack_require__(167),blue=__webpack_require__(407),jsx_runtime=__webpack_require__(1);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function PieControls(_ref){var label=_ref.label,displayLegend=_ref.displayLegend,toggleDisplayLegend=_ref.toggleDisplayLegend,displayLibraryControls=_ref.displayLibraryControls,toggleLibraryControls=_ref.toggleLibraryControls,opacity=_ref.opacity,onOpacityChange=_ref.onOpacityChange,availableUnits=_ref.availableUnits,selectedUnit=_ref.selectedUnit,onSelectedUnitChange=_ref.onSelectedUnitChange,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_ref$accentColor=_ref.accentColor,accentColor=void 0===_ref$accentColor?{hue:blue.a,level:400}:_ref$accentColor,errorManagement=_ref.errorManagement,accentColorStr=accentColor.hue[accentColor.level],errorStacks=Object(react.useMemo)((function(){return errorManagement.errors.reduce((function(accumulatedValue,currentValue){var existingErrorStack=accumulatedValue.find((function(stack){return stack.error.message===currentValue.message}));return existingErrorStack?(existingErrorStack.occurences++,_toConsumableArray(accumulatedValue)):[].concat(_toConsumableArray(accumulatedValue),[{error:currentValue,occurences:1}])}),[])}),[errorManagement.errors]);return Object(jsx_runtime.jsxs)("div",{style:Object.assign({borderStyle:"solid",borderWidth:2,borderColor:colors.e,borderRadius:"10px",padding:"15px",minWidth:"280px"},containerStyles),children:[Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start"},children:[null!=availableUnits&&availableUnits.length&&selectedUnit&&onSelectedUnitChange?Object(jsx_runtime.jsx)(ButtonGroup.a,{label:"Data Units",options:availableUnits,selectedOption:selectedUnit,onOptionSelected:onSelectedUnitChange,containerStyles:{paddingRight:25,paddingBottom:10}}):null,Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start"},children:[Object(jsx_runtime.jsx)(OpacitySlider.a,{value:opacity,onValueChange:onOpacityChange,color:accentColorStr,containerStyles:{minWidth:250,paddingRight:25,paddingBottom:10}}),Object(jsx_runtime.jsx)(dist.Toggle,{label:"Legend",value:displayLegend,onChange:toggleDisplayLegend,styleOverrides:{container:{paddingRight:25,paddingBottom:10},mainColor:accentColor}}),Object(jsx_runtime.jsx)(dist.Toggle,{label:"Plot.ly Controls",value:displayLibraryControls,onChange:toggleLibraryControls})]})]}),errorStacks.map((function(_ref2,index){var error=_ref2.error,occurences=_ref2.occurences;return Object(jsx_runtime.jsx)(Notification.a,{title:"Error",text:error.message,color:accentColorStr,occurences:occurences,containerStyles:{marginTop:10},onAcknowledgement:function onAcknowledgement(){return errorManagement.removeError(error)}},index)})),label&&Object(jsx_runtime.jsx)(ControlsHeader.a,{text:label,styleOverrides:{paddingTop:25,textAlign:"right"}})]})}PieControls.displayName="PieControls";try{PieControls.displayName="PieControls",PieControls.__docgenInfo={description:"A default pie/donut plot control panel.",displayName:"PieControls",props:{label:{defaultValue:null,description:"Label for control panel. Optional.",name:"label",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Whether or not to display the plot legend.",name:"displayLegend",required:!0,type:{name:"boolean"}},toggleDisplayLegend:{defaultValue:null,description:"Action to take on display legend change.",name:"toggleDisplayLegend",required:!0,type:{name:"(displayLegend: boolean) => void"}},displayLibraryControls:{defaultValue:null,description:"Whether or not to display the additionally controls that\nmay be provided by the charting library used to generate the plot.\nFor example, Plot.ly controls.",name:"displayLibraryControls",required:!0,type:{name:"boolean"}},toggleLibraryControls:{defaultValue:null,description:"Action to take on display library controls change.",name:"toggleLibraryControls",required:!0,type:{name:"(displayLegend: boolean) => void"}},opacity:{defaultValue:null,description:"Current histogram opacity.",name:"opacity",required:!0,type:{name:"number"}},onOpacityChange:{defaultValue:null,description:"Function to invoke when opacity changes.",name:"onOpacityChange",required:!0,type:{name:"(opacity: number) => void"}},availableUnits:{defaultValue:null,description:"The current orientation of the plot.",name:"availableUnits",required:!1,type:{name:"string[]"}},selectedUnit:{defaultValue:null,description:"The currently selected bin unit.",name:"selectedUnit",required:!1,type:{name:"string"}},onSelectedUnitChange:{defaultValue:null,description:"Function to invoke when the selected bin unit changes.",name:"onSelectedUnitChange",required:!1,type:{name:"((unit: string) => void)"}},containerStyles:{defaultValue:{value:"{}"},description:"",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},accentColor:{defaultValue:{value:"{ hue: blue, level: 400 }"},description:"Color to use as an accent in the control panel.",name:"accentColor",required:!1,type:{name:"ColorDescriptor"}},errorManagement:{defaultValue:null,description:"Attributes and methdods for error management.",name:"errorManagement",required:!0,type:{name:"ErrorManagement"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/PieControls.tsx#PieControls"]={docgenInfo:PieControls.__docgenInfo,name:"PieControls",path:"src/components/plotControls/PieControls.tsx#PieControls"})}catch(__react_docgen_typescript_loader_error){}var usePlotControls=__webpack_require__(279),definitions_colors=__webpack_require__(54);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}__webpack_exports__.default={title:"Plot Controls/PieControls",component:PieControls};var PieControls_stories_RequiredControls=function RequiredControls(args){var controls=Object(usePlotControls.a)({data:args.data});return Object(jsx_runtime.jsx)(PieControls,Object.assign({},controls,controls.histogram,{containerStyles:{margin:25}}))};PieControls_stories_RequiredControls.displayName="RequiredControls",PieControls_stories_RequiredControls.args={data:{slices:[]}};var _onSelectedUnitChange,PieControls_stories_AdditionalOptions=function AdditionalOptions(args){var controls=Object(usePlotControls.a)({data:args.data,onSelectedUnitChange:args.onSelectedUnitChange});return Object(jsx_runtime.jsx)(PieControls,Object.assign({label:"Customizable Pie Plot Panel",accentColor:{hue:definitions_colors.mutedPurple,level:400}},controls,{containerStyles:{margin:25}}))};PieControls_stories_AdditionalOptions.displayName="AdditionalOptions",PieControls_stories_AdditionalOptions.args={data:{slices:[{label:"dummy value",value:1}],availableUnits:["Celsius","Farenheit"],selectedUnit:"Celsius"},onSelectedUnitChange:(_onSelectedUnitChange=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(unit){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{slices:[{label:"dummy value",value:1}]});case 1:case"end":return _context.stop()}}),_callee)}))),function onSelectedUnitChange(_x){return _onSelectedUnitChange.apply(this,arguments)})},PieControls_stories_RequiredControls.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  const controls = usePlotControls<PiePlotData>({\n    data: args.data,\n  });\n\n  return (\n    <PieControls\n      {...controls}\n      {...controls.histogram}\n      containerStyles={{ margin: 25 }}\n    />\n  );\n}"}},PieControls_stories_RequiredControls.parameters),PieControls_stories_AdditionalOptions.parameters=Object.assign({storySource:{source:'(\n  args\n) => {\n  const controls = usePlotControls<PiePlotData>({\n    data: args.data,\n    onSelectedUnitChange: args.onSelectedUnitChange,\n  });\n\n  return (\n    <PieControls\n      label="Customizable Pie Plot Panel"\n      accentColor={{ hue: mutedPurple, level: 400 }}\n      {...controls}\n      containerStyles={{ margin: 25 }}\n    />\n  );\n}'}},PieControls_stories_AdditionalOptions.parameters)},2710:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return ScatterPlotControls_stories_Basic}));__webpack_require__(10),__webpack_require__(108),__webpack_require__(206),__webpack_require__(41),__webpack_require__(25),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(19),__webpack_require__(15),__webpack_require__(9);var react=__webpack_require__(0),index_esm=__webpack_require__(625),colors=__webpack_require__(36),RadioButtonGroup=__webpack_require__(349),Notification=__webpack_require__(306),jsx_runtime=__webpack_require__(1);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ScatterPlotControls(_ref){var _ref$accentColor=_ref.accentColor,accentColor=void 0===_ref$accentColor?colors.d:_ref$accentColor,errorManagement=_ref.errorManagement,containerStyles=_ref.containerStyles,valueSpec=_ref.valueSpec,onValueSpecChange=_ref.onValueSpecChange,orientation=_ref.orientation,labelPlacement=_ref.labelPlacement,buttonColor=_ref.buttonColor,margins=_ref.margins,itemMarginRight=_ref.itemMarginRight,plotOptions=_ref.plotOptions,label=_ref.label,_useDimensions=Object(index_esm.a)(),ref=_useDimensions.ref,errorStacks=(_useDimensions.width,Object(react.useMemo)((function(){return errorManagement.errors.reduce((function(accumulatedValue,currentValue){var existingErrorStack=accumulatedValue.find((function(stack){return stack.error.message===currentValue.message}));return existingErrorStack?(existingErrorStack.occurences++,_toConsumableArray(accumulatedValue)):[].concat(_toConsumableArray(accumulatedValue),[{error:currentValue,occurences:1}])}),[])}),[errorManagement.errors]));return Object(jsx_runtime.jsxs)("div",{ref:ref,style:Object.assign({borderStyle:"solid",borderWidth:"0em",borderColor:colors.e,borderRadius:"0.6125em",paddingLeft:"0.9375em",minWidth:"11em"},containerStyles),children:[Object(jsx_runtime.jsx)("div",{style:{display:"flex"},children:valueSpec&&onValueSpecChange&&Object(jsx_runtime.jsx)(RadioButtonGroup.a,{label:label,options:null!=plotOptions?plotOptions:[],selectedOption:valueSpec,onOptionSelected:onValueSpecChange,orientation:orientation,labelPlacement:labelPlacement,buttonColor:buttonColor,margins:margins,itemMarginRight:itemMarginRight})}),errorStacks.map((function(_ref2,index){var error=_ref2.error,occurences=_ref2.occurences;return Object(jsx_runtime.jsx)(Notification.a,{title:"Error",text:error.message,color:accentColor,occurences:occurences,containerStyles:{marginTop:"0.625em"},onAcknowledgement:function onAcknowledgement(){return errorManagement.removeError(error)}},index)}))]})}ScatterPlotControls.displayName="ScatterPlotControls";try{ScatterPlotControls.displayName="ScatterPlotControls",ScatterPlotControls.__docgenInfo={description:"A ScatterPlot controls panel.\n\nIf you prefer a different layout or composition, you can\ncontruct you own control panel by using the various\nwidgets contained here.",displayName:"ScatterPlotControls",props:{containerStyles:{defaultValue:null,description:"Additional styles for controls container. Optional",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},accentColor:{defaultValue:{value:"#5586BE"},description:"Color to use as an accent in the control panel. Will accept any\nvalid CSS color definition. Defaults to LIGHT_BLUE",name:"accentColor",required:!1,type:{name:"string"}},errorManagement:{defaultValue:null,description:"Attributes and methods for error management.",name:"errorManagement",required:!0,type:{name:"ErrorManagement"}},valueSpec:{defaultValue:null,description:"ScatterPlot: valueSpec",name:"valueSpec",required:!1,type:{name:"string"}},onValueSpecChange:{defaultValue:null,description:"ScatterPlot: onValueSpecChange",name:"onValueSpecChange",required:!1,type:{name:"((valueSpec: string) => void)"}},orientation:{defaultValue:null,description:"How buttons are displayed. Vertical or Horizontal",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},labelPlacement:{defaultValue:null,description:"location of radio button label: start: label & button; end: button & label",name:"labelPlacement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"end"'},{value:'"start"'}]}},minWidth:{defaultValue:null,description:"minimum width to set up equivalently spaced width per item",name:"minWidth",required:!1,type:{name:"number"}},buttonColor:{defaultValue:null,description:"button color: for now, supporting blue and red only - primary: blue; secondary: red",name:"buttonColor",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},margins:{defaultValue:null,description:"margin of radio button group: string array for top, left, bottom, and left, e.g., ['10em', '0', '0', '10em']",name:"margins",required:!1,type:{name:"string[]"}},itemMarginRight:{defaultValue:null,description:"marginRight of radio button item: default 16px from MUI",name:"itemMarginRight",required:!1,type:{name:"string | number"}},plotOptions:{defaultValue:null,description:"plot options as props",name:"plotOptions",required:!1,type:{name:"string[]"}},label:{defaultValue:null,description:"label for RadioButtonGroup",name:"label",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/ScatterPlotControls.tsx#ScatterPlotControls"]={docgenInfo:ScatterPlotControls.__docgenInfo,name:"ScatterPlotControls",path:"src/components/plotControls/ScatterPlotControls.tsx#ScatterPlotControls"})}catch(__react_docgen_typescript_loader_error){}var usePlotControls=__webpack_require__(279),ScatterPlotControls_stories_Basic=(__webpack_exports__.default={title:"Plot Controls/ScatterPlot",component:ScatterPlotControls},function Basic(args){var controls=Object(usePlotControls.a)({data:args.data,ScatterPlot:args.ScatterPlot});return Object(jsx_runtime.jsx)(ScatterPlotControls,Object.assign({},controls,controls.ScatterPlot,{label:"Plot modes",orientation:"horizontal",labelPlacement:"end",buttonColor:"primary",margins:["5em","0","0","5em"],itemMarginRight:50,plotOptions:["Raw","Smoothed mean with raw","Best fit line with raw"]}))});ScatterPlotControls_stories_Basic.displayName="Basic",ScatterPlotControls_stories_Basic.args={data:{series:[{name:"dummy data",bins:[]}]},ScatterPlot:{valueSpec:"Raw"}},ScatterPlotControls_stories_Basic.parameters=Object.assign({storySource:{source:"(args) => {\n  const controls = usePlotControls<any>({\n    data: args.data,\n    ScatterPlot: args.ScatterPlot,\n  });\n\n  return (\n    <ScatterPlotControls\n      // label=\"ScatterPlot Control Panel\"\n      {...controls}\n      {...controls.ScatterPlot}\n      // assign new props' values for tests\n      label={'Plot modes'}\n      orientation={'horizontal'}\n      labelPlacement={'end'}\n      // minWidth={235}\n      buttonColor={'primary'}\n      margins={['5em', '0', '0', '5em']}\n      itemMarginRight={50}\n      plotOptions={['Raw', 'Smoothed mean with raw', 'Best fit line with raw']}\n    />\n  );\n}"}},ScatterPlotControls_stories_Basic.parameters)},2711:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"EmptyData",(function(){return EmptyData})),__webpack_require__.d(__webpack_exports__,"EmptyDataLoading",(function(){return EmptyDataLoading})),__webpack_require__.d(__webpack_exports__,"NoDataOverlay",(function(){return NoDataOverlay})),__webpack_require__.d(__webpack_exports__,"Faceted",(function(){return Faceted})),__webpack_require__.d(__webpack_exports__,"LogScale",(function(){return LogScale}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(63),__webpack_require__(8),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react=__webpack_require__(0),Barplot=__webpack_require__(309),FacetedPlot=__webpack_require__(157),jsx_runtime=__webpack_require__(1),defaultContainerStyles={height:300,width:375,marginBottom:"0.25rem",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066"},defaultSpacingOptions={marginRight:10,marginLeft:10,marginBottom:10,marginTop:50},FacetedBarplot_FacetedBarplot=function FacetedBarplot(facetedBarplotProps){var _componentProps$conta,_componentProps$spaci,componentProps=facetedBarplotProps.componentProps;return Object(jsx_runtime.jsx)(FacetedPlot.a,Object.assign({component:Barplot.a},facetedBarplotProps,{componentProps:Object.assign({},componentProps,{containerStyles:null!==(_componentProps$conta=componentProps.containerStyles)&&void 0!==_componentProps$conta?_componentProps$conta:defaultContainerStyles,spacingOptions:null!==(_componentProps$spaci=componentProps.spacingOptions)&&void 0!==_componentProps$spaci?_componentProps$spaci:defaultSpacingOptions})}))};FacetedBarplot_FacetedBarplot.displayName="FacetedBarplot";var facetedPlots_FacetedBarplot=FacetedBarplot_FacetedBarplot;try{FacetedBarplot_FacetedBarplot.displayName="FacetedBarplot",FacetedBarplot_FacetedBarplot.__docgenInfo={description:"",displayName:"FacetedBarplot",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"FacetedData<BarplotData>"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!0,type:{name:"BarplotProps"}},modalComponentProps:{defaultValue:null,description:"Provide modalComponentProps to activate click-to-expand\nThese are the props the expanded plot inside the modal will receive",name:"modalComponentProps",required:!1,type:{name:"BarplotProps"}},facetedPlotRef:{defaultValue:null,description:"",name:"facetedPlotRef",required:!1,type:{name:"Ref<FacetedPlotRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/facetedPlots/FacetedBarplot.tsx#FacetedBarplot"]={docgenInfo:FacetedBarplot_FacetedBarplot.__docgenInfo,name:"FacetedBarplot",path:"src/plots/facetedPlots/FacetedBarplot.tsx#FacetedBarplot"})}catch(__react_docgen_typescript_loader_error){}var AxisRangeControl=__webpack_require__(221),dist=__webpack_require__(167);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Plots/Barplot",component:Barplot.a};var dataSet={series:[{label:["dogs","cats","monkeys"],value:[20,14,23],name:"Yes"},{label:["dogs","cats","monkeys"],value:[12,18,29],name:"No"}]},Barplot_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(Barplot.a,Object.assign({},args))};Barplot_stories_Template.displayName="Template";var Basic=Barplot_stories_Template.bind({});Basic.args={data:dataSet,dependentAxisLabel:"Awesomeness",independentAxisLabel:"Animal",legendTitle:"Domesticated",opacity:.75,title:"Awesomeness of animals stratified by domestication"};var EmptyData=Barplot_stories_Template.bind({});EmptyData.args={dependentAxisLabel:"Dependent axis label",independentAxisLabel:"Independent axis label"};var EmptyDataLoading=Barplot_stories_Template.bind({});EmptyDataLoading.args={dependentAxisLabel:"Dependent axis label",independentAxisLabel:"Independent axis label",showSpinner:!0};var NoDataOverlay=Barplot_stories_Template.bind({});NoDataOverlay.args={dependentAxisLabel:"Dependent axis label",independentAxisLabel:"Independent axis label",showNoDataOverlay:!0,title:"Awesomeness of animals stratified by domestication"};var facetedData={facets:[{label:"indoors",data:dataSet},{label:"outdoors",data:dataSet},{label:"indoors",data:dataSet},{label:"outdoors",data:dataSet},{label:"indoors",data:dataSet},{label:"outdoors"},{label:"No data"}]},Barplot_stories_FacetedTemplate=function FacetedTemplate(_ref){var data=_ref.data,componentProps=_ref.componentProps,modalComponentProps=_ref.modalComponentProps;return Object(jsx_runtime.jsx)(facetedPlots_FacetedBarplot,{data:data,componentProps:componentProps,modalComponentProps:modalComponentProps})};Barplot_stories_FacetedTemplate.displayName="FacetedTemplate";var Faceted=Barplot_stories_FacetedTemplate.bind({});Faceted.args={data:facetedData,componentProps:{title:"Indoor and outdoor pets",independentAxisLabel:"Pet",dependentAxisLabel:"Count",containerStyles:{width:300,height:300,border:"1px solid #dadada"}},modalComponentProps:{containerStyles:{width:"85%",height:"100%",margin:"auto"}}};var Barplot_stories_TemplateWithSelectedRangeControls=function TemplateWithSelectedRangeControls(args){var _useState2=_slicedToArray(Object(react.useState)({min:1,max:40}),2),dependentAxisRange=_useState2[0],setDependentAxisRange=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),dependentAxisLogScale=_useState4[0],setDependentAxisLogScale=_useState4[1],handleDependentAxisRangeChange=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(newRange){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:setDependentAxisRange(newRange);case 1:case"end":return _context.stop()}}),_callee)})));return function handleDependentAxisRangeChange(_x){return _ref2.apply(this,arguments)}}(),onDependentAxisLogScaleChange=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(value){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:setDependentAxisLogScale(value);case 1:case"end":return _context2.stop()}}),_callee2)})));return function onDependentAxisLogScaleChange(_x2){return _ref3.apply(this,arguments)}}();return Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)(Barplot.a,Object.assign({data:dataSet},args,{dependentAxisRange:dependentAxisRange,dependentAxisLogScale:dependentAxisLogScale})),Object(jsx_runtime.jsx)(dist.Toggle,{label:"Log scale (will exclude values  0):",value:null!=dependentAxisLogScale&&dependentAxisLogScale,onChange:onDependentAxisLogScaleChange,styleOverrides:{container:{marginLeft:"5em"}}}),Object(jsx_runtime.jsx)("div",{style:{height:25}}),Object(jsx_runtime.jsx)(AxisRangeControl.a,{label:"Y-axis range control",range:dependentAxisRange,onRangeChange:handleDependentAxisRangeChange,containerStyles:{marginLeft:"5em"}})]})};Barplot_stories_TemplateWithSelectedRangeControls.displayName="TemplateWithSelectedRangeControls";var LogScale=Barplot_stories_TemplateWithSelectedRangeControls.bind({});LogScale.args={containerStyles:{height:"450px",width:"750px"}},Basic.parameters=Object.assign({storySource:{source:"(args) => <Barplot {...args} />"}},Basic.parameters),EmptyData.parameters=Object.assign({storySource:{source:"(args) => <Barplot {...args} />"}},EmptyData.parameters),EmptyDataLoading.parameters=Object.assign({storySource:{source:"(args) => <Barplot {...args} />"}},EmptyDataLoading.parameters),NoDataOverlay.parameters=Object.assign({storySource:{source:"(args) => <Barplot {...args} />"}},NoDataOverlay.parameters),Faceted.parameters=Object.assign({storySource:{source:"({\n  data,\n  componentProps,\n  modalComponentProps,\n}) => (\n  <FacetedBarplot\n    data={data}\n    componentProps={componentProps}\n    modalComponentProps={modalComponentProps}\n  />\n)"}},Faceted.parameters),LogScale.parameters=Object.assign({storySource:{source:"(\n  args\n) => {\n  const [dependentAxisRange, setDependentAxisRange] = useState<\n    NumberRange | undefined\n  >({ min: 1, max: 40 });\n  const [dependentAxisLogScale, setDependentAxisLogScale] = useState<\n    boolean | undefined\n  >(false);\n\n  const handleDependentAxisRangeChange = async (\n    newRange?: NumberOrDateRange\n  ) => {\n    setDependentAxisRange(newRange as NumberRange);\n  };\n\n  const onDependentAxisLogScaleChange = async (value?: boolean) => {\n    setDependentAxisLogScale(value);\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <Barplot\n        data={dataSet}\n        {...args}\n        dependentAxisRange={dependentAxisRange}\n        dependentAxisLogScale={dependentAxisLogScale}\n      />\n      <Toggle\n        label=\"Log scale (will exclude values &le; 0):\"\n        value={dependentAxisLogScale ?? false}\n        onChange={onDependentAxisLogScaleChange}\n        styleOverrides={{ container: { marginLeft: '5em' } }}\n      />\n      <div style={{ height: 25 }} />\n      <AxisRangeControl\n        label=\"Y-axis range control\"\n        range={dependentAxisRange}\n        onRangeChange={handleDependentAxisRangeChange}\n        containerStyles={{ marginLeft: '5em' }}\n      />\n    </div>\n  );\n}"}},LogScale.parameters)},2712:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"BigNumbers",(function(){return BigNumbers})),__webpack_require__.d(__webpack_exports__,"ProblemPopup",(function(){return ProblemPopup})),__webpack_require__.d(__webpack_exports__,"ProblemPopupSolvedWithMargin",(function(){return ProblemPopupSolvedWithMargin})),__webpack_require__.d(__webpack_exports__,"OneBracket",(function(){return OneBracket})),__webpack_require__.d(__webpack_exports__,"EmptyLoading",(function(){return EmptyLoading}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(41),__webpack_require__(25),__webpack_require__(1281),__webpack_require__(40),__webpack_require__(152),__webpack_require__(7);var react=__webpack_require__(0),PlotlyPlot=__webpack_require__(105),jsx_runtime=__webpack_require__(1);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var EmptyBirdsEyePlotData={brackets:[],bars:[]};function BirdsEyePlot(_ref){var _ref$data=_ref.data,data=void 0===_ref$data?EmptyBirdsEyePlotData:_ref$data,_ref$dependentAxisLab=_ref.dependentAxisLabel,dependentAxisLabel=void 0===_ref$dependentAxisLab?"":_ref$dependentAxisLab,_ref$bracketLineWidth=_ref.bracketLineWidth,bracketLineWidth=void 0===_ref$bracketLineWidth?2:_ref$bracketLineWidth,_ref$bracketHeadSize=_ref.bracketHeadSize,bracketHeadSize=void 0===_ref$bracketHeadSize?.15:_ref$bracketHeadSize,_ref$plotBgColor=_ref.plotBgColor,plotBgColor=void 0===_ref$plotBgColor?"white":_ref$plotBgColor,_ref$paperBgColor=_ref.paperBgColor,paperBgColor=void 0===_ref$paperBgColor?"white":_ref$paperBgColor,restProps=_objectWithoutProperties(_ref,["data","dependentAxisLabel","bracketLineWidth","bracketHeadSize","plotBgColor","paperBgColor"]),plotlyFriendlyData=Object(react.useMemo)((function(){return data.bars.map((function(bar){return bar.label&&null!=bar.value?{x:[bar.value],y:[""],name:bar.label,orientation:"h",type:"bar",marker:Object.assign({opacity:1},bar.color?{color:bar.color}:{}),showlegend:!0}:{}})).concat(data.brackets.map((function(bracket){return null!=bracket.value?{x:[bracket.value],y:[""],type:"scatter",mode:"lines",name:bracket.label,orientation:"h",showlegend:!1,marker:{color:"black"}}:{}})))}),[data]),plotlyShapes=Object(react.useMemo)((function(){return data.brackets.map((function(bracket,index){return[{type:"line",xref:"x",yref:"y",x0:0,y0:indexToY(index,bracketHeadSize),x1:bracket.value,y1:indexToY(index,bracketHeadSize),line:{color:"black",width:bracketLineWidth}},{type:"line",xref:"x",yref:"y",x0:bracket.value,y0:indexToY(index,bracketHeadSize)+bracketHeadSize,x1:bracket.value,y1:indexToY(index,bracketHeadSize)-bracketHeadSize,line:{color:"black",width:bracketLineWidth}}]})).flat()}),[data.brackets,bracketLineWidth,bracketHeadSize]),weHaveData=data.brackets.length>0||data.bars.length>0,layout={xaxis:{automargin:weHaveData,showgrid:!1,title:{text:weHaveData?dependentAxisLabel:void 0},zeroline:!1,tickfont:weHaveData?{}:{color:"transparent"},ticks:weHaveData?"inside":void 0,showline:!1,tickformat:","},yaxis:{automargin:weHaveData,showgrid:!1,zeroline:!1,showline:weHaveData,title:{},tickfont:weHaveData?{}:{color:"transparent"},tickmode:"array",tickvals:data.brackets.map((function(_,index){return indexToY(index,bracketHeadSize)})),ticktext:data.brackets.map((function(bracket){return bracket.label})),showspikes:!1},legend:{orientation:"v",x:-.33-.01*data.brackets.length,y:.05-.1*data.brackets.length,bgcolor:"transparent",traceorder:"reversed"},barmode:"overlay",shapes:plotlyShapes,hovermode:!1,hoverdistance:1e3,hoverlabel:{namelength:-1,font:{size:13}},paper_bgcolor:paperBgColor,plot_bgcolor:plotBgColor},barLabels=data.bars.map((function(bar){return bar.label}));return Object(jsx_runtime.jsx)(PlotlyPlot.c,Object.assign({data:plotlyFriendlyData,layout:layout},restProps,{checkedLegendItems:barLabels}))}function indexToY(index,bracketHeadSize){return.5+bracketHeadSize+(index+bracketHeadSize)/2}BirdsEyePlot.displayName="BirdsEyePlot";try{BirdsEyePlot.displayName="BirdsEyePlot",BirdsEyePlot.__docgenInfo={description:"A Plotly-based Barplot component.",displayName:"BirdsEyePlot",props:{dependentAxisLabel:{defaultValue:{value:""},description:"Label for dependent axis. Defaults to ''",name:"dependentAxisLabel",required:!1,type:{name:"string"}},bracketLineWidth:{defaultValue:{value:"2"},description:"bracket line width, default is 2",name:"bracketLineWidth",required:!1,type:{name:"number"}},bracketHeadSize:{defaultValue:{value:"0.15"},description:"bracket head size, default is 0.15",name:"bracketHeadSize",required:!1,type:{name:"number"}},plotBgColor:{defaultValue:{value:"white"},description:"specifies the background color of the actual graph/plot, default is white",name:"plotBgColor",required:!1,type:{name:"string | string[]"}},paperBgColor:{defaultValue:{value:"white"},description:"specifies the background color of the container for all parts of the graph/plot, including the axes and labels;\ndefaults to white",name:"paperBgColor",required:!1,type:{name:"string | string[]"}},data:{defaultValue:{value:"{ brackets: [], bars: [] }"},description:"plot data - following web-components' API, not Plotly's",name:"data",required:!1,type:{name:"BirdsEyePlotData"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Should plot legend be displayed? Default is yes",name:"displayLegend",required:!1,type:{name:"boolean"}},containerStyles:{defaultValue:null,description:"CSS styles for enclosing div\nDefault is { width: '100%', height: '400px' }",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},containerClass:{defaultValue:null,description:"class name for enclosing div. Default is web-components-plot",name:"containerClass",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"Enables mouse-overs and interaction if true. Default false.",name:"interactive",required:!1,type:{name:"boolean"}},displayLibraryControls:{defaultValue:null,description:"show Plotly's mode bar (only shows if interactive == true)",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},showSpinner:{defaultValue:null,description:"show a loading... spinner in the middle of the container div",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:"Show an overlay with the words 'No Data'",name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend layout and appearance.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},legendTitle:{defaultValue:null,description:"legend title",name:"legendTitle",required:!1,type:{name:"string"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},maxLegendTextLength:{defaultValue:null,description:"maximum number of characters for legend ellipsis",name:"maxLegendTextLength",required:!1,type:{name:"number"}},storedIndependentAxisTickLabel:{defaultValue:null,description:"original independent axis tick labels as data is changed at each component (barplot and boxplot)",name:"storedIndependentAxisTickLabel",required:!1,type:{name:"string[]"}},checkedLegendItems:{defaultValue:null,description:"list of checked legend items via checkbox input",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},onPlotlyRender:{defaultValue:null,description:"A function to call each time after plotly renders the plot",name:"onPlotlyRender",required:!1,type:{name:"((figure: Readonly<Figure>, graphDiv: Readonly<HTMLElement>) => void)"}},colorPalette:{defaultValue:null,description:"",name:"colorPalette",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/BirdsEyePlot.tsx#BirdsEyePlot"]={docgenInfo:BirdsEyePlot.__docgenInfo,name:"BirdsEyePlot",path:"src/plots/BirdsEyePlot.tsx#BirdsEyePlot"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Plots/Birds-Eye",component:BirdsEyePlot};var red="#da7272",gray="#aaaaaa",dataSet={brackets:[{label:"Data for axes",value:12031},{label:"Data for axes & strata",value:9023}],bars:[{label:"Total",value:25873,color:gray},{label:"Subset",value:20847,color:red}]},containerStyles={width:"400px",height:"110px",border:"2px solid yellow"},spacingOptions={marginTop:5,marginBottom:5,marginLeft:5,marginRight:5},BirdsEyePlot_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(BirdsEyePlot,Object.assign({},args))};BirdsEyePlot_stories_Template.displayName="Template";var Basic=BirdsEyePlot_stories_Template.bind({});Basic.args={data:dataSet,dependentAxisLabel:"Mermaids",containerStyles:containerStyles,spacingOptions:spacingOptions,interactive:!0};var dataSetBig={brackets:[{label:"Data for axes",value:1203792},{label:"Data for axes & strata",value:902393}],bars:[{label:"Total",value:2587374,color:gray},{label:"Subset",value:2084765,color:red}]},BigNumbers=BirdsEyePlot_stories_Template.bind({});BigNumbers.args={data:dataSetBig,dependentAxisLabel:"Ants",containerStyles:containerStyles,spacingOptions:spacingOptions,interactive:!0};var dataSetProblem={brackets:[{label:"Data for axes",value:4372},{label:"Data for axes & strata",value:3393}],bars:[{label:"Total",value:40374,color:gray},{label:"Subset",value:10765,color:red}]},ProblemPopup=BirdsEyePlot_stories_Template.bind({});ProblemPopup.args={data:dataSetProblem,dependentAxisLabel:"Foxes",containerStyles:containerStyles,spacingOptions:spacingOptions,interactive:!0};var ProblemPopupSolvedWithMargin=BirdsEyePlot_stories_Template.bind({});ProblemPopupSolvedWithMargin.args={data:dataSetProblem,dependentAxisLabel:"Foxes",containerStyles:{width:"450px",height:"110px",border:"2px solid yellow"},spacingOptions:{marginTop:5,marginBottom:5,marginLeft:5,marginRight:50},interactive:!0};var dataSetOneBracket={brackets:[{label:"Data for axes",value:12031}],bars:[{label:"Total",value:25873,color:gray},{label:"Subset",value:20847,color:red}]},OneBracket=BirdsEyePlot_stories_Template.bind({});OneBracket.args={data:dataSetOneBracket,dependentAxisLabel:"Earlobes",containerStyles:containerStyles,spacingOptions:spacingOptions,interactive:!0};var EmptyLoading=BirdsEyePlot_stories_Template.bind({});EmptyLoading.args={showSpinner:!0,containerStyles:containerStyles},Basic.parameters=Object.assign({storySource:{source:"(args: any) => (\n  <BirdsEyePlot {...args} />\n)"}},Basic.parameters),BigNumbers.parameters=Object.assign({storySource:{source:"(args: any) => (\n  <BirdsEyePlot {...args} />\n)"}},BigNumbers.parameters),ProblemPopup.parameters=Object.assign({storySource:{source:"(args: any) => (\n  <BirdsEyePlot {...args} />\n)"}},ProblemPopup.parameters),ProblemPopupSolvedWithMargin.parameters=Object.assign({storySource:{source:"(args: any) => (\n  <BirdsEyePlot {...args} />\n)"}},ProblemPopupSolvedWithMargin.parameters),OneBracket.parameters=Object.assign({storySource:{source:"(args: any) => (\n  <BirdsEyePlot {...args} />\n)"}},OneBracket.parameters),EmptyLoading.parameters=Object.assign({storySource:{source:"(args: any) => (\n  <BirdsEyePlot {...args} />\n)"}},EmptyLoading.parameters)},2713:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"BasicLoading",(function(){return BasicLoading})),__webpack_require__.d(__webpack_exports__,"CustomSliceColors",(function(){return CustomSliceColors})),__webpack_require__.d(__webpack_exports__,"BasicDonut",(function(){return BasicDonut})),__webpack_require__.d(__webpack_exports__,"DonutText",(function(){return DonutText})),__webpack_require__.d(__webpack_exports__,"FilledDonut",(function(){return FilledDonut})),__webpack_require__.d(__webpack_exports__,"Empty",(function(){return Empty})),__webpack_require__.d(__webpack_exports__,"EmptyLoading",(function(){return EmptyLoading})),__webpack_require__.d(__webpack_exports__,"Faceted",(function(){return Faceted}));__webpack_require__(10),__webpack_require__(124);var PiePlot=__webpack_require__(273),FacetedPlot=__webpack_require__(157),react=__webpack_require__(0),src=__webpack_require__(94),jsx_runtime=__webpack_require__(1),defaultContainerStyles={height:300,width:375,marginBottom:"0.25rem",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066"},defaultSpacingOptions={marginRight:10,marginLeft:10,marginBottom:10,marginTop:50},FacetedPiePlot_FacetedPiePlot=function FacetedPiePlot(facetedPiePlotProps){var _componentProps$conta,_componentProps$spaci,componentProps=facetedPiePlotProps.componentProps,onPlotlyRender=Object(react.useCallback)((function(_,graphDiv){var parentNode=Object(src.c)(graphDiv).select("g.trace");parentNode.selectAll("g.slice").each((function(){var _this=this,sliceNode=Object(src.c)(this),clone=sliceNode.clone(!0);parentNode.insert((function(){return clone.node()}),(function(){return _this})),sliceNode.remove()}))}),[]);return Object(jsx_runtime.jsx)(FacetedPlot.a,Object.assign({component:PiePlot.a},facetedPiePlotProps,{componentProps:Object.assign({},componentProps,{containerStyles:null!==(_componentProps$conta=componentProps.containerStyles)&&void 0!==_componentProps$conta?_componentProps$conta:defaultContainerStyles,spacingOptions:null!==(_componentProps$spaci=componentProps.spacingOptions)&&void 0!==_componentProps$spaci?_componentProps$spaci:defaultSpacingOptions,onPlotlyRender:onPlotlyRender})}))};FacetedPiePlot_FacetedPiePlot.displayName="FacetedPiePlot";var facetedPlots_FacetedPiePlot=FacetedPiePlot_FacetedPiePlot;try{FacetedPiePlot_FacetedPiePlot.displayName="FacetedPiePlot",FacetedPiePlot_FacetedPiePlot.__docgenInfo={description:"",displayName:"FacetedPiePlot",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"FacetedData<PiePlotData>"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!0,type:{name:"PiePlotProps"}},modalComponentProps:{defaultValue:null,description:"Provide modalComponentProps to activate click-to-expand\nThese are the props the expanded plot inside the modal will receive",name:"modalComponentProps",required:!1,type:{name:"PiePlotProps"}},facetedPlotRef:{defaultValue:null,description:"",name:"facetedPlotRef",required:!1,type:{name:"Ref<FacetedPlotRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/facetedPlots/FacetedPiePlot.tsx#FacetedPiePlot"]={docgenInfo:FacetedPiePlot_FacetedPiePlot.__docgenInfo,name:"FacetedPiePlot",path:"src/plots/facetedPlots/FacetedPiePlot.tsx#FacetedPiePlot"})}catch(__react_docgen_typescript_loader_error){}var colors=__webpack_require__(36),PiePlot_stories_data=(__webpack_exports__.default={title:"Plots/Pie & Donut",component:PiePlot.a,parameters:{redmine:"https://redmine.apidb.org/issues/41799"}},{slices:[{value:10,label:"Foo"},{value:2,label:"Bar"},{value:30,label:"Baz"}]}),coloredData={slices:[{value:10,label:"Light Green",color:colors.f},{value:2,label:"Dark Green",color:colors.c},{value:30,color:colors.d,label:"Light Blue"}]},PiePlot_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(PiePlot.a,Object.assign({containerStyles:{width:"600px",height:"400px"}},args))};PiePlot_stories_Template.displayName="Template";var Basic=PiePlot_stories_Template.bind({});Basic.args={data:PiePlot_stories_data,title:"Pie Plot",legendOptions:{horizontalPosition:"right",horizontalPaddingAdjustment:.1,verticalPosition:"top",verticalPaddingAdjustment:0,orientation:"vertical"},spacingOptions:{marginBottom:80,marginLeft:50,marginRight:80,marginTop:100,padding:0}};var BasicLoading=PiePlot_stories_Template.bind({});BasicLoading.args={data:PiePlot_stories_data,title:"Pie Plot",legendOptions:{horizontalPosition:"right",horizontalPaddingAdjustment:.1,verticalPosition:"top",verticalPaddingAdjustment:0,orientation:"vertical"},spacingOptions:{marginBottom:80,marginLeft:50,marginRight:80,marginTop:100,padding:0},showSpinner:!0};var CustomSliceColors=PiePlot_stories_Template.bind({});CustomSliceColors.args=Object.assign({},Basic.args,{data:coloredData,title:"Pie Plot w/ Custom Colors"});var BasicDonut=PiePlot_stories_Template.bind({});BasicDonut.args=Object.assign({},Basic.args,{title:"Basic Donut Plot",donutOptions:{size:.3}});var DonutText=PiePlot_stories_Template.bind({});DonutText.args=Object.assign({},Basic.args,{title:"Donut Plot w/Text",donutOptions:{size:.4,text:"Donut Text"}});var FilledDonut=PiePlot_stories_Template.bind({});FilledDonut.args=Object.assign({},Basic.args,{title:"Filled Donut",donutOptions:{size:.4,backgroundColor:colors.b,text:"Text",textColor:"white"}});var Empty=PiePlot_stories_Template.bind({});Empty.args={};var EmptyLoading=PiePlot_stories_Template.bind({});EmptyLoading.args={showSpinner:!0};var facetSeries1={label:"indoors",data:{slices:[{value:25,label:"dogs"},{value:10,label:"cats"}]}},facetSeries2={label:"outdoors",data:{slices:[{value:5,label:"dogs"},{value:33,label:"cats"}]}},facetedData={facets:[facetSeries1,facetSeries2,facetSeries1,facetSeries2,facetSeries1,facetSeries2,facetSeries1,facetSeries2,facetSeries1,facetSeries2,facetSeries1,facetSeries2,{label:"indoors"},{label:"No data"}]},PiePlot_stories_FacetedTemplate=function FacetedTemplate(_ref){var data=_ref.data,componentProps=_ref.componentProps,modalComponentProps=_ref.modalComponentProps;return Object(jsx_runtime.jsx)(facetedPlots_FacetedPiePlot,{data:data,componentProps:componentProps,modalComponentProps:modalComponentProps})};PiePlot_stories_FacetedTemplate.displayName="FacetedTemplate";var Faceted=PiePlot_stories_FacetedTemplate.bind({});Faceted.args={data:facetedData,componentProps:{title:"indoor and outdoor pets",containerStyles:{width:300,height:300,border:"1px solid #dadada"}},modalComponentProps:{containerStyles:{width:"85%",height:"100%",margin:"auto"}}},Basic.parameters=Object.assign({storySource:{source:"(args) => (\n  <PiePlot\n    containerStyles={{\n      width: '600px',\n      height: '400px',\n    }}\n    {...args}\n  />\n)"}},Basic.parameters),BasicLoading.parameters=Object.assign({storySource:{source:"(args) => (\n  <PiePlot\n    containerStyles={{\n      width: '600px',\n      height: '400px',\n    }}\n    {...args}\n  />\n)"}},BasicLoading.parameters),CustomSliceColors.parameters=Object.assign({storySource:{source:"(args) => (\n  <PiePlot\n    containerStyles={{\n      width: '600px',\n      height: '400px',\n    }}\n    {...args}\n  />\n)"}},CustomSliceColors.parameters),BasicDonut.parameters=Object.assign({storySource:{source:"(args) => (\n  <PiePlot\n    containerStyles={{\n      width: '600px',\n      height: '400px',\n    }}\n    {...args}\n  />\n)"}},BasicDonut.parameters),DonutText.parameters=Object.assign({storySource:{source:"(args) => (\n  <PiePlot\n    containerStyles={{\n      width: '600px',\n      height: '400px',\n    }}\n    {...args}\n  />\n)"}},DonutText.parameters),FilledDonut.parameters=Object.assign({storySource:{source:"(args) => (\n  <PiePlot\n    containerStyles={{\n      width: '600px',\n      height: '400px',\n    }}\n    {...args}\n  />\n)"}},FilledDonut.parameters),Empty.parameters=Object.assign({storySource:{source:"(args) => (\n  <PiePlot\n    containerStyles={{\n      width: '600px',\n      height: '400px',\n    }}\n    {...args}\n  />\n)"}},Empty.parameters),EmptyLoading.parameters=Object.assign({storySource:{source:"(args) => (\n  <PiePlot\n    containerStyles={{\n      width: '600px',\n      height: '400px',\n    }}\n    {...args}\n  />\n)"}},EmptyLoading.parameters),Faceted.parameters=Object.assign({storySource:{source:"({\n  data,\n  componentProps,\n  modalComponentProps,\n}) => (\n  <FacetedPiePlot\n    data={data}\n    componentProps={componentProps}\n    modalComponentProps={modalComponentProps}\n  />\n)"}},Faceted.parameters)},2714:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MultipleDataDefaultColors",(function(){return ScatterPlot_stories_MultipleDataDefaultColors})),__webpack_require__.d(__webpack_exports__,"EmptyData",(function(){return ScatterPlot_stories_EmptyData})),__webpack_require__.d(__webpack_exports__,"EmptyDataLoading",(function(){return ScatterPlot_stories_EmptyDataLoading})),__webpack_require__.d(__webpack_exports__,"PlotModeControl",(function(){return ScatterPlot_stories_PlotModeControl})),__webpack_require__.d(__webpack_exports__,"WithStorybookControl",(function(){return WithStorybookControl})),__webpack_require__.d(__webpack_exports__,"Faceted",(function(){return Faceted})),__webpack_require__.d(__webpack_exports__,"opacitySlider",(function(){return ScatterPlot_stories_opacitySlider}));__webpack_require__(10),__webpack_require__(124),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react=__webpack_require__(0),ScatterPlot=__webpack_require__(133),RadioButtonGroup=__webpack_require__(349),FacetedPlot=__webpack_require__(157),jsx_runtime=__webpack_require__(1),defaultContainerStyles={height:300,width:750/1.75,marginBottom:"0.25rem",border:"1px solid #dedede",boxShadow:"1px 1px 4px #00000066"},defaultSpacingOptions={marginRight:20,marginLeft:50,marginBottom:40,marginTop:50},FacetedScatterPlot_FacetedScatterPlot=function FacetedScatterPlot(facetedScatterPlotProps){var _componentProps$conta,_componentProps$spaci,componentProps=facetedScatterPlotProps.componentProps;return Object(jsx_runtime.jsx)(FacetedPlot.a,Object.assign({component:ScatterPlot.a},facetedScatterPlotProps,{componentProps:Object.assign({},componentProps,{containerStyles:null!==(_componentProps$conta=componentProps.containerStyles)&&void 0!==_componentProps$conta?_componentProps$conta:defaultContainerStyles,spacingOptions:null!==(_componentProps$spaci=componentProps.spacingOptions)&&void 0!==_componentProps$spaci?_componentProps$spaci:defaultSpacingOptions})}))};FacetedScatterPlot_FacetedScatterPlot.displayName="FacetedScatterPlot";var facetedPlots_FacetedScatterPlot=FacetedScatterPlot_FacetedScatterPlot;try{FacetedScatterPlot_FacetedScatterPlot.displayName="FacetedScatterPlot",FacetedScatterPlot_FacetedScatterPlot.__docgenInfo={description:"",displayName:"FacetedScatterPlot",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"FacetedData<ScatterPlotData>"}},checkedLegendItems:{defaultValue:null,description:"",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!0,type:{name:"ScatterPlotProps"}},modalComponentProps:{defaultValue:null,description:"Provide modalComponentProps to activate click-to-expand\nThese are the props the expanded plot inside the modal will receive",name:"modalComponentProps",required:!1,type:{name:"ScatterPlotProps"}},facetedPlotRef:{defaultValue:null,description:"",name:"facetedPlotRef",required:!1,type:{name:"Ref<FacetedPlotRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/facetedPlots/FacetedScatterPlot.tsx#FacetedScatterPlot"]={docgenInfo:FacetedScatterPlot_FacetedScatterPlot.__docgenInfo,name:"FacetedScatterPlot",path:"src/plots/facetedPlots/FacetedScatterPlot.tsx#FacetedScatterPlot"})}catch(__react_docgen_typescript_loader_error){}var Slider=__webpack_require__(164),ScatterPlot_storyData=__webpack_require__(100);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Plots/ScatterPlot",component:ScatterPlot.a,parameters:{redmine:"https://redmine.apidb.org/issues/41310"}};var _processInputData=Object(ScatterPlot_storyData.f)(ScatterPlot_storyData.a,"scatterplot","markers","number","number",!0),dataSetProcess=_processInputData.dataSetProcess,yMin=_processInputData.yMin,yMax=_processInputData.yMax,dataSetProcessDefaultColors=Object(ScatterPlot_storyData.f)(ScatterPlot_storyData.a,"scatterplot","markers","number","number",!1).dataSetProcess,dataSetProcessSequentialGradient=Object(ScatterPlot_storyData.f)(ScatterPlot_storyData.e,"scatterplot","markers","number","number",!1).dataSetProcess,ScatterPlot_stories_MultipleDataDefaultColors=function MultipleDataDefaultColors(){return Object(jsx_runtime.jsx)(ScatterPlot.a,{data:dataSetProcessDefaultColors,independentAxisLabel:"independent axis label",dependentAxisLabel:"dependent axis label",dependentAxisRange:{min:yMin,max:yMax},title:"",containerStyles:{width:1e3,height:600},interactive:!0,displayLegend:!0,displayLibraryControls:!0,legendTitle:"legend title example",independentValueType:"number",dependentValueType:"number"})};ScatterPlot_stories_MultipleDataDefaultColors.displayName="MultipleDataDefaultColors";var ScatterPlot_stories_EmptyData=function EmptyData(){return Object(jsx_runtime.jsx)(ScatterPlot.a,{data:void 0,dependentAxisRange:{min:yMin,max:yMax},title:"",containerStyles:{width:1e3,height:600},interactive:!0,displayLegend:!1,displayLibraryControls:!1,spacingOptions:{marginTop:100,marginRight:100,marginBottom:100,marginLeft:100}})};ScatterPlot_stories_EmptyData.displayName="EmptyData";var ScatterPlot_stories_EmptyDataLoading=function EmptyDataLoading(){return Object(jsx_runtime.jsx)(ScatterPlot.a,{data:void 0,dependentAxisRange:{min:yMin,max:yMax},title:"",containerStyles:{width:1e3,height:600},interactive:!1,displayLegend:!1,displayLibraryControls:!1,showSpinner:!0})};ScatterPlot_stories_EmptyDataLoading.displayName="EmptyDataLoading";var ScatterPlot_stories_PlotModeControl=function PlotModeControl(){var _useState2=_slicedToArray(Object(react.useState)("Raw"),2),valueSpec=_useState2[0],setValueSpec=_useState2[1];return Object(jsx_runtime.jsx)(RadioButtonGroup.a,{label:"Plot Modes",options:["Raw","Smoothed mean with raw","Best fit line with raw"],disabledList:["Smoothed mean with raw","Best fit line with raw"],selectedOption:valueSpec,onOptionSelected:function onValueSpecChange(value){setValueSpec(value)},orientation:"horizontal",labelPlacement:"end",buttonColor:"primary",margins:["5em","0","0","5em"],itemMarginRight:50})};ScatterPlot_stories_PlotModeControl.displayName="PlotModeControl";var ScatterPlot_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ScatterPlot.a,Object.assign({},args))};ScatterPlot_stories_Template.displayName="Template";var WithStorybookControl=ScatterPlot_stories_Template.bind({});WithStorybookControl.args={data:dataSetProcess,interactive:!0,displayLegend:!0,displayLibraryControls:!0,showSpinner:!1,legendTitle:"Legend title example",independentAxisLabel:"Floor material",dependentAxisLabel:"Sleeping rooms in dwelling",containerStyles:{width:1e3,height:600}},WithStorybookControl.argTypes={data:{control:{disable:!0}}};var facetedData={facets:[{label:"Facet 1",data:dataSetProcess},{label:"Facet 2",data:dataSetProcess},{label:"Facet 3",data:dataSetProcess},{label:"Facet 400"},{label:"No data"}]},ScatterPlot_stories_FacetedTemplate=function FacetedTemplate(_ref){var data=_ref.data,componentProps=_ref.componentProps,modalComponentProps=_ref.modalComponentProps;return Object(jsx_runtime.jsx)(facetedPlots_FacetedScatterPlot,{data:data,componentProps:componentProps,modalComponentProps:modalComponentProps})};ScatterPlot_stories_FacetedTemplate.displayName="FacetedTemplate";var Faceted=ScatterPlot_stories_FacetedTemplate.bind({});Faceted.args={data:facetedData,componentProps:{title:"Faceted ScatterPlot",containerStyles:{width:300,height:300,border:"1px solid #dadada"}},modalComponentProps:{containerStyles:{width:"85%",height:"100%",margin:"auto"}}};var ScatterPlot_stories_opacitySlider=function opacitySlider(){var _useState4=_slicedToArray(Object(react.useState)(0),2),markerBodyOpacity=_useState4[0],setMarkerBodyOpacity=_useState4[1];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(ScatterPlot.a,{data:dataSetProcess,independentAxisLabel:"independent axis label",dependentAxisLabel:"dependent axis label",dependentAxisRange:{min:yMin,max:yMax},title:"General color",containerStyles:{width:1e3,height:600},interactive:!0,displayLegend:!0,displayLibraryControls:!0,legendTitle:"legend title example",independentValueType:"number",dependentValueType:"number",markerBodyOpacity:markerBodyOpacity}),Object(jsx_runtime.jsx)(ScatterPlot.a,{data:dataSetProcessSequentialGradient,independentAxisLabel:"independent axis label",dependentAxisLabel:"dependent axis label",dependentAxisRange:{min:yMin,max:yMax},title:"Sequential gradient color",containerStyles:{width:1e3,height:600},interactive:!0,displayLegend:!0,displayLibraryControls:!0,legendTitle:"legend title example",independentValueType:"number",dependentValueType:"number",markerBodyOpacity:markerBodyOpacity}),Object(jsx_runtime.jsx)(Slider.a,{minimum:0,maximum:1,step:.1,value:0,debounceRateMs:250,onChange:function onChange(newValue){setMarkerBodyOpacity(newValue)},containerStyles:{height:100,width:425,marginLeft:75},showLimits:!0,label:"Marker opacity",disabled:!1,colorSpec:{type:"gradient",tooltip:"#aaa",knobColor:"#aaa",trackGradientStart:"#fff",trackGradientEnd:"#000"}})]})};ScatterPlot_stories_MultipleDataDefaultColors.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <ScatterPlot\n      data={dataSetProcessDefaultColors}\n      independentAxisLabel={independentAxisLabel}\n      dependentAxisLabel={dependentAxisLabel}\n      // not to use independentAxisRange\n      // independentAxisRange={[xMin, xMax]}\n      dependentAxisRange={{ min: yMin, max: yMax }}\n      title={plotTitle}\n      // width height is replaced with containerStyles\n      containerStyles={{\n        width: plotWidth,\n        height: plotHeight,\n      }}\n      // staticPlot is changed to interactive\n      interactive={true}\n      // check enable/disable legend and built-in controls\n      displayLegend={true}\n      displayLibraryControls={true}\n      // margin={{l: 50, r: 10, b: 20, t: 10}}\n      // add legend title\n      legendTitle={'legend title example'}\n      independentValueType={independentValueType}\n      dependentValueType={dependentValueType}\n    />\n  );\n}"}},ScatterPlot_stories_MultipleDataDefaultColors.parameters),ScatterPlot_stories_EmptyData.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <ScatterPlot\n      data={undefined}\n      // independentAxisLabel={independentAxisLabel}\n      // dependentAxisLabel={dependentAxisLabel}\n      // not to use independentAxisRange\n      // independentAxisRange={[xMin, xMax]}\n      dependentAxisRange={{ min: yMin, max: yMax }}\n      title={plotTitle}\n      // width height is replaced with containerStyles\n      containerStyles={{\n        width: plotWidth,\n        height: plotHeight,\n      }}\n      // staticPlot is changed to interactive\n      interactive={true}\n      // check enable/disable legend and built-in controls\n      displayLegend={false}\n      displayLibraryControls={false}\n      // margin is replaced with spacingOptions: testing here\n      spacingOptions={{\n        marginTop: 100,\n        marginRight: 100,\n        marginBottom: 100,\n        marginLeft: 100,\n      }}\n    />\n  );\n}"}},ScatterPlot_stories_EmptyData.parameters),ScatterPlot_stories_EmptyDataLoading.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <ScatterPlot\n      data={undefined}\n      dependentAxisRange={{ min: yMin, max: yMax }}\n      title={plotTitle}\n      // width height is replaced with containerStyles\n      containerStyles={{\n        width: plotWidth,\n        height: plotHeight,\n      }}\n      // staticPlot is changed to interactive\n      interactive={false}\n      // check enable/disable legend and built-in controls\n      displayLegend={false}\n      displayLibraryControls={false}\n      // margin={{l: 50, r: 10, b: 20, t: 10}}\n      showSpinner={true}\n    />\n  );\n}"}},ScatterPlot_stories_EmptyDataLoading.parameters),ScatterPlot_stories_PlotModeControl.parameters=Object.assign({storySource:{source:"() => {\n  const [valueSpec, setValueSpec] = useState('Raw');\n\n  const onValueSpecChange = (value: string) => {\n    setValueSpec(value);\n  };\n\n  return (\n    <RadioButtonGroup\n      label=\"Plot Modes\"\n      // following plotOptions\n      options={['Raw', 'Smoothed mean with raw', 'Best fit line with raw']}\n      // this will be used to disable radio options (grayed out)\n      disabledList={['Smoothed mean with raw', 'Best fit line with raw']}\n      selectedOption={valueSpec}\n      onOptionSelected={onValueSpecChange}\n      orientation={'horizontal'}\n      labelPlacement={'end'}\n      buttonColor={'primary'}\n      margins={['5em', '0', '0', '5em']}\n      itemMarginRight={50}\n    />\n  );\n}"}},ScatterPlot_stories_PlotModeControl.parameters),WithStorybookControl.parameters=Object.assign({storySource:{source:"(args: any) => <ScatterPlot {...args} />"}},WithStorybookControl.parameters),Faceted.parameters=Object.assign({storySource:{source:"({\n  data,\n  componentProps,\n  modalComponentProps,\n}) => (\n  <FacetedScatterPlot\n    data={data}\n    componentProps={componentProps}\n    modalComponentProps={modalComponentProps}\n  />\n)"}},Faceted.parameters),ScatterPlot_stories_opacitySlider.parameters=Object.assign({storySource:{source:"() => {\n  const disabled = false;\n  const [markerBodyOpacity, setMarkerBodyOpacity] = useState(0);\n  const containerStyles = {\n    height: 100,\n    width: 425,\n    marginLeft: 75,\n  };\n\n  // gradient color\n  const colorSpecProps: SliderWidgetProps['colorSpec'] = {\n    type: 'gradient',\n    tooltip: '#aaa',\n    knobColor: '#aaa',\n    trackGradientStart: '#fff',\n    trackGradientEnd: '#000',\n  };\n\n  return (\n    <>\n      <ScatterPlot\n        data={dataSetProcess}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        // not to use independentAxisRange\n        // independentAxisRange={[xMin, xMax]}\n        dependentAxisRange={{ min: yMin, max: yMax }}\n        title={'General color'}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        // staticPlot is changed to interactive\n        interactive={true}\n        // check enable/disable legend and built-in controls\n        displayLegend={true}\n        displayLibraryControls={true}\n        // margin={{l: 50, r: 10, b: 20, t: 10}}\n        // add legend title\n        legendTitle={'legend title example'}\n        independentValueType={independentValueType}\n        dependentValueType={dependentValueType}\n        markerBodyOpacity={markerBodyOpacity}\n      />\n\n      {/* Sequential gradient color   */}\n      <ScatterPlot\n        data={dataSetProcessSequentialGradient}\n        independentAxisLabel={independentAxisLabel}\n        dependentAxisLabel={dependentAxisLabel}\n        // not to use independentAxisRange\n        // independentAxisRange={[xMin, xMax]}\n        dependentAxisRange={{ min: yMin, max: yMax }}\n        title={'Sequential gradient color'}\n        // width height is replaced with containerStyles\n        containerStyles={{\n          width: plotWidth,\n          height: plotHeight,\n        }}\n        // staticPlot is changed to interactive\n        interactive={true}\n        // check enable/disable legend and built-in controls\n        displayLegend={true}\n        displayLibraryControls={true}\n        // margin={{l: 50, r: 10, b: 20, t: 10}}\n        // add legend title\n        legendTitle={'legend title example'}\n        independentValueType={independentValueType}\n        dependentValueType={dependentValueType}\n        markerBodyOpacity={markerBodyOpacity}\n      />\n\n      <SliderWidget\n        minimum={0}\n        maximum={1}\n        // hide text form\n        // showTextInput={true}\n        step={0.1}\n        value={0}\n        debounceRateMs={250}\n        onChange={(newValue: number) => {\n          setMarkerBodyOpacity(newValue);\n        }}\n        containerStyles={containerStyles}\n        showLimits={true}\n        label={'Marker opacity'}\n        disabled={disabled}\n        // test gradient color\n        colorSpec={colorSpecProps}\n      />\n    </>\n  );\n}"}},ScatterPlot_stories_opacitySlider.parameters)},2715:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return PopoverButton_stories_Basic})),__webpack_require__.d(__webpack_exports__,"Selector",(function(){return PopoverButton_stories_Selector}));__webpack_require__(25),__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react=__webpack_require__(0),Popover=__webpack_require__(2794),Button=__webpack_require__(2723),Icon=__webpack_require__(2793),jsx_runtime=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function PopoverButton(props){var children=props.children,label=props.label,_useState2=_slicedToArray(Object(react.useState)(null),2),anchorEl=_useState2[0],setAnchorEl=_useState2[1],menu=Object(jsx_runtime.jsx)(Popover.a,{id:"dropdown",open:Boolean(anchorEl),onClose:function onClose(){return setAnchorEl(null)},anchorEl:anchorEl,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,children:children}),button=Object(jsx_runtime.jsx)(Button.a,{disableRipple:!0,"aria-controls":"dropdown","aria-haspopup":"true",color:"default",variant:"contained",onClick:function onClick(event){setAnchorEl(event.currentTarget)},endIcon:Object(jsx_runtime.jsx)(Icon.a,{className:"fa fa-caret-down"}),children:label});return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[button,menu]})}try{PopoverButton.displayName="PopoverButton",PopoverButton.__docgenInfo={description:"Renders a button that display `children` in a popover widget.",displayName:"PopoverButton",props:{children:{defaultValue:null,description:"Contents of the menu when opened",name:"children",required:!0,type:{name:"ReactNode"}},label:{defaultValue:null,description:"Contents of button",name:"label",required:!0,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/PopoverButton.tsx#PopoverButton"]={docgenInfo:PopoverButton.__docgenInfo,name:"PopoverButton",path:"src/components/widgets/PopoverButton.tsx#PopoverButton"})}catch(__react_docgen_typescript_loader_error){}function PopoverButton_stories_slicedToArray(arr,i){return function PopoverButton_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PopoverButton_stories_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PopoverButton_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PopoverButton_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PopoverButton_stories_arrayLikeToArray(o,minLen)}(arr,i)||function PopoverButton_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PopoverButton_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Widgets/PopoverButton",component:PopoverButton};var PopoverButton_stories_Basic=function Basic(){return Object(jsx_runtime.jsx)(PopoverButton,{label:Object(jsx_runtime.jsx)("em",{children:"Open for details"}),children:Object(jsx_runtime.jsx)("div",{style:{padding:"1em"},children:"Some details that appear in a popover"})})};PopoverButton_stories_Basic.displayName="Basic";var PopoverButton_stories_Selector=function Selector(){var _useState2=PopoverButton_stories_slicedToArray(Object(react.useState)(null),2),option=_useState2[0],setOption=_useState2[1],handleChange=function handleChange(event){setOption(event.currentTarget.value)},label=option?"Option "+option+" selected":"Choose an option";return Object(jsx_runtime.jsx)(PopoverButton,{label:label,children:Object(jsx_runtime.jsx)("div",{style:{padding:"1em"},children:["A","B","C","D","E"].map((function(value){return Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsxs)("label",{children:[Object(jsx_runtime.jsx)("input",{type:"radio",value:value,checked:option===value,onChange:handleChange})," ","Option ",value]})},value)}))})})};PopoverButton_stories_Selector.displayName="Selector",PopoverButton_stories_Basic.parameters=Object.assign({storySource:{source:"() => (\n  <PopoverButton label={<em>Open for details</em>}>\n    <div style={{ padding: '1em' }}>Some details that appear in a popover</div>\n  </PopoverButton>\n)"}},PopoverButton_stories_Basic.parameters),PopoverButton_stories_Selector.parameters=Object.assign({storySource:{source:"() => {\n  const [option, setOption] = useState<string | null>(null);\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) => {\n    setOption(event.currentTarget.value);\n  };\n  const label = option ? `Option ${option} selected` : 'Choose an option';\n  return (\n    <PopoverButton label={label}>\n      <div style={{ padding: '1em' }}>\n        {['A', 'B', 'C', 'D', 'E'].map((value) => (\n          <div key={value}>\n            <label>\n              <input\n                type=\"radio\"\n                value={value}\n                checked={option === value}\n                onChange={handleChange}\n              />{' '}\n              Option {value}\n            </label>\n          </div>\n        ))}\n      </div>\n    </PopoverButton>\n  );\n}"}},PopoverButton_stories_Selector.parameters)},273:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(10),__webpack_require__(8),__webpack_require__(12),__webpack_require__(14),__webpack_require__(108),__webpack_require__(40),__webpack_require__(152),__webpack_require__(7);var _PlotlyPlot__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(105),lodash__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(17);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var EmptyPieData={slices:[]},PiePlot=Object(_PlotlyPlot__WEBPACK_IMPORTED_MODULE_8__.d)("PiePlot",(function(_ref){var _textOptions$sliceTex,_textOptions$sliceTex2,_ref$data=_ref.data,data=void 0===_ref$data?EmptyPieData:_ref$data,donutOptions=_ref.donutOptions,textOptions=_ref.textOptions,cumulative=_ref.cumulative,restProps=_objectWithoutProperties(_ref,["data","donutOptions","textOptions","cumulative"]),newData=[],layout={};if(donutOptions){var _donutOptions$backgro;donutOptions.text&&Object.assign(layout,{annotations:[{font:{size:donutOptions.fontSize,color:donutOptions.textColor},showarrow:!1,text:donutOptions.text,x:.5,y:.5}]});var fauxDataTrace={type:"pie",values:[1],marker:{colors:[null!==(_donutOptions$backgro=donutOptions.backgroundColor)&&void 0!==_donutOptions$backgro?_donutOptions$backgro:"transparent"]},opacity:1,hoverinfo:"none",textinfo:"none",showlegend:!1};newData.push(fauxDataTrace)}var primaryDataTrace=Object.assign({type:"pie"},data.slices.reduce((function reducer(reducedData,currentData){reducedData.values.push(currentData.value-(cumulative?Object(lodash__WEBPACK_IMPORTED_MODULE_9__.sum)(reducedData.values):0)),reducedData.labels.push(currentData.label);var color=currentData.color;return reducedData.marker.colors.push(null!=color?color:""),reducedData}),{values:[],labels:[],marker:{colors:[]},cumulativeSum:0}),{hole:null==donutOptions?void 0:donutOptions.size,direction:"clockwise",sort:!1,text:null==textOptions?void 0:textOptions.sliceTextOverrides,textinfo:null!=textOptions&&null!==(_textOptions$sliceTex=textOptions.sliceTextOverrides)&&void 0!==_textOptions$sliceTex&&_textOptions$sliceTex.length?"text":null==textOptions?void 0:textOptions.displayOption,textposition:null==textOptions?void 0:textOptions.displayPosition,texttemplate:null==textOptions?void 0:textOptions.displayTemplate,hoverinfo:restProps.interactive?null!=textOptions&&null!==(_textOptions$sliceTex2=textOptions.sliceTextOverrides)&&void 0!==_textOptions$sliceTex2&&_textOptions$sliceTex2.length?"text":"label+value+percent":"none"});return newData.push(primaryDataTrace),Object.assign({data:newData,layout:layout},restProps)}));__webpack_exports__.a=PiePlot;try{PiePlot.displayName="PiePlot",PiePlot.__docgenInfo={description:"A Plot.ly based Pie plot.",displayName:"PiePlot",props:{donutOptions:{defaultValue:null,description:'Extra specification for "donut" plot variation.',name:"donutOptions",required:!1,type:{name:"{ size: number; backgroundColor?: string; text?: string; textColor?: string | undefined; fontSize?: string | number | undefined; } | undefined"}},textOptions:{defaultValue:null,description:"Optional spec for addition control of slice text.",name:"textOptions",required:!1,type:{name:'{ sliceTextOverrides?: string[]; displayOption?: "value" | "percent" | "label" | "value+percent"; displayPosition?: "auto" | "outside" | "inside" | "none" | undefined; displayTemplate?: string | ... 1 more ... | undefined; } | undefined'}},cumulative:{defaultValue:null,description:"If true, treat data as cumulative totals and adjust pie sizes appropriately",name:"cumulative",required:!1,type:{name:"boolean"}},data:{defaultValue:null,description:"plot data - following web-components' API, not Plotly's",name:"data",required:!1,type:{name:"PiePlotData"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Should plot legend be displayed? Default is yes",name:"displayLegend",required:!1,type:{name:"boolean"}},containerStyles:{defaultValue:null,description:"CSS styles for enclosing div\nDefault is { width: '100%', height: '400px' }",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},containerClass:{defaultValue:null,description:"class name for enclosing div. Default is web-components-plot",name:"containerClass",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"Enables mouse-overs and interaction if true. Default false.",name:"interactive",required:!1,type:{name:"boolean"}},displayLibraryControls:{defaultValue:null,description:"show Plotly's mode bar (only shows if interactive == true)",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},showSpinner:{defaultValue:null,description:"show a loading... spinner in the middle of the container div",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:"Show an overlay with the words 'No Data'",name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend layout and appearance.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},legendTitle:{defaultValue:null,description:"legend title",name:"legendTitle",required:!1,type:{name:"string"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},maxLegendTextLength:{defaultValue:null,description:"maximum number of characters for legend ellipsis",name:"maxLegendTextLength",required:!1,type:{name:"number"}},storedIndependentAxisTickLabel:{defaultValue:null,description:"original independent axis tick labels as data is changed at each component (barplot and boxplot)",name:"storedIndependentAxisTickLabel",required:!1,type:{name:"string[]"}},checkedLegendItems:{defaultValue:null,description:"list of checked legend items via checkbox input",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},onPlotlyRender:{defaultValue:null,description:"A function to call each time after plotly renders the plot",name:"onPlotlyRender",required:!1,type:{name:"((figure: Readonly<Figure>, graphDiv: Readonly<HTMLElement>) => void)"}},colorPalette:{defaultValue:null,description:"",name:"colorPalette",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/PiePlot.tsx#PiePlot"]={docgenInfo:PiePlot.__docgenInfo,name:"PiePlot",path:"src/plots/PiePlot.tsx#PiePlot"})}catch(__react_docgen_typescript_loader_error){}},278:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ButtonGroup}));__webpack_require__(10),__webpack_require__(25),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_material_ui_lab_ToggleButton__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(856),_material_ui_lab_ToggleButtonGroup__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1339),_constants_colors__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(36),_material_ui_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(200),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ButtonGroup(_ref){var _ref$label=_ref.label,label=void 0===_ref$label?void 0:_ref$label,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?"horizontal":_ref$orientation,options=_ref.options,selectedOption=_ref.selectedOption,onOptionSelected=_ref.onOptionSelected,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(!1),2),focused=_useState2[0],setFocused=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"column",alignItems:"flex-start"},containerStyles),onMouseOver:function onMouseOver(){return setFocused(!0)},onMouseOut:function onMouseOut(){return setFocused(!1)},children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_17__.a,{variant:"button",style:{color:focused?_constants_colors__WEBPACK_IMPORTED_MODULE_16__.b:_constants_colors__WEBPACK_IMPORTED_MODULE_16__.k},children:label}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_material_ui_lab_ToggleButtonGroup__WEBPACK_IMPORTED_MODULE_15__.a,{value:selectedOption,orientation:orientation,exclusive:!0,onChange:function onChange(event,value){return value&&onOptionSelected(value)},"aria-label":label+" control button group",children:options.map((function(option,index){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_material_ui_lab_ToggleButton__WEBPACK_IMPORTED_MODULE_14__.a,{value:option,"aria-label":option,style:{padding:5,paddingLeft:7.5,paddingRight:7.5,fontSize:"12px",fontWeight:400,textTransform:"capitalize",justifyContent:"start"},children:option},index)}))})]})}ButtonGroup.displayName="ButtonGroup";try{ButtonGroup.displayName="ButtonGroup",ButtonGroup.__docgenInfo={description:"A simple group of buttons in which only a single\nbutton can be selected at any given time.",displayName:"ButtonGroup",props:{label:{defaultValue:{value:"undefined"},description:"Label for the widget. Optional.",name:"label",required:!1,type:{name:"string"}},orientation:{defaultValue:{value:"horizontal"},description:"How buttons are displayed. Vertical or Horizontal",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},options:{defaultValue:null,description:"Options that will be presented as buttons.",name:"options",required:!0,type:{name:"string[]"}},selectedOption:{defaultValue:null,description:"The currently selected option.",name:"selectedOption",required:!0,type:{name:"string"}},onOptionSelected:{defaultValue:null,description:"Action to take when an option is selected by the user.",name:"onOptionSelected",required:!0,type:{name:"(option: string) => void"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional widget container styles. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/ButtonGroup.tsx#ButtonGroup"]={docgenInfo:ButtonGroup.__docgenInfo,name:"ButtonGroup",path:"src/components/widgets/ButtonGroup.tsx#ButtonGroup"})}catch(__react_docgen_typescript_loader_error){}},279:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return usePlotControls}));__webpack_require__(10),__webpack_require__(41),__webpack_require__(74),__webpack_require__(207),__webpack_require__(76),__webpack_require__(151),__webpack_require__(387),__webpack_require__(388),__webpack_require__(63),__webpack_require__(8),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(19),__webpack_require__(15),__webpack_require__(9),__webpack_require__(40),__webpack_require__(152);var react__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(0),debounce_promise__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(1327),debounce_promise__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(debounce_promise__WEBPACK_IMPORTED_MODULE_23__),_types_guards__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(178),date_arithmetic__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(120),lodash__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(17);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function reducer(state,action){var _state$histogram,_state$histogram2;switch(action.type){case"errors/add":return Object.assign({},state,{errors:[].concat(_toConsumableArray(state.errors),[action.payload])});case"errors/remove":return Object.assign({},state,{errors:state.errors.filter((function(error){return error.message!==action.payload.message}))});case"errors/clear":return Object.assign({},state,{errors:[]});case"setData":return Object.assign({},state,{data:action.payload});case"setBarLayout":return Object.assign({},state,{barLayout:action.payload});case"histogram/setBinWidth":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{binWidth:action.payload})});case"histogram/setBinWidthRange":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{binWidthRange:action.payload})});case"histogram/setBinWidthStep":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{binWidthStep:action.payload})});case"setOpacity":return Object.assign({},state,{opacity:action.payload});case"resetOpacity":return Object.assign({},state,{opacity:1});case"setSelectedUnit":return Object.assign({},state,{selectedUnit:action.payload});case"toggleDisplayLegend":return Object.assign({},state,{displayLegend:!0!==state.displayLegend});case"toggleLibraryControls":return Object.assign({},state,{displayLibraryControls:!0!==state.displayLibraryControls});case"toggleOrientation":return Object.assign({},state,{orientation:"vertical"===state.orientation?"horizontal":"vertical"});case"histogram/setSelectedRange":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{selectedRange:action.payload})});case"histogram/toggleDependentAxisLogScale":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{dependentAxisLogScale:!0!==(null==state||null===(_state$histogram=state.histogram)||void 0===_state$histogram?void 0:_state$histogram.dependentAxisLogScale)})});case"histogram/onDependentAxisRangeChange":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{dependentAxisRange:action.payload})});case"histogram/onDependentAxisModeChange":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{dependentAxisMode:"absolute"===(null==state||null===(_state$histogram2=state.histogram)||void 0===_state$histogram2?void 0:_state$histogram2.dependentAxisMode)?"relative":"absolute"})});case"histogram/onIndependentAxisRangeChange":return Object.assign({},state,{histogram:Object.assign({},state.histogram,{independentAxisRange:action.payload})});case"histogram/onDependentAxisRangeReset":case"histogram/onIndependentAxisRangeReset":return Object.assign({},state,{histogram:Object.assign({},state.histogram)});case"onResetAll":return Object.assign({},state);case"ScatterPlot/onValueSpecChange":return Object.assign({},state,{ScatterPlot:Object.assign({},state.ScatterPlot,{valueSpec:action.payload})});default:throw new Error}}function usePlotControls(params){var _params$histogram8,_params$data$availabl,_params$data$selected,initialState={data:params.data,errors:[],displayLegend:!0,displayLibraryControls:!1,opacity:1,orientation:"vertical",barLayout:"overlay",histogram:{binWidth:0,binWidthRange:{min:0,max:0},binWidthStep:0,displaySelectedRangeControls:!1,dependentAxisLogScale:!1,dependentAxisMode:"absolute"},ScatterPlot:{valueSpec:"Raw"}};(Object(_types_guards__WEBPACK_IMPORTED_MODULE_24__.e)(params.data)||Object(_types_guards__WEBPACK_IMPORTED_MODULE_24__.c)(params.data))&&(initialState.availableUnits=null!==(_params$data$availabl=params.data.availableUnits)&&void 0!==_params$data$availabl?_params$data$availabl:[],initialState.selectedUnit=null!==(_params$data$selected=params.data.selectedUnit)&&void 0!==_params$data$selected?_params$data$selected:"");if(Object(_types_guards__WEBPACK_IMPORTED_MODULE_24__.c)(params.data)){var _params$histogram,_params$data$binWidth,_params$data$binWidth2,_params$data$binWidth3,_ref,_params$histogram$bin,_params$histogram2,_params$data$binWidth4,_params$histogram3,_params$histogram4,binWidthRange;if(null!==(_params$histogram=params.histogram)&&void 0!==_params$histogram&&_params$histogram.binWidthRange)binWidthRange=params.histogram.binWidthRange;else if(null!==(_params$data$binWidth=params.data.binWidthSlider)&&void 0!==_params$data$binWidth&&_params$data$binWidth.binWidthRange)binWidthRange=params.data.binWidthSlider.binWidthRange;else{var lowBinValue=null,highBinValue=null;if(params.data.series.forEach((function(series){series.bins.forEach((function(bin){null===lowBinValue||bin.binStart<lowBinValue?lowBinValue=bin.binStart:(null===highBinValue||bin.binEnd>highBinValue)&&(highBinValue=bin.binEnd)}))})),"number"==typeof highBinValue&&"number"==typeof lowBinValue){var rawBinWidthRange=highBinValue-lowBinValue;binWidthRange={min:rawBinWidthRange/10,max:rawBinWidthRange/2}}else if(highBinValue&&Object(_types_guards__WEBPACK_IMPORTED_MODULE_24__.b)(highBinValue)&&lowBinValue&&Object(_types_guards__WEBPACK_IMPORTED_MODULE_24__.b)(lowBinValue)){var _rawBinWidthRange=date_arithmetic__WEBPACK_IMPORTED_MODULE_25__.b(new Date(highBinValue),new Date(lowBinValue),"day",!0);binWidthRange={min:_rawBinWidthRange/10,max:_rawBinWidthRange/2,unit:"day"}}else binWidthRange={min:1,max:1}}var _binWidth=null!==(_params$data$binWidth2=null===(_params$data$binWidth3=params.data.binWidthSlider)||void 0===_params$data$binWidth3?void 0:_params$data$binWidth3.binWidth)&&void 0!==_params$data$binWidth2?_params$data$binWidth2:"unit"in binWidthRange?{value:binWidthRange.max/10,unit:binWidthRange.unit}:binWidthRange.max/10,binWidthStep=null!==(_ref=null!==(_params$histogram$bin=null===(_params$histogram2=params.histogram)||void 0===_params$histogram2?void 0:_params$histogram2.binWidthStep)&&void 0!==_params$histogram$bin?_params$histogram$bin:null===(_params$data$binWidth4=params.data.binWidthSlider)||void 0===_params$data$binWidth4?void 0:_params$data$binWidth4.binWidthStep)&&void 0!==_ref?_ref:(binWidthRange.max-binWidthRange.min)/10;if(initialState.histogram=Object.assign({},initialState.histogram,{binWidth:_binWidth,binWidthRange:binWidthRange,binWidthStep:binWidthStep,valueType:null===(_params$histogram3=params.histogram)||void 0===_params$histogram3?void 0:_params$histogram3.valueType}),null!=params&&null!==(_params$histogram4=params.histogram)&&void 0!==_params$histogram4&&_params$histogram4.displaySelectedRangeControls){var _params$histogram$sel,_params$histogram5,_params$histogram5$se,allBins=params.data.series.flatMap((function(series){return series.bins})),min=null!==(_params$histogram$sel=null===(_params$histogram5=params.histogram)||void 0===_params$histogram5||null===(_params$histogram5$se=_params$histogram5.selectedRange)||void 0===_params$histogram5$se?void 0:_params$histogram5$se.min)&&void 0!==_params$histogram$sel?_params$histogram$sel:Object(lodash__WEBPACK_IMPORTED_MODULE_26__.orderBy)(allBins,[function(bin){return bin.binStart}],["asc"])[0].binStart,max=Object(lodash__WEBPACK_IMPORTED_MODULE_26__.orderBy)(allBins,[function(bin){return bin.binEnd}],["desc"])[0].binEnd;initialState.histogram=Object.assign({},initialState.histogram,{selectedRangeBounds:{min:min,max:max},displaySelectedRangeControls:!0})}}var _useReducer2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_22__.useReducer)(reducer,initialState),2),reducerState=_useReducer2[0],dispatch=_useReducer2[1],onSelectedUnitChange=function(){var _ref2=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(newUnit){var newData,_newData$binWidthSlid,_newData$binWidthSlid2,_newData$binWidthSlid3,_newData$binWidthSlid4,_newData$binWidthSlid5,_newData$binWidthSlid6;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!params.onSelectedUnitChange){_context.next=22;break}return _context.prev=1,_context.next=4,params.onSelectedUnitChange(newUnit);case 4:if(newData=_context.sent,dispatch({type:"setData",payload:newData}),!Object(_types_guards__WEBPACK_IMPORTED_MODULE_24__.c)(newData)){_context.next=14;break}if(!(null!==(_newData$binWidthSlid=newData.binWidthSlider)&&void 0!==_newData$binWidthSlid&&_newData$binWidthSlid.binWidth&&null!==(_newData$binWidthSlid2=newData.binWidthSlider)&&void 0!==_newData$binWidthSlid2&&_newData$binWidthSlid2.binWidthRange&&null!==(_newData$binWidthSlid3=newData.binWidthSlider)&&void 0!==_newData$binWidthSlid3&&_newData$binWidthSlid3.binWidthStep)){_context.next=13;break}dispatch({type:"histogram/setBinWidthRange",payload:null===(_newData$binWidthSlid4=newData.binWidthSlider)||void 0===_newData$binWidthSlid4?void 0:_newData$binWidthSlid4.binWidthRange}),dispatch({type:"histogram/setBinWidth",payload:null===(_newData$binWidthSlid5=newData.binWidthSlider)||void 0===_newData$binWidthSlid5?void 0:_newData$binWidthSlid5.binWidth}),dispatch({type:"histogram/setBinWidthStep",payload:null===(_newData$binWidthSlid6=newData.binWidthSlider)||void 0===_newData$binWidthSlid6?void 0:_newData$binWidthSlid6.binWidthStep}),_context.next=14;break;case 13:throw new Error("usePlotControls does not yet support switch units on histogram plots without binWidth/binWidthRange/binWidthStep being specified by backend.");case 14:_context.next=19;break;case 16:_context.prev=16,_context.t0=_context.catch(1),dispatch({type:"errors/add",payload:_context.t0});case 19:return _context.prev=19,dispatch({type:"setSelectedUnit",payload:newUnit}),_context.finish(19);case 22:case"end":return _context.stop()}}),_callee,null,[[1,16,19,22]])})));return function onSelectedUnitChange(_x){return _ref2.apply(this,arguments)}}(),debouncedBinWidthHandler=Object(react__WEBPACK_IMPORTED_MODULE_22__.useMemo)((function(){var _params$histogram6,_params$histogram7;return(null===(_params$histogram6=params.histogram)||void 0===_params$histogram6?void 0:_params$histogram6.onBinWidthChange)&&debounce_promise__WEBPACK_IMPORTED_MODULE_23___default()(null===(_params$histogram7=params.histogram)||void 0===_params$histogram7?void 0:_params$histogram7.onBinWidthChange,300)}),[null===(_params$histogram8=params.histogram)||void 0===_params$histogram8?void 0:_params$histogram8.onBinWidthChange]),errors=reducerState.errors,rest=_objectWithoutProperties(reducerState,["errors"]);return Object.assign({},rest,{errorManagement:{errors:errors,addError:function addError(error){return dispatch({type:"errors/add",payload:error})},removeError:function removeError(error){return dispatch({type:"errors/remove",payload:error})},clearAllErrors:function clearAllErrors(){return dispatch({type:"errors/clear"})}},histogram:Object.assign({},reducerState.histogram,{onBinWidthChange:function onBinWidthChange(binWidth){params.histogram&&(dispatch({type:"histogram/setBinWidth",payload:binWidth}),debouncedBinWidthHandler&&debouncedBinWidthHandler(binWidth).then((function(newData){return dispatch({type:"setData",payload:newData})}),(function(error){return dispatch({type:"errors/add",payload:error})})))},onSelectedRangeChange:function onSelectedRangeChange(newRange){params.histogram&&dispatch({type:"histogram/setSelectedRange",payload:newRange})},toggleDependentAxisLogScale:function toggleDependentAxisLogScale(){return dispatch({type:"histogram/toggleDependentAxisLogScale"})},onDependentAxisRangeChange:function onDependentAxisRangeChange(newRange){params.histogram&&dispatch({type:"histogram/onDependentAxisRangeChange",payload:newRange})},onDependentAxisModeChange:function onDependentAxisModeChange(){return dispatch({type:"histogram/onDependentAxisModeChange"})},onDependentAxisRangeReset:function onDependentAxisRangeReset(){return dispatch({type:"histogram/onDependentAxisRangeReset"})},onIndependentAxisRangeChange:function onIndependentAxisRangeChange(newRange){params.histogram&&dispatch({type:"histogram/onIndependentAxisRangeChange",payload:newRange})},onIndependentAxisRangeReset:function onIndependentAxisRangeReset(){return dispatch({type:"histogram/onIndependentAxisRangeReset"})}}),resetOpacity:function resetOpacity(){return dispatch({type:"resetOpacity"})},onBarLayoutChange:function onBarLayoutChange(layout){return dispatch({type:"setBarLayout",payload:layout})},onSelectedUnitChange:onSelectedUnitChange,onOpacityChange:function onOpacityChange(opacity){return dispatch({type:"setOpacity",payload:opacity})},toggleDisplayLegend:function toggleDisplayLegend(){return dispatch({type:"toggleDisplayLegend"})},toggleOrientation:function toggleOrientation(){return dispatch({type:"toggleOrientation"})},toggleLibraryControls:function toggleLibraryControls(){return dispatch({type:"toggleLibraryControls"})},onResetAll:function onResetAll(){return dispatch({type:"onResetAll"})},ScatterPlot:Object.assign({},reducerState.ScatterPlot,{onValueSpecChange:function onValueSpecChange(value){return dispatch({type:"ScatterPlot/onValueSpecChange",payload:value})}})})}try{usePlotControls.displayName="usePlotControls",usePlotControls.__docgenInfo={description:"Custom hook to manage and share state between controls and plot components.",displayName:"usePlotControls",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"UnionOfPlotDataTypes"}},onSelectedUnitChange:{defaultValue:null,description:"",name:"onSelectedUnitChange",required:!1,type:{name:"((newUnit: string) => Promise<DataShape>)"}},histogram:{defaultValue:null,description:"",name:"histogram",required:!1,type:{name:"{ binWidthRange?: NumberOrTimeDeltaRange; binWidthStep?: number; onBinWidthChange: (binWidth: NumberOrTimeDelta) => Promise<...>; ... 6 more ...; independentAxisRange?: NumberOrDateRange | undefined; } | undefined"}},ScatterPlot:{defaultValue:null,description:"",name:"ScatterPlot",required:!1,type:{name:"{ valueSpec?: string; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/usePlotControls.tsx#usePlotControls"]={docgenInfo:usePlotControls.__docgenInfo,name:"usePlotControls",path:"src/hooks/usePlotControls.tsx#usePlotControls"})}catch(__react_docgen_typescript_loader_error){}},280:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HistogramControls}));__webpack_require__(108),__webpack_require__(206),__webpack_require__(41),__webpack_require__(10),__webpack_require__(25),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(19),__webpack_require__(15),__webpack_require__(9);var react=__webpack_require__(0),index_esm=__webpack_require__(625),ControlsHeader=__webpack_require__(626),NumberAndDateRangeInputs=__webpack_require__(134),LabelledGroup=__webpack_require__(344),jsx_runtime=__webpack_require__(1);function SelectedRangeControl(_ref){var label=_ref.label,valueType=_ref.valueType,selectedRange=_ref.selectedRange,onSelectedRangeChange=_ref.onSelectedRangeChange,selectedRangeBounds=_ref.selectedRangeBounds,_ref$enforceBounds=_ref.enforceBounds,enforceBounds=void 0!==_ref$enforceBounds&&_ref$enforceBounds,_ref$showClearButton=_ref.showClearButton,showClearButton=void 0===_ref$showClearButton||_ref$showClearButton,containerStyles=_ref.containerStyles,validator=enforceBounds?void 0:Object(react.useCallback)((function(range){return range&&("date"===valueType?range.min.substring(0,10)>range.max.substring(0,10):(null==range?void 0:range.min)>(null==range?void 0:range.max))?{validity:!1,message:"Range start cannot be above range end"}:{validity:!0,message:""}}),[]);return onSelectedRangeChange?Object(jsx_runtime.jsx)(LabelledGroup.a,{label:label,children:null!=valueType&&"date"===valueType?Object(jsx_runtime.jsx)(NumberAndDateRangeInputs.a,{rangeBounds:selectedRangeBounds,range:selectedRange,onRangeChange:onSelectedRangeChange,allowPartialRange:!1,showClearButton:showClearButton,containerStyles:containerStyles,validator:validator}):Object(jsx_runtime.jsx)(NumberAndDateRangeInputs.b,{rangeBounds:selectedRangeBounds,range:selectedRange,onRangeChange:onSelectedRangeChange,allowPartialRange:!1,showClearButton:showClearButton,containerStyles:containerStyles,validator:validator})}):null}try{SelectedRangeControl.displayName="SelectedRangeControl",SelectedRangeControl.__docgenInfo={description:"",displayName:"SelectedRangeControl",props:{label:{defaultValue:null,description:"Label for this control component, optional",name:"label",required:!1,type:{name:"string"}},selectedRange:{defaultValue:null,description:"A range to highlight by means of opacity. Optional",name:"selectedRange",required:!1,type:{name:"NumberOrDateRange"}},onSelectedRangeChange:{defaultValue:null,description:"function to call upon selecting a range (in independent axis). Optional",name:"onSelectedRangeChange",required:!1,type:{name:"((newRange?: NumberOrDateRange) => void)"}},selectedRangeBounds:{defaultValue:null,description:"Min and max allowed values for the selected range. Used to auto-fill start or end. Optional",name:"selectedRangeBounds",required:!1,type:{name:"NumberOrDateRange"}},enforceBounds:{defaultValue:{value:"false"},description:"Do we enforce the range bounds? Default is false",name:"enforceBounds",required:!1,type:{name:"boolean"}},showClearButton:{defaultValue:{value:"true"},description:"show a clear button, optional, default is true",name:"showClearButton",required:!1,type:{name:"boolean"}},valueType:{defaultValue:null,description:"Type of variable 'number' or 'date'",name:"valueType",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},containerStyles:{defaultValue:null,description:"Additional styles for component's container. Optional",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/SelectedRangeControl.tsx#SelectedRangeControl"]={docgenInfo:SelectedRangeControl.__docgenInfo,name:"SelectedRangeControl",path:"src/components/plotControls/SelectedRangeControl.tsx#SelectedRangeControl"})}catch(__react_docgen_typescript_loader_error){}var Slider=__webpack_require__(164),Typography=__webpack_require__(200),Select=__webpack_require__(2795),colors=__webpack_require__(36),MenuItem=__webpack_require__(2801);function BinWidthControl(_ref){var _ref$label=_ref.label,label=void 0===_ref$label?"Bin width":_ref$label,valueType=_ref.valueType,binWidth=_ref.binWidth,binUnit=_ref.binUnit,binUnitOptions=_ref.binUnitOptions,onBinWidthChange=_ref.onBinWidthChange,binWidthRange=_ref.binWidthRange,binWidthStep=_ref.binWidthStep,containerStyles=_ref.containerStyles,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,unit=null!=valueType&&"date"===valueType?binWidth.unit:void 0;return onBinWidthChange?Object(jsx_runtime.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},containerStyles),children:[Object(jsx_runtime.jsx)(Typography.a,{variant:"button",style:{color:disabled?colors.k:colors.a,fontWeight:400,paddingRight:15,whiteSpace:"nowrap"},children:label}),binUnitOptions&&Object(jsx_runtime.jsx)(Select.a,{style:{marginRight:"1em"},value:binUnit,onChange:function onChange(event){var value=null!=valueType&&"date"===valueType?binWidth.value:binWidth,unit=String(event.target.value);onBinWidthChange({value:value,unit:unit})},disabled:disabled,children:binUnitOptions.map((function(option){return Object(jsx_runtime.jsx)(MenuItem.a,{value:option,children:option})}))}),Object(jsx_runtime.jsx)(Slider.a,{minimum:null==binWidthRange?void 0:binWidthRange.min,maximum:null==binWidthRange?void 0:binWidthRange.max,showTextInput:!0,step:binWidthStep,value:binWidth?"number"==typeof binWidth?binWidth:binWidth.value:void 0,debounceRateMs:250,onChange:function onChange(newValue){onBinWidthChange(null!=valueType&&"date"===valueType?{value:newValue,unit:unit}:newValue)},containerStyles:containerStyles,showLimits:!0,disabled:disabled})]}):null}try{BinWidthControl.displayName="BinWidthControl",BinWidthControl.__docgenInfo={description:"",displayName:"BinWidthControl",props:{label:{defaultValue:{value:"Bin width"},description:"Label for this control component, optional, default = 'Bin width'",name:"label",required:!1,type:{name:"string"}},binWidth:{defaultValue:null,description:"The current binWidth",name:"binWidth",required:!1,type:{name:"NumberOrTimeDelta"}},binUnit:{defaultValue:null,description:"The current binUnit",name:"binUnit",required:!1,type:{name:"string"}},binUnitOptions:{defaultValue:null,description:"The available binUnits",name:"binUnitOptions",required:!1,type:{name:"string[]"}},onBinWidthChange:{defaultValue:null,description:"Function to invoke when bin width changes.",name:"onBinWidthChange",required:!1,type:{name:"((newBinWidth: NumberOrTimeDelta) => void)"}},binWidthRange:{defaultValue:null,description:"the allowed range of binWidths. Optional",name:"binWidthRange",required:!1,type:{name:"NumberOrTimeDeltaRange"}},binWidthStep:{defaultValue:null,description:"The step to take when adjusting binWidth. Optional. Downstream defaults to 1.",name:"binWidthStep",required:!1,type:{name:"number"}},disabled:{defaultValue:{value:"false"},description:"Is the widget disabled (grayed out and inoperable)?  Default is false",name:"disabled",required:!1,type:{name:"boolean"}},valueType:{defaultValue:null,description:"Type of variable 'number' or 'date'",name:"valueType",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},containerStyles:{defaultValue:null,description:"Additional styles for component's container. Optional",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/BinWidthControl.tsx#BinWidthControl"]={docgenInfo:BinWidthControl.__docgenInfo,name:"BinWidthControl",path:"src/components/plotControls/BinWidthControl.tsx#BinWidthControl"})}catch(__react_docgen_typescript_loader_error){}var AxisRangeControl=__webpack_require__(221),Button=__webpack_require__(311),ButtonGroup=__webpack_require__(278),Notification=__webpack_require__(306),OpacitySlider=__webpack_require__(348),OrientationToggle=__webpack_require__(500),dist=__webpack_require__(167),definitions_colors=__webpack_require__(54);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function HistogramControls(_ref){var label=_ref.label,binWidth=_ref.binWidth,binWidthStep=_ref.binWidthStep,binWidthRange=_ref.binWidthRange,onBinWidthChange=_ref.onBinWidthChange,displayLegend=_ref.displayLegend,toggleDisplayLegend=_ref.toggleDisplayLegend,displayLibraryControls=_ref.displayLibraryControls,toggleLibraryControls=_ref.toggleLibraryControls,barLayout=_ref.barLayout,onBarLayoutChange=_ref.onBarLayoutChange,opacity=_ref.opacity,onOpacityChange=_ref.onOpacityChange,orientation=_ref.orientation,toggleOrientation=_ref.toggleOrientation,valueType=_ref.valueType,availableUnits=_ref.availableUnits,selectedUnit=_ref.selectedUnit,onSelectedUnitChange=_ref.onSelectedUnitChange,selectedRange=_ref.selectedRange,onSelectedRangeChange=_ref.onSelectedRangeChange,selectedRangeBounds=_ref.selectedRangeBounds,dependentAxisLogScale=_ref.dependentAxisLogScale,toggleDependentAxisLogScale=_ref.toggleDependentAxisLogScale,dependentAxisRange=_ref.dependentAxisRange,onDependentAxisRangeChange=_ref.onDependentAxisRangeChange,dependentAxisMode=_ref.dependentAxisMode,onDependentAxisModeChange=_ref.onDependentAxisModeChange,onDependentAxisSettingsReset=_ref.onDependentAxisSettingsReset,independentAxisRange=_ref.independentAxisRange,onIndependentAxisRangeChange=_ref.onIndependentAxisRangeChange,onIndependentAxisSettingsReset=_ref.onIndependentAxisSettingsReset,onResetAll=_ref.onResetAll,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_ref$accentColor=_ref.accentColor,accentColor=void 0===_ref$accentColor?{hue:definitions_colors.blue,level:400}:_ref$accentColor,errorManagement=_ref.errorManagement,accentColorStr=accentColor.hue[accentColor.level],_useDimensions=Object(index_esm.a)(),ref=_useDimensions.ref,width=_useDimensions.width,errorStacks=Object(react.useMemo)((function(){return null==errorManagement?[]:errorManagement.errors.reduce((function(accumulatedValue,currentValue){var existingErrorStack=accumulatedValue.find((function(stack){return stack.error.message===currentValue.message}));return existingErrorStack?(existingErrorStack.occurences++,_toConsumableArray(accumulatedValue)):[].concat(_toConsumableArray(accumulatedValue),[{error:currentValue,occurences:1}])}),[])}),[null==errorManagement?void 0:errorManagement.errors]);return Object(jsx_runtime.jsxs)("div",{ref:ref,style:Object.assign({borderStyle:"solid",borderWidth:"0em",borderColor:"#cccccc",borderRadius:"0.6125em",padding:"0.9375em",minWidth:"11em"},containerStyles),children:[Object(jsx_runtime.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(max-content, 100px))",marginRight:"2.1875em",columnGap:"1.5625em",rowGap:"0.9375em"},children:[orientation&&toggleOrientation&&Object(jsx_runtime.jsx)(OrientationToggle.a,{orientation:orientation,onOrientationChange:toggleOrientation}),barLayout&&onBarLayoutChange&&Object(jsx_runtime.jsx)(ButtonGroup.a,{label:"Bar Layout",options:["overlay","stack"],selectedOption:barLayout,onOptionSelected:onBarLayoutChange,containerStyles:{paddingRight:"1.5625em"}}),Object(jsx_runtime.jsx)(SelectedRangeControl,{valueType:valueType,selectedRangeBounds:selectedRangeBounds,selectedRange:selectedRange,onSelectedRangeChange:onSelectedRangeChange})]}),Object(jsx_runtime.jsx)("div",{style:{display:"grid",gridTemplateColumns:width>500?"2fr 2fr 1fr":width>300?"1fr 1fr":"1fr",columnGap:"1.5625em",rowGap:"0.3125em"},children:null!=opacity&&onOpacityChange&&Object(jsx_runtime.jsx)(OpacitySlider.a,{value:opacity,onValueChange:onOpacityChange,color:accentColorStr})}),Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",paddingTop:"0.3125em"},children:[null!=displayLegend&&toggleDisplayLegend&&Object(jsx_runtime.jsx)(dist.Toggle,{label:"Legend",value:displayLegend,onChange:toggleDisplayLegend,styleOverrides:{container:{paddingRight:"1.5625em"},mainColor:accentColor}}),null!=displayLibraryControls&&toggleLibraryControls&&Object(jsx_runtime.jsx)(dist.Toggle,{label:"Plot.ly Controls",value:displayLibraryControls,onChange:toggleLibraryControls,styleOverrides:{container:{paddingRight:"1.5625em"},mainColor:accentColor}})]}),Object(jsx_runtime.jsxs)(LabelledGroup.a,{label:"Y-axis",containerStyles:{},children:[toggleDependentAxisLogScale&&null!=dependentAxisLogScale&&Object(jsx_runtime.jsx)(dist.Toggle,{label:"Log scale "+(dependentAxisLogScale?"on":"off"),value:dependentAxisLogScale,onChange:toggleDependentAxisLogScale,styleOverrides:{container:{paddingBottom:"0.3125em"},mainColor:accentColor}}),onDependentAxisRangeChange&&Object(jsx_runtime.jsx)(NumberAndDateRangeInputs.b,{label:"Range:",range:dependentAxisRange,onRangeChange:function onRangeChange(newRange){onDependentAxisRangeChange(newRange)},allowPartialRange:!1}),dependentAxisMode&&onDependentAxisModeChange&&Object(jsx_runtime.jsx)(ButtonGroup.a,{label:"Absolute/Relative:",options:["absolute","relative"],selectedOption:dependentAxisMode,onOptionSelected:onDependentAxisModeChange}),onDependentAxisSettingsReset&&Object(jsx_runtime.jsx)(Button.a,{type:"solid",text:"Reset to defaults",onClick:onDependentAxisSettingsReset,containerStyles:{paddingTop:"1.0em",width:"100%"}})]}),Object(jsx_runtime.jsxs)(LabelledGroup.a,{label:"X-axis",containerStyles:{},children:[availableUnits&&(null==availableUnits?void 0:availableUnits.length)>0&&selectedUnit&&onSelectedUnitChange&&Object(jsx_runtime.jsx)(ButtonGroup.a,{label:"Data Units",options:availableUnits,selectedOption:selectedUnit,onOptionSelected:onSelectedUnitChange,containerStyles:{paddingBottom:"0.9375em"}}),Object(jsx_runtime.jsx)(BinWidthControl,{binWidth:binWidth,binWidthStep:binWidthStep,binWidthRange:binWidthRange,onBinWidthChange:onBinWidthChange,valueType:valueType}),Object(jsx_runtime.jsx)(AxisRangeControl.a,{label:"Range:",range:independentAxisRange,onRangeChange:onIndependentAxisRangeChange,valueType:valueType}),onIndependentAxisSettingsReset&&Object(jsx_runtime.jsx)(Button.a,{type:"solid",text:"Reset to defaults",onClick:onIndependentAxisSettingsReset,containerStyles:{paddingTop:"1.0em",width:"100%"}})]}),onResetAll&&Object(jsx_runtime.jsx)(Button.a,{type:"solid",text:"Reset All",onClick:onResetAll,containerStyles:{paddingTop:"1.5625em",width:"8.125em"}}),errorStacks.map((function(_ref2,index){var error=_ref2.error,occurences=_ref2.occurences;return Object(jsx_runtime.jsx)(Notification.a,{title:"Error",text:error.message,color:accentColorStr,occurences:occurences,containerStyles:{marginTop:"0.625em"},onAcknowledgement:function onAcknowledgement(){return null==errorManagement?void 0:errorManagement.removeError(error)}},index)})),label&&Object(jsx_runtime.jsx)(ControlsHeader.a,{text:label,styleOverrides:{paddingTop:"1.5625em",textAlign:"right"}})]})}HistogramControls.displayName="HistogramControls";try{HistogramControls.displayName="HistogramControls",HistogramControls.__docgenInfo={description:"A histogram controls panel.\n\nIf you prefer a different layout or composition, you can\ncontruct you own control panel by using the various\nwidgets contained here.",displayName:"HistogramControls",props:{label:{defaultValue:null,description:"Label for control panel. Optional.",name:"label",required:!1,type:{name:"string"}},barLayout:{defaultValue:null,description:"Currently selected bar layout. Optional",name:"barLayout",required:!1,type:{name:"string"}},onBarLayoutChange:{defaultValue:null,description:"Function to invoke when barlayout changes.",name:"onBarLayoutChange",required:!1,type:{name:'((layout: "overlay" | "stack") => void)'}},displayLegend:{defaultValue:null,description:"Whether or not to display the plot legend.",name:"displayLegend",required:!1,type:{name:"boolean"}},toggleDisplayLegend:{defaultValue:null,description:"Action to take on display legend change.",name:"toggleDisplayLegend",required:!1,type:{name:"((displayLegend: boolean) => void)"}},displayLibraryControls:{defaultValue:null,description:"Whether or not to display the additionally controls that\nmay be provided by the charting library used to generate the plot.\nFor example, Plot.ly controls.",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},toggleLibraryControls:{defaultValue:null,description:"Action to take on display library controls change.",name:"toggleLibraryControls",required:!1,type:{name:"((displayLegend: boolean) => void)"}},opacity:{defaultValue:null,description:"Current histogram opacity.",name:"opacity",required:!1,type:{name:"number"}},onOpacityChange:{defaultValue:null,description:"Function to invoke when opacity changes.",name:"onOpacityChange",required:!1,type:{name:"((opacity: number) => void)"}},orientation:{defaultValue:null,description:"The current orientation of the plot.",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},toggleOrientation:{defaultValue:null,description:"Function to invoke when orientation changes.",name:"toggleOrientation",required:!1,type:{name:"((orientation: string) => void)"}},valueType:{defaultValue:null,description:"Type of x-variable 'number' or 'date'",name:"valueType",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},availableUnits:{defaultValue:null,description:"Available unit options by which to bin data.",name:"availableUnits",required:!1,type:{name:"string[]"}},selectedUnit:{defaultValue:null,description:"The currently selected binWidth unit.",name:"selectedUnit",required:!1,type:{name:"string"}},onSelectedUnitChange:{defaultValue:null,description:"Function to invoke when the selected bin unit changes.",name:"onSelectedUnitChange",required:!1,type:{name:"((unit: string) => void)"}},binWidth:{defaultValue:null,description:"The current binWidth",name:"binWidth",required:!1,type:{name:"NumberOrTimeDelta"}},onBinWidthChange:{defaultValue:null,description:"Function to invoke when bin width changes.",name:"onBinWidthChange",required:!1,type:{name:"((newBinWidth: NumberOrTimeDelta) => void)"}},binWidthRange:{defaultValue:null,description:"The acceptable range of binWidthValues.",name:"binWidthRange",required:!1,type:{name:"NumberOrTimeDeltaRange"}},binWidthStep:{defaultValue:null,description:"The step to take when adjusting binWidth",name:"binWidthStep",required:!1,type:{name:"number"}},selectedRange:{defaultValue:null,description:"A range to highlight by means of opacity. Optional",name:"selectedRange",required:!1,type:{name:"NumberOrDateRange"}},onSelectedRangeChange:{defaultValue:null,description:"function to call upon selecting a range (in independent axis). Optional",name:"onSelectedRangeChange",required:!1,type:{name:"((newRange?: NumberOrDateRange) => void)"}},selectedRangeBounds:{defaultValue:null,description:"Min and max allowed values for the selected range. Optional",name:"selectedRangeBounds",required:!1,type:{name:"NumberOrDateRange"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles for controls container. Optional",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},accentColor:{defaultValue:{value:"{ hue: blue, level: 400 }"},description:"Color to use as an accent in the control panel.",name:"accentColor",required:!1,type:{name:"ColorDescriptor"}},errorManagement:{defaultValue:null,description:"Attributes and methdods for error management.",name:"errorManagement",required:!1,type:{name:"ErrorManagement"}},dependentAxisLogScale:{defaultValue:null,description:"Whether or not to show y-axis log scale.",name:"dependentAxisLogScale",required:!1,type:{name:"boolean"}},toggleDependentAxisLogScale:{defaultValue:null,description:"Action to take on y-axis log scale change.",name:"toggleDependentAxisLogScale",required:!1,type:{name:"((dependentAxisLogScale: boolean) => void)"}},dependentAxisRange:{defaultValue:null,description:"Whether or not to set y-axis min/max range.",name:"dependentAxisRange",required:!1,type:{name:"NumberRange"}},onDependentAxisRangeChange:{defaultValue:null,description:"Action to take on y-axis min/max range change.",name:"onDependentAxisRangeChange",required:!1,type:{name:"((newRange?: NumberRange) => void)"}},dependentAxisMode:{defaultValue:null,description:"Whether or not to display y-axis absolute Relative.",name:"dependentAxisMode",required:!1,type:{name:"enum",value:[{value:'"relative"'},{value:'"absolute"'}]}},onDependentAxisModeChange:{defaultValue:null,description:"Action to take on display legend change.",name:"onDependentAxisModeChange",required:!1,type:{name:'((newMode: "relative" | "absolute") => void)'}},onDependentAxisSettingsReset:{defaultValue:null,description:"Action to reset dependent axis range.",name:"onDependentAxisSettingsReset",required:!1,type:{name:"(() => void)"}},independentAxisRange:{defaultValue:null,description:"Whether or not to set x-axis min/max range.",name:"independentAxisRange",required:!1,type:{name:"NumberOrDateRange"}},onIndependentAxisRangeChange:{defaultValue:null,description:"Action to take on x-axis min/max range change.",name:"onIndependentAxisRangeChange",required:!1,type:{name:"((newRange?: NumberOrDateRange) => void)"}},onIndependentAxisSettingsReset:{defaultValue:null,description:"Action to reset independent axis range.",name:"onIndependentAxisSettingsReset",required:!1,type:{name:"(() => void)"}},onResetAll:{defaultValue:null,description:"Action to Reset all to defaults.",name:"onResetAll",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/plotControls/HistogramControls.tsx#HistogramControls"]={docgenInfo:HistogramControls.__docgenInfo,name:"HistogramControls",path:"src/components/plotControls/HistogramControls.tsx#HistogramControls"})}catch(__react_docgen_typescript_loader_error){}},302:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BoundsDriftMarker}));__webpack_require__(144),__webpack_require__(150),__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react_leaflet__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1332),react_leaflet__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1331),react_leaflet__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2717),react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(0),react_leaflet_drift_marker__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1320),react_leaflet_drift_marker__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(react_leaflet_drift_marker__WEBPACK_IMPORTED_MODULE_18__),leaflet__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(49),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function BoundsDriftMarker(_ref){var position=_ref.position,bounds=_ref.bounds,icon=_ref.icon,duration=_ref.duration,showPopup=_ref.showPopup,popupContent=_ref.popupContent,popupClass=_ref.popupClass,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_17__.useState)(!1),2),displayBounds=_useState2[0],setDisplayBounds=_useState2[1],map=Object(react_leaflet__WEBPACK_IMPORTED_MODULE_14__.a)(),boundingBox=new leaflet__WEBPACK_IMPORTED_MODULE_19__.LatLngBounds([[bounds.southWest.lat,bounds.southWest.lng],[bounds.northEast.lat,bounds.northEast.lng]]),markerRef=Object(react__WEBPACK_IMPORTED_MODULE_17__.useRef)(),popupRef=Object(react__WEBPACK_IMPORTED_MODULE_17__.useRef)(),popupOrientationRef=Object(react__WEBPACK_IMPORTED_MODULE_17__.useRef)("up"),orientPopup=function orientPopup(orientation){if(popupRef.current){var popupDOMNode=popupRef.current._container;if(popupDOMNode){popupDOMNode.classList.remove("popup-up","popup-down","popup-left","popup-right");var angle={up:0,right:90,down:180,left:-90}[orientation];popupDOMNode.style.transform.includes("rotate")||(popupDOMNode.style.transform+=" rotate("+angle+"deg)"),popupDOMNode.classList.add("popup-"+orientation)}}},observer=new MutationObserver((function(mutationRecord){mutationRecord[0].target.style.transform.includes("rotate")||orientPopup(popupOrientationRef.current)})),handlePopupOpen=function handlePopupOpen(){!function updatePopupOrientationRef(){if(popupContent&&map){var mapRect=map.getContainer().getBoundingClientRect(),markerRect=markerRef.current._icon.getBoundingClientRect(),markerCenterX=(markerRect.left+markerRect.right)/2;markerRect.top-mapRect.top<popupContent.size.height?popupOrientationRef.current="down":markerCenterX-mapRect.left<popupContent.size.width/2?popupOrientationRef.current="right":mapRect.right-markerCenterX<popupContent.size.width/2?popupOrientationRef.current="left":popupOrientationRef.current="up"}}(),orientPopup(popupOrientationRef.current);var popupDOMNode=popupRef.current._container;observer.observe(popupDOMNode,{attributeFilter:["style"]})},popup=popupContent&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_15__.a,{ref:popupRef,className:"plot-marker-popup"+(popupClass?" "+popupClass:""),minWidth:popupContent.size.width,maxWidth:popupContent.size.width,maxHeight:popupContent.size.height,autoPan:!1,closeButton:!1,onOpen:function onOpen(){return handlePopupOpen()},onClose:function onClose(){return function handlePopupClose(){observer.disconnect(),orientPopup(popupOrientationRef.current)}()},children:popupContent.content}),optionalIconProp=icon?{icon:icon}:{};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_leaflet_drift_marker__WEBPACK_IMPORTED_MODULE_18___default.a,Object.assign({ref:markerRef,duration:duration,position:position,eventHandlers:{click:function click(e){return function handleClick(e){orientPopup(popupOrientationRef.current),e.target.closePopup()}(e)},mouseover:function mouseover(e){return function handleMouseOver(e){e.target._icon.classList.add("top-marker"),showPopup&&popupContent?e.target.openPopup():setDisplayBounds(!0)}(e)},mouseout:function mouseout(e){return function handleMouseOut(e){e.target._icon.classList.remove("top-marker"),showPopup&&popupContent?e.target.closePopup():setDisplayBounds(!1)}(e)},dblclick:function handleDoubleClick(){map&&map.fitBounds(boundingBox)}}},optionalIconProp,{children:[displayBounds?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.a,{bounds:boundingBox,color:"gray",weight:1}):null,showPopup&&popup]}))}BoundsDriftMarker.displayName="BoundsDriftMarker";try{BoundsDriftMarker.displayName="BoundsDriftMarker",BoundsDriftMarker.__docgenInfo={description:"",displayName:"BoundsDriftMarker",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},duration:{defaultValue:null,description:"",name:"duration",required:!0,type:{name:"number"}},popupClass:{defaultValue:null,description:"",name:"popupClass",required:!1,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"LatLngLiteral"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"Icon<IconOptions>"}},showPopup:{defaultValue:null,description:"",name:"showPopup",required:!1,type:{name:"boolean"}},popupContent:{defaultValue:null,description:"",name:"popupContent",required:!1,type:{name:"{ content: ReactElement<any, string | JSXElementConstructor<any>>; size: { width: number; height: number; }; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/BoundsDriftMarker.tsx#BoundsDriftMarker"]={docgenInfo:BoundsDriftMarker.__docgenInfo,name:"BoundsDriftMarker",path:"src/map/BoundsDriftMarker.tsx#BoundsDriftMarker"})}catch(__react_docgen_typescript_loader_error){}},306:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Notification}));__webpack_require__(10),__webpack_require__(0);var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(200),_constants_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(36),_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(311),_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1326),_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_5__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1);function Notification(_ref){var title=_ref.title,text=_ref.text,onAcknowledgement=_ref.onAcknowledgement,occurences=_ref.occurences,_ref$color=_ref.color,color=void 0===_ref$color?_constants_colors__WEBPACK_IMPORTED_MODULE_3__.f:_ref$color,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_ref$showWarningIcon=_ref.showWarningIcon,showWarningIcon=void 0!==_ref$showWarningIcon&&_ref$showWarningIcon;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"column",backgroundColor:color,borderRadius:10,padding:10},containerStyles),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__.a,{variant:"button",style:{color:"white"},children:title}),null!=occurences?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{style:{backgroundColor:"white",borderRadius:5,height:20,width:20,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{style:{color:color,fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontSize:11},children:occurences})}):null]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[showWarningIcon&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_5___default.a,{style:{color:"yellow",width:"1.25em",height:"1.25em"}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{style:{padding:"0px 10px",color:"white",fontSize:13,flexGrow:2,lineHeight:"1.1em"},children:text}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{text:"Ok",type:"outlined",color:"#FFFFFF",onClick:onAcknowledgement})]})]})}Notification.displayName="Notification";try{Notification.displayName="Notification",Notification.__docgenInfo={description:"A notification widget to alert the user to some event.",displayName:"Notification",props:{title:{defaultValue:null,description:"The title of the notificatin.",name:"title",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"Text of the notification.",name:"text",required:!0,type:{name:"string"}},onAcknowledgement:{defaultValue:null,description:"Function to invoke when notification is acknowledged.",name:"onAcknowledgement",required:!0,type:{name:"() => void"}},occurences:{defaultValue:null,description:"Number of times this notification has been received.\nIf not provided, no occurrence count is shown.",name:"occurences",required:!1,type:{name:"number"}},color:{defaultValue:{value:"#40A853"},description:"Background color for notification. Any acceptable CSS color definition.\nDefaults to LIGHT_GREEN.",name:"color",required:!1,type:{name:"string"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to the component's outer div.\nCan also be used to override existing styles on the div.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},showWarningIcon:{defaultValue:{value:"false"},description:"add showWarningIcon to show warning icon",name:"showWarningIcon",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/Notification.tsx#Notification"]={docgenInfo:Notification.__docgenInfo,name:"Notification",path:"src/components/widgets/Notification.tsx#Notification"})}catch(__react_docgen_typescript_loader_error){}},309:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(25),__webpack_require__(449),__webpack_require__(9),__webpack_require__(387),__webpack_require__(388),__webpack_require__(10),__webpack_require__(338),__webpack_require__(40),__webpack_require__(152),__webpack_require__(7);var react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0),_types_plots__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(93),_PlotlyPlot__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(105),lodash__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(17),_utils_axis_tick_label_ellipsis__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(409),_utils_extended_axis_range_truncations__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(186),_utils_truncation_layout_shapes__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(239),_utils_tick_settings__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(245);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var EmptyBarplotData={series:[]},Barplot=Object(_PlotlyPlot__WEBPACK_IMPORTED_MODULE_12__.d)("BarPlot",(function(_ref){var _ref$data=_ref.data,data=void 0===_ref$data?EmptyBarplotData:_ref$data,independentAxisLabel=_ref.independentAxisLabel,dependentAxisLabel=_ref.dependentAxisLabel,_ref$showValues=_ref.showValues,showValues=void 0!==_ref$showValues&&_ref$showValues,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?_types_plots__WEBPACK_IMPORTED_MODULE_11__.OrientationDefault:_ref$orientation,_ref$opacity=_ref.opacity,opacity=void 0===_ref$opacity?_types_plots__WEBPACK_IMPORTED_MODULE_11__.OpacityDefault:_ref$opacity,_ref$barLayout=_ref.barLayout,barLayout=void 0===_ref$barLayout?"group":_ref$barLayout,_ref$showIndependentA=_ref.showIndependentAxisTickLabel,showIndependentAxisTickLabel=void 0===_ref$showIndependentA||_ref$showIndependentA,_ref$showDependentAxi=_ref.showDependentAxisTickLabel,showDependentAxisTickLabel=void 0===_ref$showDependentAxi||_ref$showDependentAxi,_ref$dependentAxisLog=_ref.dependentAxisLogScale,dependentAxisLogScale=void 0===_ref$dependentAxisLog?_types_plots__WEBPACK_IMPORTED_MODULE_11__.DependentAxisLogScaleDefault:_ref$dependentAxisLog,dependentAxisRange=_ref.dependentAxisRange,axisTruncationConfig=_ref.axisTruncationConfig,restProps=_objectWithoutProperties(_ref,["data","independentAxisLabel","dependentAxisLabel","showValues","orientation","opacity","barLayout","showIndependentAxisTickLabel","showDependentAxisTickLabel","dependentAxisLogScale","dependentAxisRange","axisTruncationConfig"]),categoryOrder=Object(react__WEBPACK_IMPORTED_MODULE_10__.useMemo)((function(){return Object(lodash__WEBPACK_IMPORTED_MODULE_13__.uniq)(Object(lodash__WEBPACK_IMPORTED_MODULE_13__.flatMap)(data.series,(function(d){return d.label})))}),[data]),categoryOrderEllipsis=Object(react__WEBPACK_IMPORTED_MODULE_10__.useMemo)((function(){return Object(_utils_axis_tick_label_ellipsis__WEBPACK_IMPORTED_MODULE_14__.a)(categoryOrder,20)}),[data,categoryOrder]),plotlyFriendlyData=Object(react__WEBPACK_IMPORTED_MODULE_10__.useMemo)((function(){return data.series.map((function(el){var calculatedOpacity="overlay"===barLayout&&data.series.length>1?opacity:1;return el.label&&el.value?{x:"vertical"===orientation?el.label.map((function(d){var foundIndexValue=categoryOrder.findIndex((function(element){return element===d}));return categoryOrderEllipsis[foundIndexValue]})):el.value,y:"vertical"===orientation?el.value:el.label.map((function(d){var findIndexValue=categoryOrder.findIndex((function(element){return element===d}));return categoryOrderEllipsis[findIndexValue]})),name:el.name,showlegend:!!el.name,orientation:"vertical"===orientation?"v":"h",opacity:calculatedOpacity,type:"bar",text:showValues?el.value:void 0,textposition:showValues?"auto":void 0,marker:{color:el.color,line:{width:el.borderColor?1:0,color:el.borderColor}},hovertemplate:el.value.map((function(value,index){return value+"<br />"+el.label[index]+"<br />"+el.name+"<extra></extra>"}))}:{}}))}),[data,barLayout,orientation,showValues,opacity]),dataLooksFractional=Object(react__WEBPACK_IMPORTED_MODULE_10__.useMemo)((function(){return Object(lodash__WEBPACK_IMPORTED_MODULE_13__.some)(data.series.flatMap((function(series){return series.value})),(function(val){return val>0&&val<1}))}),[data.series]),independentAxisLayout={automargin:!0,showgrid:!1,zeroline:!1,showline:dependentAxisLogScale||dataLooksFractional,title:{text:independentAxisLabel||""},range:data.series.length?void 0:[0,10],tickfont:data.series.length?{}:{color:"transparent"},showticklabels:showIndependentAxisTickLabel},standardDependentAxisRange=dependentAxisRange,extendedDependentAxisRange=Object(_utils_extended_axis_range_truncations__WEBPACK_IMPORTED_MODULE_15__.a)(standardDependentAxisRange,null==axisTruncationConfig?void 0:axisTruncationConfig.dependentAxis,"number",!1,dependentAxisLogScale),truncatedAxisHighlighting=Object(react__WEBPACK_IMPORTED_MODULE_10__.useMemo)((function(){return data.series.length>0?Object(_utils_truncation_layout_shapes__WEBPACK_IMPORTED_MODULE_16__.a)(orientation,void 0,standardDependentAxisRange,void 0,extendedDependentAxisRange,axisTruncationConfig):[]}),[standardDependentAxisRange,extendedDependentAxisRange,orientation,data.series,axisTruncationConfig]),dependentAxisLayout=Object.assign({automargin:!0,hoverformat:dependentAxisLogScale?dataLooksFractional?",.4f":",.0f":void 0,type:dependentAxisLogScale?"log":"linear",title:{text:dependentAxisLabel||""},tickfont:data.series.length?{}:{color:"transparent"},range:data.series.length?[null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.min,null==extendedDependentAxisRange?void 0:extendedDependentAxisRange.max].map((function(val){return dependentAxisLogScale&&null!=val?Math.log10(val):val})):[0,10],showticklabels:showDependentAxisTickLabel},Object(_utils_tick_settings__WEBPACK_IMPORTED_MODULE_17__.a)(dependentAxisLogScale,extendedDependentAxisRange,"number")),layout={xaxis:"vertical"===orientation?independentAxisLayout:dependentAxisLayout,yaxis:"vertical"===orientation?dependentAxisLayout:independentAxisLayout,barmode:barLayout,hovermode:"closest",shapes:truncatedAxisHighlighting};return Object.assign({data:plotlyFriendlyData,layout:layout,storedIndependentAxisTickLabel:categoryOrder},restProps)}));__webpack_exports__.a=Barplot;try{Barplot.displayName="Barplot",Barplot.__docgenInfo={description:"A Plotly-based Barplot component.",displayName:"Barplot",props:{independentAxisLabel:{defaultValue:null,description:"Label for independent axis. e.g. 'Country'",name:"independentAxisLabel",required:!1,type:{name:"string"}},dependentAxisLabel:{defaultValue:null,description:"Label for dependent axis. Defaults to 'Count'",name:"dependentAxisLabel",required:!1,type:{name:"string"}},showValues:{defaultValue:null,description:"Show value for each bar",name:"showValues",required:!1,type:{name:"boolean"}},showIndependentAxisTickLabel:{defaultValue:null,description:"show/hide independent axis tick label, default is true",name:"showIndependentAxisTickLabel",required:!1,type:{name:"boolean"}},showDependentAxisTickLabel:{defaultValue:null,description:"show/hide dependent axis tick label, default is true",name:"showDependentAxisTickLabel",required:!1,type:{name:"boolean"}},dependentAxisRange:{defaultValue:null,description:"dependent axis range: required for showing ticks and their labels properly for log scale",name:"dependentAxisRange",required:!1,type:{name:"NumberRange"}},data:{defaultValue:null,description:"plot data - following web-components' API, not Plotly's",name:"data",required:!1,type:{name:"BarplotData"}},title:{defaultValue:null,description:"Title of plot.",name:"title",required:!1,type:{name:"string"}},displayLegend:{defaultValue:null,description:"Should plot legend be displayed? Default is yes",name:"displayLegend",required:!1,type:{name:"boolean"}},containerStyles:{defaultValue:null,description:"CSS styles for enclosing div\nDefault is { width: '100%', height: '400px' }",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},containerClass:{defaultValue:null,description:"class name for enclosing div. Default is web-components-plot",name:"containerClass",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"Enables mouse-overs and interaction if true. Default false.",name:"interactive",required:!1,type:{name:"boolean"}},displayLibraryControls:{defaultValue:null,description:"show Plotly's mode bar (only shows if interactive == true)",name:"displayLibraryControls",required:!1,type:{name:"boolean"}},showSpinner:{defaultValue:null,description:"show a loading... spinner in the middle of the container div",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:"Show an overlay with the words 'No Data'",name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},legendOptions:{defaultValue:null,description:"Options for customizing plot legend layout and appearance.",name:"legendOptions",required:!1,type:{name:"PlotLegendAddon"}},legendTitle:{defaultValue:null,description:"legend title",name:"legendTitle",required:!1,type:{name:"string"}},spacingOptions:{defaultValue:null,description:"Options for customizing plot placement.",name:"spacingOptions",required:!1,type:{name:"PlotSpacingAddon"}},maxLegendTextLength:{defaultValue:null,description:"maximum number of characters for legend ellipsis",name:"maxLegendTextLength",required:!1,type:{name:"number"}},storedIndependentAxisTickLabel:{defaultValue:null,description:"original independent axis tick labels as data is changed at each component (barplot and boxplot)",name:"storedIndependentAxisTickLabel",required:!1,type:{name:"string[]"}},checkedLegendItems:{defaultValue:null,description:"list of checked legend items via checkbox input",name:"checkedLegendItems",required:!1,type:{name:"string[]"}},onPlotlyRender:{defaultValue:null,description:"A function to call each time after plotly renders the plot",name:"onPlotlyRender",required:!1,type:{name:"((figure: Readonly<Figure>, graphDiv: Readonly<HTMLElement>) => void)"}},colorPalette:{defaultValue:null,description:"",name:"colorPalette",required:!1,type:{name:"string[]"}},barLayout:{defaultValue:null,description:"How bars are displayed when there are multiple series.",name:"barLayout",required:!1,type:{name:"enum",value:[{value:'"overlay"'},{value:'"stack"'},{value:'"group"'}]}},orientation:{defaultValue:null,description:"Orientation of plot - default is vertical (e.g. independent axis at bottom)",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},opacity:{defaultValue:null,description:"Opacity of markers that require opacity (e.g. outliers, overlaid bars).\nNumber 0 to 1 (default 0.5)",name:"opacity",required:!1,type:{name:"number"}},dependentAxisLogScale:{defaultValue:null,description:"Use a log scale for dependent axis. Default is false",name:"dependentAxisLogScale",required:!1,type:{name:"boolean"}},axisTruncationConfig:{defaultValue:null,description:"truncation config (flags) to show truncated axis (true) or not (false)",name:"axisTruncationConfig",required:!1,type:{name:"AxisTruncationConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plots/Barplot.tsx#Barplot"]={docgenInfo:Barplot.__docgenInfo,name:"Barplot",path:"src/plots/Barplot.tsx#Barplot"})}catch(__react_docgen_typescript_loader_error){}},311:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Button}));__webpack_require__(10),__webpack_require__(0);var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(855),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2722),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2723),_constants_colors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1);function Button(_ref){var type=_ref.type,text=_ref.text,onClick=_ref.onClick,_ref$color=_ref.color,color=void 0===_ref$color?_constants_colors__WEBPACK_IMPORTED_MODULE_5__.d:_ref$color,textColor=_ref.textColor,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,theme=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__.a)({palette:{primary:{main:color}}});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{style:Object.assign({},containerStyles),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.a,{theme:theme,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_4__.a,{variant:"outlined"===type?"outlined":"contained",disableElevation:!0,style:{width:"100%",color:textColor||void 0,textTransform:"none"},color:"primary",onClick:onClick,disabled:disabled,children:text})})})}Button.displayName="Button";try{Button.displayName="Button",Button.__docgenInfo={description:"A simple button with a few customization options.",displayName:"Button",props:{type:{defaultValue:null,description:"Indicates if the button should be have a colored outline and\ntransparent center or have a solid fill color.",name:"type",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"outlined"'}]}},text:{defaultValue:null,description:"Text of the button",name:"text",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"Action to take when the button is clicked.",name:"onClick",required:!0,type:{name:"() => void"}},color:{defaultValue:{value:"#5586BE"},description:"Color to use for outline/fill. Will accept any\nvalid CSS color definition. Defaults to LIGHT_BLUE",name:"color",required:!1,type:{name:"string"}},textColor:{defaultValue:null,description:"Button text color. Defaults to LIGHT_BLUE if type is\n`outlined` or white if type is `solid`.",name:"textColor",required:!1,type:{name:"string"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to the widget container.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},disabled:{defaultValue:{value:"false"},description:"add disabled prop to disable button",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/Button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/widgets/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}},312:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return removeHtmlTags}));__webpack_require__(857),__webpack_require__(50),__webpack_require__(121),__webpack_require__(107);function removeHtmlTags(str){if(null===str||""===str)return str;var regexp=new RegExp("(?:</?b>|</?i>|<br\\s*/?>)","gi");return str.replace(regexp,"")}},344:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LabelledGroup}));__webpack_require__(10);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17),_material_ui_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(200),_constants_colors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1);function LabelledGroup(props){var children=props.children,label=props.label,containerStyles=props.containerStyles;return Object(lodash__WEBPACK_IMPORTED_MODULE_2__.every)(react__WEBPACK_IMPORTED_MODULE_1___default.a.Children.toArray(children),(function(child){return null==child}))?null:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:Object.assign({display:"inline-flex",borderStyle:"none",borderWidth:"0.125em",borderColor:"#cccccc",borderRadius:"0.2em",padding:"1em",marginRight:"1.5625em"},containerStyles),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.a,{variant:"button",style:{color:_constants_colors__WEBPACK_IMPORTED_MODULE_4__.a,fontWeight:500,fontSize:"1.2em"},children:label}),children]})})}LabelledGroup.displayName="LabelledGroup";try{LabelledGroup.displayName="LabelledGroup",LabelledGroup.__docgenInfo={description:"Renders a grey outlined box with a label in the top left of the outline/border\n\nBut renders nothing if no children are contained within it.",displayName:"LabelledGroup",props:{children:{defaultValue:null,description:"Contents of the menu when opened",name:"children",required:!0,type:{name:"ReactNode"}},label:{defaultValue:null,description:"Contents of button",name:"label",required:!0,type:{name:"ReactNode"}},containerStyles:{defaultValue:null,description:"Additional styles to apply to the widget container.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/LabelledGroup.tsx#LabelledGroup"]={docgenInfo:LabelledGroup.__docgenInfo,name:"LabelledGroup",path:"src/components/widgets/LabelledGroup.tsx#LabelledGroup"})}catch(__react_docgen_typescript_loader_error){}},348:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OpacitySlider}));__webpack_require__(0);var _constants_colors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36),_Slider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(164),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1);function OpacitySlider(_ref){var value=_ref.value,onValueChange=_ref.onValueChange,_ref$color=_ref.color,color=void 0===_ref$color?_constants_colors__WEBPACK_IMPORTED_MODULE_1__.f:_ref$color,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Slider__WEBPACK_IMPORTED_MODULE_2__.a,{label:"Opacity",minimum:0,maximum:1,step:.1,value:value,valueFormatter:function valueFormatter(value){return 100*value+"%"},onChange:onValueChange,colorSpec:{type:"gradient",tooltip:color,knobColor:color,trackGradientStart:_constants_colors__WEBPACK_IMPORTED_MODULE_1__.e,trackGradientEnd:color},containerStyles:containerStyles})}OpacitySlider.displayName="OpacitySlider";try{OpacitySlider.displayName="OpacitySlider",OpacitySlider.__docgenInfo={description:"Slider widget customized for showing/controlling opacity.",displayName:"OpacitySlider",props:{value:{defaultValue:null,description:"The current opacity value. Will be between 0 and 1.",name:"value",required:!0,type:{name:"number"}},onValueChange:{defaultValue:null,description:"Function to invoke when value changes.",name:"onValueChange",required:!0,type:{name:"(value: number) => void"}},color:{defaultValue:{value:"#40A853"},description:"Any valid CSS color definition. Hex, rgb, hsl values supported.",name:"color",required:!1,type:{name:"string"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to container.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/OpacitySlider.tsx#OpacitySlider"]={docgenInfo:OpacitySlider.__docgenInfo,name:"OpacitySlider",path:"src/components/widgets/OpacitySlider.tsx#OpacitySlider"})}catch(__react_docgen_typescript_loader_error){}},349:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RadioButtonGroup}));__webpack_require__(10),__webpack_require__(25),__webpack_require__(144),__webpack_require__(150),__webpack_require__(0);var _material_ui_core_Radio__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2726),_material_ui_core_RadioGroup__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2731),_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2724),_material_ui_core_FormControl__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2721),_material_ui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(200),_constants_colors__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1);function RadioButtonGroup(_ref){var _ref$label=_ref.label,label=void 0===_ref$label?void 0:_ref$label,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?"horizontal":_ref$orientation,options=_ref.options,optionLabels=_ref.optionLabels,selectedOption=_ref.selectedOption,onOptionSelected=_ref.onOptionSelected,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,labelPlacement=_ref.labelPlacement,minWidth=_ref.minWidth,buttonColor=_ref.buttonColor,margins=_ref.margins,itemMarginRight=_ref.itemMarginRight,disabledList=_ref.disabledList;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"column",alignItems:"flex-start",marginTop:margins?margins[0]:"",marginRight:margins?margins[1]:"",marginBottom:margins?margins[2]:"",marginLeft:margins?margins[3]:""},containerStyles),children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.a,{variant:"button",style:{color:_constants_colors__WEBPACK_IMPORTED_MODULE_10__.a,fontWeight:500,fontSize:"1.2em"},children:label}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_material_ui_core_FormControl__WEBPACK_IMPORTED_MODULE_8__.a,{style:{width:"100%"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_material_ui_core_RadioGroup__WEBPACK_IMPORTED_MODULE_6__.a,{value:selectedOption,onChange:function onChange(_,value){return value&&onOptionSelected(value)},"aria-label":label+" control button group",row:"horizontal"===orientation,children:options.map((function(option,index){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_7__.a,{value:option,label:null!=optionLabels&&optionLabels.length===options.length?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("span",{style:{color:null!=disabledList&&disabledList.includes(option)?_constants_colors__WEBPACK_IMPORTED_MODULE_10__.k:_constants_colors__WEBPACK_IMPORTED_MODULE_10__.a,fontSize:"0.9em"},children:optionLabels[index]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("span",{style:{color:null!=disabledList&&disabledList.includes(option)?_constants_colors__WEBPACK_IMPORTED_MODULE_10__.k:_constants_colors__WEBPACK_IMPORTED_MODULE_10__.a,fontSize:"0.9em"},children:option}),disabled:null==disabledList?void 0:disabledList.includes(option),labelPlacement:labelPlacement,control:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_material_ui_core_Radio__WEBPACK_IMPORTED_MODULE_5__.a,{color:buttonColor}),style:{marginRight:itemMarginRight,fontSize:"0.75em",fontWeight:400,textTransform:"capitalize",minWidth:minWidth}},index)}))})})]})}RadioButtonGroup.displayName="RadioButtonGroup";try{RadioButtonGroup.displayName="RadioButtonGroup",RadioButtonGroup.__docgenInfo={description:"A simple group of radio buttons in which only a single\nradio button can be selected at any given time.",displayName:"RadioButtonGroup",props:{label:{defaultValue:{value:"undefined"},description:"Label for the widget. Optional.",name:"label",required:!1,type:{name:"string"}},orientation:{defaultValue:{value:"horizontal"},description:"How buttons are displayed. Vertical or Horizontal",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},options:{defaultValue:null,description:"Options that will be presented as buttons.",name:"options",required:!0,type:{name:"string[]"}},optionLabels:{defaultValue:null,description:"Optional display labels for the options (otherwise the `options` array will be used)",name:"optionLabels",required:!1,type:{name:"ReactNode[]"}},selectedOption:{defaultValue:null,description:"The currently selected option.",name:"selectedOption",required:!0,type:{name:"string"}},onOptionSelected:{defaultValue:null,description:"Action to take when an option is selected by the user.",name:"onOptionSelected",required:!0,type:{name:"(option: string) => void"}},containerStyles:{defaultValue:{value:"{}"},description:"Additional widget container styles. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},labelPlacement:{defaultValue:null,description:"location of radio button label: start: label & button; end: button & label",name:"labelPlacement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"end"'},{value:'"start"'}]}},minWidth:{defaultValue:null,description:"minimum width to set up equivalently spaced width per item",name:"minWidth",required:!1,type:{name:"number"}},buttonColor:{defaultValue:null,description:"button color: for now, supporting blue and red only - primary: blue; secondary: red",name:"buttonColor",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},margins:{defaultValue:null,description:"margin of radio button group: string array for top, left, bottom, and left, e.g., ['10em', '0', '0', '10em']",name:"margins",required:!1,type:{name:"string[]"}},itemMarginRight:{defaultValue:null,description:"marginRight of radio button item: default 16px from MUI",name:"itemMarginRight",required:!1,type:{name:"string | number"}},disabledList:{defaultValue:null,description:"disabled list to disable radio button item(s): grayed out",name:"disabledList",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/RadioButtonGroup.tsx#RadioButtonGroup"]={docgenInfo:RadioButtonGroup.__docgenInfo,name:"RadioButtonGroup",path:"src/components/widgets/RadioButtonGroup.tsx#RadioButtonGroup"})}catch(__react_docgen_typescript_loader_error){}},350:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return DonutMarker})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DonutMarkerStandalone}));__webpack_require__(143),__webpack_require__(10),__webpack_require__(108),__webpack_require__(25),__webpack_require__(207),__webpack_require__(76),__webpack_require__(8),__webpack_require__(121),__webpack_require__(151),__webpack_require__(0);var leaflet__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(49),leaflet__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_10__),_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(302),_plots_PiePlot__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(273),_types_plots__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(93),lodash__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(17),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1);function toCartesian(centerX,centerY,radius,angleInRadianInput){var angleInRadians=angleInRadianInput-Math.PI/2;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)}}function DonutMarker(props){var _donutMarkerSVGIcon=donutMarkerSVGIcon(props),svgHTML=_donutMarkerSVGIcon.html,size=_donutMarkerSVGIcon.size,markerLabel=_donutMarkerSVGIcon.markerLabel,sliceTextOverrides=_donutMarkerSVGIcon.sliceTextOverrides,SVGDonutIcon=leaflet__WEBPACK_IMPORTED_MODULE_10___default.a.divIcon({className:"leaflet-canvas-icon",iconSize:new leaflet__WEBPACK_IMPORTED_MODULE_10___default.a.Point(size,size),iconAnchor:new leaflet__WEBPACK_IMPORTED_MODULE_10___default.a.Point(size/2,size/2),html:svgHTML}),duration=props.duration?props.duration:300,popupPlot=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_plots_PiePlot__WEBPACK_IMPORTED_MODULE_12__.a,{data:{slices:props.data},donutOptions:{size:.5,text:markerLabel,fontSize:18},containerStyles:{width:"150px",height:"150px"},spacingOptions:{marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},displayLegend:!1,interactive:!1,displayLibraryControls:!1,textOptions:{displayPosition:"inside",sliceTextOverrides:sliceTextOverrides},cumulative:props.cumulative});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_11__.a,{id:props.id,position:props.position,bounds:props.bounds,icon:SVGDonutIcon,duration:duration,popupContent:{content:popupPlot,size:{width:150,height:150}},showPopup:props.showPopup,popupClass:"donut-popup"})}function DonutMarkerStandalone(props){var _donutMarkerSVGIcon2=donutMarkerSVGIcon(props),html=_donutMarkerSVGIcon2.html,size=_donutMarkerSVGIcon2.size;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{style:Object.assign({fontSize:"12px",lineHeight:1.5,width:size,height:size},props.containerStyles),dangerouslySetInnerHTML:{__html:html}})}function donutMarkerSVGIcon(props){var _props$markerScale,_last$value,_last,_props$markerLabel,size=40*(null!==(_props$markerScale=props.markerScale)&&void 0!==_props$markerScale?_props$markerScale:_types_plots__WEBPACK_IMPORTED_MODULE_13__.MarkerScaleDefault),svgHTML="";svgHTML+='<svg width="'+size+'" height="'+size+'">';var fullPieValue=props.cumulative?null!==(_last$value=null===(_last=Object(lodash__WEBPACK_IMPORTED_MODULE_14__.last)(props.data))||void 0===_last?void 0:_last.value)&&void 0!==_last$value?_last$value:0:props.data.map((function(o){return o.value})).reduce((function(a,c){return a+c})),sumLabel=null!==(_props$markerLabel=props.markerLabel)&&void 0!==_props$markerLabel?_props$markerLabel:String(fullPieValue);svgHTML+='<circle cx="'+size/2+'" cy="'+size/2+'" r="'+size/2+'" stroke="green" stroke-width="0" fill="white" />';var startValue=0,cumulativeSum=0,sliceTextOverrides=[];if(props.data.forEach((function(el){if(fullPieValue>0){var _el$color,thisValue=el.value-cumulativeSum,arcValue=thisValue/fullPieValue;sliceTextOverrides.push(arcValue>=.015?el.value.toString():""),props.cumulative&&(cumulativeSum+=thisValue),svgHTML+='<path fill="none" stroke="'+(null!==(_el$color=el.color)&&void 0!==_el$color?_el$color:"silver")+'" stroke-width="4" d="'+function makeArc(x,y,radius,startAngle,endAngle){var endAngleOriginal=endAngle;endAngleOriginal-startAngle==2*Math.PI&&(endAngle=359*Math.PI/180);var start=toCartesian(x,y,radius,endAngle),end=toCartesian(x,y,radius,startAngle),arcSweep=endAngle-startAngle<=Math.PI?"0":"1";return endAngleOriginal-startAngle==2*Math.PI?["M",start.x,start.y,"A",radius,radius,0,arcSweep,0,end.x,end.y,"z"].join(" "):["M",start.x,start.y,"A",radius,radius,0,arcSweep,0,end.x,end.y].join(" ")}(size/2,size/2,size/2-2,startValue,startValue+2*arcValue*Math.PI)+'" />',startValue+=2*arcValue*Math.PI}})),svgHTML+='<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" opacity="1" fill="#505050" font-family="Arial, Helvetica, sans-serif" font-weight="bold" font-size="1em">'+sumLabel+"</text>",props.isAtomic){svgHTML+='<text x="86%" y="14%" dominant-baseline="middle" text-anchor="middle" opacity="0.75" font-weight="bold" font-size="1.2em">&#128392;</text>'}return{html:svgHTML+="</svg>",size:size,sliceTextOverrides:sliceTextOverrides,markerLabel:sumLabel}}DonutMarker.displayName="DonutMarker",DonutMarkerStandalone.displayName="DonutMarkerStandalone";try{DonutMarker.displayName="DonutMarker",DonutMarker.__docgenInfo={description:"this is a SVG donut marker icon",displayName:"DonutMarker",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ value: number; label: string; color?: string | undefined; }[]"}},isAtomic:{defaultValue:null,description:"",name:"isAtomic",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: LeafletMouseEvent) => void)"}},markerLabel:{defaultValue:null,description:"center title/number for marker (defaults to sum of data[].value)",name:"markerLabel",required:!1,type:{name:"string"}},cumulative:{defaultValue:null,description:"cumulative mode: values are expected in order and to **already** be cumulative in nature.\nThat is, values 20, 40, 60, 80, 100 would generate five equal-sized segments.  The final\nvalue does not have to be 100.  2,4,6,8,10 would produce the same donut\n(but with different mouse-overs in the enlarged version.)",name:"cumulative",required:!1,type:{name:"boolean"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},duration:{defaultValue:null,description:"",name:"duration",required:!0,type:{name:"number"}},popupClass:{defaultValue:null,description:"",name:"popupClass",required:!1,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"LatLngLiteral"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"Icon<IconOptions>"}},showPopup:{defaultValue:null,description:"",name:"showPopup",required:!1,type:{name:"boolean"}},popupContent:{defaultValue:null,description:"",name:"popupContent",required:!1,type:{name:"{ content: ReactElement<any, string | JSXElementConstructor<any>>; size: { width: number; height: number; }; }"}},markerScale:{defaultValue:null,description:"",name:"markerScale",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/DonutMarker.tsx#DonutMarker"]={docgenInfo:DonutMarker.__docgenInfo,name:"DonutMarker",path:"src/map/DonutMarker.tsx#DonutMarker"})}catch(__react_docgen_typescript_loader_error){}try{DonutMarkerStandalone.displayName="DonutMarkerStandalone",DonutMarkerStandalone.__docgenInfo={description:"",displayName:"DonutMarkerStandalone",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ value: number; label: string; color?: string | undefined; }[]"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"Icon<IconOptions>"}},cumulative:{defaultValue:null,description:"cumulative mode: values are expected in order and to **already** be cumulative in nature.\nThat is, values 20, 40, 60, 80, 100 would generate five equal-sized segments.  The final\nvalue does not have to be 100.  2,4,6,8,10 would produce the same donut\n(but with different mouse-overs in the enlarged version.)",name:"cumulative",required:!1,type:{name:"boolean"}},isAtomic:{defaultValue:null,description:"",name:"isAtomic",required:!1,type:{name:"boolean"}},markerLabel:{defaultValue:null,description:"center title/number for marker (defaults to sum of data[].value)",name:"markerLabel",required:!1,type:{name:"string"}},markerScale:{defaultValue:null,description:"",name:"markerScale",required:!1,type:{name:"number"}},containerStyles:{defaultValue:null,description:"Additional styles for component's container. Optional",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/DonutMarker.tsx#DonutMarkerStandalone"]={docgenInfo:DonutMarkerStandalone.__docgenInfo,name:"DonutMarkerStandalone",path:"src/map/DonutMarker.tsx#DonutMarkerStandalone"})}catch(__react_docgen_typescript_loader_error){}},36:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",(function(){return LIGHT_RED})),__webpack_require__.d(__webpack_exports__,"g",(function(){return LIGHT_ORANGE})),__webpack_require__.d(__webpack_exports__,"j",(function(){return LIGHT_YELLOW})),__webpack_require__.d(__webpack_exports__,"f",(function(){return LIGHT_GREEN})),__webpack_require__.d(__webpack_exports__,"d",(function(){return LIGHT_BLUE})),__webpack_require__.d(__webpack_exports__,"h",(function(){return LIGHT_PURPLE})),__webpack_require__.d(__webpack_exports__,"c",(function(){return DARK_GREEN})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DARKEST_GRAY})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DARK_GRAY})),__webpack_require__.d(__webpack_exports__,"k",(function(){return MEDIUM_GRAY})),__webpack_require__.d(__webpack_exports__,"e",(function(){return LIGHT_GRAY}));__webpack_require__(831),__webpack_require__(41);var _veupathdb_coreui_dist_definitions_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(54),LIGHT_RED="#CC3030",LIGHT_ORANGE="#DD6E36",LIGHT_YELLOW="#F8CC1B",LIGHT_GREEN="#40A853",LIGHT_BLUE="#5586BE",LIGHT_PURPLE="#6B6AA9",DARK_GREEN="#338541",DARKEST_GRAY=([].concat([LIGHT_RED,LIGHT_ORANGE,LIGHT_YELLOW,LIGHT_GREEN,LIGHT_BLUE,LIGHT_PURPLE]).reverse(),_veupathdb_coreui_dist_definitions_colors__WEBPACK_IMPORTED_MODULE_2__.gray[900]),DARK_GRAY=_veupathdb_coreui_dist_definitions_colors__WEBPACK_IMPORTED_MODULE_2__.gray[600],MEDIUM_GRAY=(_veupathdb_coreui_dist_definitions_colors__WEBPACK_IMPORTED_MODULE_2__.gray[400],_veupathdb_coreui_dist_definitions_colors__WEBPACK_IMPORTED_MODULE_2__.gray[300]),LIGHT_GRAY=_veupathdb_coreui_dist_definitions_colors__WEBPACK_IMPORTED_MODULE_2__.gray[100]},409:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return axisTickLableEllipsis}));__webpack_require__(25),__webpack_require__(207),__webpack_require__(76),__webpack_require__(169),__webpack_require__(534),__webpack_require__(2528),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var axisTickLableEllipsis=function axisTickLableEllipsis(categoryOrder,maxIndependentTickLabelLength){var categoryOrderEllipsis=categoryOrder.map((function(element){return(element||"").length>maxIndependentTickLabelLength?(element||"").substring(0,maxIndependentTickLabelLength-2)+"...":element})),duplicateIndexValue=getDuplicates(categoryOrderEllipsis);return Object.entries(duplicateIndexValue).forEach((function(entry){for(var _entry=_slicedToArray(entry,2),value=(_entry[0],_entry[1]),i=1;i<value.length;i++)categoryOrderEllipsis[value[i]]=categoryOrderEllipsis[value[i]]+" ".repeat(i)})),categoryOrderEllipsis},getDuplicates=function getDuplicates(arr){for(var duplicates={},i=0;i<arr.length;i++)duplicates.hasOwnProperty(arr[i])?duplicates[arr[i]].push(i):arr.lastIndexOf(arr[i])!==i&&(duplicates[arr[i]]=[i]);return duplicates}},421:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ChartMarker})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ChartMarkerStandalone}));__webpack_require__(25),__webpack_require__(10),__webpack_require__(108),__webpack_require__(720),__webpack_require__(74),__webpack_require__(207),__webpack_require__(76),__webpack_require__(338),__webpack_require__(107),__webpack_require__(50),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(19),__webpack_require__(15),__webpack_require__(9),__webpack_require__(0);var leaflet__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(49),leaflet__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_22__),_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(302),_plots_Barplot__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(309),lodash__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(17),_types_plots__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(93),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(1);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ChartMarker(props){var _props$dependentAxisR,_chartMarkerSVGIcon=chartMarkerSVGIcon(props),svgHTML=_chartMarkerSVGIcon.html,size=_chartMarkerSVGIcon.size,sumValuesString=_chartMarkerSVGIcon.sumValuesString,HistogramIcon=leaflet__WEBPACK_IMPORTED_MODULE_22___default.a.divIcon({className:"leaflet-canvas-icon",iconSize:new leaflet__WEBPACK_IMPORTED_MODULE_22___default.a.Point(size,size),iconAnchor:new leaflet__WEBPACK_IMPORTED_MODULE_22___default.a.Point(size/2,size/2),html:svgHTML}),duration=props.duration?props.duration:300,popupPlot=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_plots_Barplot__WEBPACK_IMPORTED_MODULE_24__.a,{data:{series:[{name:"do not display me",label:props.data.map((function(_ref){return _ref.label})),value:props.data.map((function(_ref2){return _ref2.value})),color:props.data.map((function(_ref3){var color=_ref3.color;return null!=color?color:""}))}]},orientation:"vertical",containerStyles:{width:"200px",height:"200px"},spacingOptions:{marginLeft:5,marginRight:5,marginTop:5,marginBottom:5},displayLegend:!1,displayLibraryControls:!1,interactive:!1,dependentAxisLabel:"",independentAxisLabel:"Total: "+sumValuesString,dependentAxisRange:null!==(_props$dependentAxisR=props.dependentAxisRange)&&void 0!==_props$dependentAxisR?_props$dependentAxisR:void 0,showValues:!0,showIndependentAxisTickLabel:!1,dependentAxisLogScale:props.dependentAxisLogScale});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_BoundsDriftMarker__WEBPACK_IMPORTED_MODULE_23__.a,{id:props.id,position:props.position,bounds:props.bounds,icon:HistogramIcon,duration:duration,popupContent:{content:popupPlot,size:{height:210,width:210}},showPopup:props.showPopup,popupClass:"histogram-popup"})}function ChartMarkerStandalone(props){var _chartMarkerSVGIcon2=chartMarkerSVGIcon(props),html=_chartMarkerSVGIcon2.html,size=_chartMarkerSVGIcon2.size;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("div",{style:Object.assign({fontSize:"12px",lineHeight:1.5,width:size,height:size},props.containerStyles),dangerouslySetInnerHTML:{__html:html}})}function chartMarkerSVGIcon(props){var _props$borderColor,_props$borderWidth,_props$markerScale,_last$value,_last,_props$markerLabel,defaultLineColor=null!==(_props$borderColor=props.borderColor)&&void 0!==_props$borderColor?_props$borderColor:"#7cb5ec",borderWidth=null!==(_props$borderWidth=props.borderWidth)&&void 0!==_props$borderWidth?_props$borderWidth:1,scale=null!==(_props$markerScale=props.markerScale)&&void 0!==_props$markerScale?_props$markerScale:_types_plots__WEBPACK_IMPORTED_MODULE_26__.MarkerScaleDefault,size=40*scale,xSize=50*scale,ySize=50*scale,svgHTML="";svgHTML+='<svg width="'+(xSize+2*borderWidth)+'" height="'+(ySize+2*borderWidth)+'">';var barWidth,startingX,barHeight,count=props.data.length,sumValues=props.cumulative?null!==(_last$value=null===(_last=Object(lodash__WEBPACK_IMPORTED_MODULE_25__.last)(props.data))||void 0===_last?void 0:_last.value)&&void 0!==_last$value?_last$value:0:props.data.map((function(o){return o.value})).reduce((function(a,c){return a+c})),sumValuesString=sumValues<=.99&&sumValues>0?sumValues.toFixed(2):sumValues.toLocaleString(void 0,{useGrouping:!0,maximumFractionDigits:0}),minMaxPosRange=props.dependentAxisRange?props.dependentAxisRange:{min:props.dependentAxisLogScale?Math.min.apply(Math,_toConsumableArray(props.data.map((function(o){return o.value})).filter((function(a){return a>0})))):0,max:Math.max.apply(Math,_toConsumableArray(props.data.map((function(o){return o.value})).filter((function(a){return a>0}))))},marginX=5*scale,marginY=5*scale;if(svgHTML+='<rect x="0" y="0" rx='+10*scale+" ry="+10*scale+" width="+(xSize+2*borderWidth)+" height="+(ySize+2*borderWidth)+' fill="white" stroke="'+defaultLineColor+'" stroke-width="0" opacity="1.0" />',svgHTML+="<rect x="+borderWidth/2+" y="+borderWidth/2+' rx="9" ry="9" width="'+(xSize+borderWidth)+'" height="'+(ySize+borderWidth)+'" fill="white" opacity="1" stroke="'+defaultLineColor+'" stroke-width="'+borderWidth+'"/>',props.data.forEach((function(el,index){var _el$color;startingX=marginX+borderWidth+(barWidth=(xSize-2*marginX)/count)*index,barHeight=props.dependentAxisLogScale?el.value<=0?0:Math.log10(el.value/minMaxPosRange.min)/Math.log10(minMaxPosRange.max/minMaxPosRange.min)*(size-2*marginY):(el.value-minMaxPosRange.min)/(minMaxPosRange.max-minMaxPosRange.min)*(size-2*marginY),svgHTML+="<rect x="+startingX+" y="+(size-marginY-barHeight+borderWidth)+" width="+barWidth+" height="+barHeight+" fill="+(null!==(_el$color=el.color)&&void 0!==_el$color?_el$color:"rgb(192,192,192)").replace(/\s/g,"")+" />"})),svgHTML+="<line x1="+borderWidth+' y1="'+(size-2+borderWidth)+'" x2="'+(xSize+borderWidth)+'" y2="'+(size-2+borderWidth)+'" style="stroke:'+defaultLineColor+';stroke-width:1" />',svgHTML+='<text x="50%" y='+(size-2+borderWidth+7)+' dominant-baseline="middle" text-anchor="middle" opacity="1">'+(null!==(_props$markerLabel=props.markerLabel)&&void 0!==_props$markerLabel?_props$markerLabel:sumValuesString)+"</text>",props.isAtomic){svgHTML+='<text x="89%" y="11%" dominant-baseline="middle" text-anchor="middle" opacity="0.75" font-weight="bold" font-size="1.2em">&#128392;</text>'}return{html:svgHTML+="</svg>",size:xSize+marginX+borderWidth,sumValuesString:sumValuesString}}ChartMarker.displayName="ChartMarker",ChartMarkerStandalone.displayName="ChartMarkerStandalone";try{ChartMarker.displayName="ChartMarker",ChartMarker.__docgenInfo={description:"this is a SVG histogram/chart marker icon\n- no (drop) shadow\n- no gap between bars\n- accordingly icon size could be reduced",displayName:"ChartMarker",props:{borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"string"}},borderWidth:{defaultValue:null,description:"",name:"borderWidth",required:!1,type:{name:"number"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ value: number; label: string; color?: string | undefined; }[]"}},isAtomic:{defaultValue:null,description:"",name:"isAtomic",required:!1,type:{name:"boolean"}},dependentAxisRange:{defaultValue:null,description:"",name:"dependentAxisRange",required:!1,type:{name:"NumberRange | null"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: LeafletMouseEvent) => void)"}},markerLabel:{defaultValue:null,description:"x-axis title for marker (defaults to sum of data[].value)",name:"markerLabel",required:!1,type:{name:"string"}},cumulative:{defaultValue:null,description:"cumulative mode: when true, the total count shown will be the last value, not the sum of the values.\nSee cumulative prop in DonutMarker.tsx for context.",name:"cumulative",required:!1,type:{name:"boolean"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},duration:{defaultValue:null,description:"",name:"duration",required:!0,type:{name:"number"}},popupClass:{defaultValue:null,description:"",name:"popupClass",required:!1,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"LatLngLiteral"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"Icon<IconOptions>"}},showPopup:{defaultValue:null,description:"",name:"showPopup",required:!1,type:{name:"boolean"}},popupContent:{defaultValue:null,description:"",name:"popupContent",required:!1,type:{name:"{ content: ReactElement<any, string | JSXElementConstructor<any>>; size: { width: number; height: number; }; }"}},markerScale:{defaultValue:null,description:"",name:"markerScale",required:!1,type:{name:"number"}},dependentAxisLogScale:{defaultValue:null,description:"Use a log scale for dependent axis. Default is false",name:"dependentAxisLogScale",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/ChartMarker.tsx#ChartMarker"]={docgenInfo:ChartMarker.__docgenInfo,name:"ChartMarker",path:"src/map/ChartMarker.tsx#ChartMarker"})}catch(__react_docgen_typescript_loader_error){}try{ChartMarkerStandalone.displayName="ChartMarkerStandalone",ChartMarkerStandalone.__docgenInfo={description:"",displayName:"ChartMarkerStandalone",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ value: number; label: string; color?: string | undefined; }[]"}},dependentAxisRange:{defaultValue:null,description:"",name:"dependentAxisRange",required:!1,type:{name:"NumberRange | null"}},dependentAxisLogScale:{defaultValue:null,description:"Use a log scale for dependent axis. Default is false",name:"dependentAxisLogScale",required:!1,type:{name:"boolean"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"string"}},borderWidth:{defaultValue:null,description:"",name:"borderWidth",required:!1,type:{name:"number"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"Icon<IconOptions>"}},cumulative:{defaultValue:null,description:"cumulative mode: when true, the total count shown will be the last value, not the sum of the values.\nSee cumulative prop in DonutMarker.tsx for context.",name:"cumulative",required:!1,type:{name:"boolean"}},isAtomic:{defaultValue:null,description:"",name:"isAtomic",required:!1,type:{name:"boolean"}},markerLabel:{defaultValue:null,description:"x-axis title for marker (defaults to sum of data[].value)",name:"markerLabel",required:!1,type:{name:"string"}},markerScale:{defaultValue:null,description:"",name:"markerScale",required:!1,type:{name:"number"}},containerStyles:{defaultValue:null,description:"Additional styles for component's container. Optional",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/ChartMarker.tsx#ChartMarkerStandalone"]={docgenInfo:ChartMarkerStandalone.__docgenInfo,name:"ChartMarkerStandalone",path:"src/map/ChartMarker.tsx#ChartMarkerStandalone"})}catch(__react_docgen_typescript_loader_error){}},500:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OrientationToggle}));__webpack_require__(10),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_material_ui_icons_FormatAlignLeft__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(854),_material_ui_icons_FormatAlignLeft__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_material_ui_icons_FormatAlignLeft__WEBPACK_IMPORTED_MODULE_13__),_material_ui_lab_ToggleButton__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(856),_material_ui_lab_ToggleButtonGroup__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1339),_constants_colors__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(36),_material_ui_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(200),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function OrientationToggle(_ref){var orientation=_ref.orientation,onOrientationChange=_ref.onOrientationChange,_ref$containerStyles=_ref.containerStyles,containerStyles=void 0===_ref$containerStyles?{}:_ref$containerStyles,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(!1),2),focused=_useState2[0],setFocused=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{style:Object.assign({display:"flex",flexDirection:"column",alignItems:"flex-start"},containerStyles),onMouseOver:function onMouseOver(){return setFocused(!0)},onMouseOut:function onMouseOut(){return setFocused(!1)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_17__.a,{variant:"button",style:{color:focused?_constants_colors__WEBPACK_IMPORTED_MODULE_16__.b:_constants_colors__WEBPACK_IMPORTED_MODULE_16__.k},children:"Orientation"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(_material_ui_lab_ToggleButtonGroup__WEBPACK_IMPORTED_MODULE_15__.a,{value:orientation,exclusive:!0,onChange:function onChange(event,value){return onOrientationChange(value)},"aria-label":"Plot Orientation Control",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_material_ui_lab_ToggleButton__WEBPACK_IMPORTED_MODULE_14__.a,{value:"vertical","aria-label":"vertical",style:{padding:"5px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_material_ui_icons_FormatAlignLeft__WEBPACK_IMPORTED_MODULE_13___default.a,{style:{transform:"rotate(-90deg)",fontSize:"18px"}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_material_ui_lab_ToggleButton__WEBPACK_IMPORTED_MODULE_14__.a,{value:"horizontal","aria-label":"horizontal",style:{padding:"5px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_material_ui_icons_FormatAlignLeft__WEBPACK_IMPORTED_MODULE_13___default.a,{style:{fontSize:"18px"}})})]})]})}OrientationToggle.displayName="OrientationToggle";try{OrientationToggle.displayName="OrientationToggle",OrientationToggle.__docgenInfo={description:"A simple UI widget for toggling plot orientation.",displayName:"OrientationToggle",props:{orientation:{defaultValue:null,description:"Which orientation is currently selected.",name:"orientation",required:!0,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},onOrientationChange:{defaultValue:null,description:"What action to take when orientation changes.",name:"onOrientationChange",required:!0,type:{name:'(newOrientation: "vertical" | "horizontal") => void'}},containerStyles:{defaultValue:{value:"{}"},description:"Additional styles to apply to the widget container.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/OrientationToggle.tsx#OrientationToggle"]={docgenInfo:OrientationToggle.__docgenInfo,name:"OrientationToggle",path:"src/components/widgets/OrientationToggle.tsx#OrientationToggle"})}catch(__react_docgen_typescript_loader_error){}},56:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return defaultAnimationDuration})),__webpack_require__.d(__webpack_exports__,"a",(function(){return allColorsHex})),__webpack_require__.d(__webpack_exports__,"b",(function(){return chartMarkerColorsHex}));var defaultAnimationDuration=300,allColorsHex=["#FFB300","#803E75","#FF6800","#A6BDD7","#C10020","#CEA262","#007D34","#F6768E","#00538A","#FF7A5C","#53377A","#FF8E00","#B32851","#F4C800","#7F180D","#93AA00","#593315","#F13A13","#232C16"],chartMarkerColorsHex=["#0018A9","#3B1988","#771A66","#B21B45","#ED1C23"]},60:function(module,__webpack_exports__,__webpack_require__){"use strict";function leafletZoomLevelToGeohashLevel(leafletZoomLevel){switch(leafletZoomLevel){case 1:case 2:return 1;case 3:case 4:case 5:return 2;case 6:case 7:case 8:return 3;case 9:case 10:case 11:return 4;case 12:case 13:case 14:return 5;case 15:case 16:case 17:default:return 6}}function tinyLeafletZoomLevelToGeohashLevel(leafletZoomLevel){switch(leafletZoomLevel){case 0:case 1:return 1;case 2:case 3:return 2;case 4:case 5:return 3;case 6:case 7:case 8:return 4;case 9:case 10:case 11:return 5;case 12:case 13:case 14:default:return 6}}__webpack_require__.d(__webpack_exports__,"a",(function(){return leafletZoomLevelToGeohashLevel})),__webpack_require__.d(__webpack_exports__,"b",(function(){return tinyLeafletZoomLevelToGeohashLevel}))},603:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SemanticMarkers}));__webpack_require__(25),__webpack_require__(724),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react_leaflet__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1332),lodash__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(17),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SemanticMarkers(_ref){var onBoundsChanged=_ref.onBoundsChanged,markers=_ref.markers,animation=_ref.animation,_ref$recenterMarkers=_ref.recenterMarkers,recenterMarkers=void 0===_ref$recenterMarkers||_ref$recenterMarkers,map=Object(react_leaflet__WEBPACK_IMPORTED_MODULE_14__.a)(),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(markers),2),prevMarkers=_useState2[0],setPrevMarkers=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(),2),bounds=_useState4[0],setBounds=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),2),consolidatedMarkers=_useState6[0],setConsolidatedMarkers=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(null),2),zoomType=_useState8[0],setZoomType=_useState8[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){if(null!=map){var debouncedUpdateBounds=Object(lodash__WEBPACK_IMPORTED_MODULE_15__.debounce)((function updateBounds(){if(null!=map){var _bounds=function boundsToGeoBBox(bounds){var south=bounds.getSouth();south<-90&&(south=-90);var north=bounds.getNorth();north>90&&(north=90);var east=bounds.getEast(),west=bounds.getWest();if(east-west>360){var center=(east+west)/2;west=center-180,east=center+180}return{southWest:{lat:south,lng:west},northEast:{lat:north,lng:east}}}(map.getBounds());setBounds(_bounds);var zoomLevel=map.getZoom();onBoundsChanged({bounds:constrainLongitudeToMainWorld(_bounds),zoomLevel:zoomLevel})}}),1e3);return debouncedUpdateBounds(),map.on("resize dragend zoomend",debouncedUpdateBounds),function(){map.off("resize dragend zoomend",debouncedUpdateBounds),debouncedUpdateBounds.cancel()}}}),[map,onBoundsChanged]),Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){var recenteredMarkers=!1;if(recenterMarkers&&bounds&&(markers=markers.map((function(marker){for(var _marker$props$positio=marker.props.position,lat=_marker$props$positio.lat,lng=_marker$props$positio.lng,_marker$props$bounds=marker.props.bounds,_marker$props$bounds$=_marker$props$bounds.southWest,ltMin=_marker$props$bounds$.lat,lnMin=_marker$props$bounds$.lng,_marker$props$bounds$2=_marker$props$bounds.northEast,ltMax=_marker$props$bounds$2.lat,lnMax=_marker$props$bounds$2.lng,recentered=!1;lng>bounds.northEast.lng;)lng-=360,lnMax-=360,lnMin-=360,recentered=!0;for(;lng<bounds.southWest.lng;)lng+=360,lnMax+=360,lnMin+=360,recentered=!0;return recenteredMarkers=recenteredMarkers||recentered,recentered?Object(react__WEBPACK_IMPORTED_MODULE_13__.cloneElement)(marker,{position:{lat:lat,lng:lng},bounds:{southWest:{lat:ltMin,lng:lnMin},northEast:{lat:ltMax,lng:lnMax}}}):marker}))),markers.length>0&&prevMarkers.length>0&&animation&&!recenteredMarkers){var animationValues=animation.animationFunction({prevMarkers:prevMarkers,markers:markers});setZoomType(animationValues.zoomType),setConsolidatedMarkers(animationValues.markers)}else setConsolidatedMarkers(_toConsumableArray(markers));setPrevMarkers(markers)}),[markers,bounds]),Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){var timeoutVariable;return"in"==zoomType?setConsolidatedMarkers(_toConsumableArray(markers)):"out"==zoomType&&(timeoutVariable=setTimeout((function(){setConsolidatedMarkers(_toConsumableArray(markers))}),animation?animation.duration:0)),function(){return clearTimeout(timeoutVariable)}}),[zoomType,markers]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:consolidatedMarkers})}function constrainLongitudeToMainWorld(_ref2){for(var _ref2$southWest=_ref2.southWest,south=_ref2$southWest.lat,west=_ref2$southWest.lng,_ref2$northEast=_ref2.northEast,north=_ref2$northEast.lat,newEast=_ref2$northEast.lng,newWest=west;newEast>180;)newEast-=360;for(;newEast<-180;)newEast+=360;for(;newWest<-180;)newWest+=360;for(;newWest>180;)newWest-=360;return newWest===newEast&&(newWest+=1e-8),{southWest:{lat:south,lng:newWest},northEast:{lat:north,lng:newEast}}}try{SemanticMarkers.displayName="SemanticMarkers",SemanticMarkers.__docgenInfo={description:"Renders the semantic markers layer",displayName:"SemanticMarkers",props:{onBoundsChanged:{defaultValue:null,description:"",name:"onBoundsChanged",required:!0,type:{name:"(bvp: BoundsViewport) => void"}},markers:{defaultValue:null,description:"",name:"markers",required:!0,type:{name:"ReactElement<BoundsDriftMarkerProps, string | JSXElementConstructor<any>>[]"}},recenterMarkers:{defaultValue:{value:"true"},description:"",name:"recenterMarkers",required:!1,type:{name:"boolean"}},animation:{defaultValue:null,description:"",name:"animation",required:!0,type:{name:"{ method: string; duration: number; animationFunction: AnimationFunction; } | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/SemanticMarkers.tsx#SemanticMarkers"]={docgenInfo:SemanticMarkers.__docgenInfo,name:"SemanticMarkers",path:"src/map/SemanticMarkers.tsx#SemanticMarkers"})}catch(__react_docgen_typescript_loader_error){}},605:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Spinner}));var _material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2718),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);function Spinner(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:450},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_0__.a,{color:"secondary",size:50,thickness:5})})}Spinner.displayName="Spinner"},610:function(module,__webpack_exports__,__webpack_require__){"use strict";var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);__webpack_exports__.a=function(_ref){var plotTitle=_ref.plotTitle,_ref$opacity=_ref.opacity,opacity=void 0===_ref$opacity?.97:_ref$opacity;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,background:"No data"===plotTitle?"repeating-linear-gradient(45deg, #f8f8f8, #f8f8f8 10px, #fafafa 10px, #fafafa 20px)":"#f8f8f8",opacity:opacity,fontSize:24,color:"#C1C1C1",userSelect:"none",display:"flex",justifyContent:"center",alignItems:"center",zIndex:450},children:"No data"===plotTitle?"No missing data":"No data"})};try{NoDataOverlay.displayName="NoDataOverlay",NoDataOverlay.__docgenInfo={description:"",displayName:"NoDataOverlay",props:{plotTitle:{defaultValue:null,description:"",name:"plotTitle",required:!1,type:{name:"string"}},opacity:{defaultValue:null,description:"",name:"opacity",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NoDataOverlay.tsx#NoDataOverlay"]={docgenInfo:NoDataOverlay.__docgenInfo,name:"NoDataOverlay",path:"src/components/NoDataOverlay.tsx#NoDataOverlay"})}catch(__react_docgen_typescript_loader_error){}},611:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return makeSharedPromise}));__webpack_require__(63),__webpack_require__(8);function makeSharedPromise(callback){var resolve,reject;return{promise:new Promise((function(_resolve,_reject){resolve=_resolve,reject=_reject})),run:function run(){return callback().then((function(result){return resolve(result),result}),(function(error){throw reject(error),error}))}}}},622:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MapVEuMapSidebarSibling}));__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(0),react_leaflet__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1335),react_leaflet__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1330),react_leaflet__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2720),react_leaflet__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2719),react_leaflet__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(354),_SemanticMarkers__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(603),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=(__webpack_require__(1014),__webpack_require__(1));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BaseLayer=react_leaflet__WEBPACK_IMPORTED_MODULE_12__.a.BaseLayer;function MapVEuMapSidebarSibling(_ref){var viewport=_ref.viewport,height=_ref.height,width=_ref.width,onViewportChanged=_ref.onViewportChanged,markers=_ref.markers,animation=_ref.animation,sidebarOnClose=(_ref.nudge,_ref.sidebarOnClose),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(viewport),2),setState=(_useState2[0],_useState2[1]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(react_leaflet__WEBPACK_IMPORTED_MODULE_13__.a,{center:viewport.center,zoom:viewport.zoom,style:{height:height,width:width},onViewportChanged:function handleViewportChanged(viewport){setState(viewport)},zoomControl:!1,onClick:function mapClick(e){!function removeClassName(targetClass){var targetElement=document.getElementsByClassName(targetClass)[0];null!=targetElement&&targetElement.classList.remove(targetClass)}("highlight-marker"),sidebarOnClose&&sidebarOnClose(!0),function removeClassNameActive(targetClass){var targetElement=document.getElementsByClassName(targetClass)[0];null!=targetElement&&targetElement.classList.remove("active")}("sidebartabs active")},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_14__.a,{position:"topright"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_15__.a,{position:"bottomright"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(react_leaflet__WEBPACK_IMPORTED_MODULE_12__.a,{position:"topright",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(BaseLayer,{checked:!0,name:"street",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.a,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri  Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(BaseLayer,{name:"terrain",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.a,{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>  Map data  <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(BaseLayer,{name:"satellite",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.a,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri  Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(BaseLayer,{name:"light",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.a,{url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",attribution:' <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(BaseLayer,{name:"dark",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.a,{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(BaseLayer,{name:"OSM",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.a,{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="http://osm.org/copyright">OpenStreetMap</a> contributors <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery  <a href="http://mapbox.com">Mapbox</a>'})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_SemanticMarkers__WEBPACK_IMPORTED_MODULE_17__.a,{onBoundsChanged:onViewportChanged,markers:markers,animation:animation})]})})}try{MapVEuMapSidebar.displayName="MapVEuMapSidebar",MapVEuMapSidebar.__docgenInfo={description:"",displayName:"MapVEuMapSidebar",props:{viewport:{defaultValue:null,description:"Center lat/long and zoom level",name:"viewport",required:!0,type:{name:"Viewport"}},height:{defaultValue:null,description:"Height and width of plot element",name:"height",required:!0,type:{name:"Height<string | number> | undefined"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"Width<string | number> | undefined"}},onViewportChanged:{defaultValue:null,description:"",name:"onViewportChanged",required:!0,type:{name:"(bvp: BoundsViewport) => void"}},markers:{defaultValue:null,description:"",name:"markers",required:!0,type:{name:"ReactElement<BoundsDriftMarkerProps, string | JSXElementConstructor<any>>[]"}},nudge:{defaultValue:null,description:"",name:"nudge",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"geohash"'}]}},sidebarOnClose:{defaultValue:null,description:"",name:"sidebarOnClose",required:!1,type:{name:"((value: SetStateAction<boolean>) => void)"}},animation:{defaultValue:null,description:"",name:"animation",required:!0,type:{name:"{ method: string; duration: number; animationFunction: AnimationFunction; } | null"}},showGrid:{defaultValue:null,description:"",name:"showGrid",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/MapVEuMapSidebar.tsx#MapVEuMapSidebar"]={docgenInfo:MapVEuMapSidebar.__docgenInfo,name:"MapVEuMapSidebar",path:"src/map/MapVEuMapSidebar.tsx#MapVEuMapSidebar"})}catch(__react_docgen_typescript_loader_error){}},623:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TabHomeConent}));__webpack_require__(0);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);function TabHomeConent(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"This is a test for making a sidebar tab contents to be a sub-comopnent of Tab-Home"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("p",{children:["Testing props (for example, id & header):",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("br",{}),"props.id = ",props.id,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("br",{}),"props.header = ",props.header]})]})]})}try{TabHomeContent.displayName="TabHomeContent",TabHomeContent.__docgenInfo={description:"",displayName:"TabHomeContent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/TabHomeContent.tsx#TabHomeContent"]={docgenInfo:TabHomeContent.__docgenInfo,name:"TabHomeContent",path:"src/map/TabHomeContent.tsx#TabHomeContent"})}catch(__react_docgen_typescript_loader_error){}},626:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ControlsHeader}));__webpack_require__(10),__webpack_require__(0);var _constants_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1);function ControlsHeader(_ref){var text=_ref.text,_ref$color=_ref.color,color=void 0===_ref$color?_constants_colors__WEBPACK_IMPORTED_MODULE_2__.k:_ref$color,_ref$styleOverrides=_ref.styleOverrides,styleOverrides=void 0===_ref$styleOverrides?{}:_ref$styleOverrides;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{style:Object.assign({fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontSize:"18px",textTransform:"uppercase",letterSpacing:.5,color:color,fontWeight:500},styleOverrides),children:text})}ControlsHeader.displayName="ControlsHeader";try{ControlsHeader.displayName="ControlsHeader",ControlsHeader.__docgenInfo={description:"Header for use in plot controls components.",displayName:"ControlsHeader",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},color:{defaultValue:{value:"gray[300]"},description:"",name:"color",required:!1,type:{name:"string"}},styleOverrides:{defaultValue:{value:"{}"},description:"",name:"styleOverrides",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/typography/ControlsHeader.tsx#ControlsHeader"]={docgenInfo:ControlsHeader.__docgenInfo,name:"ControlsHeader",path:"src/components/typography/ControlsHeader.tsx#ControlsHeader"})}catch(__react_docgen_typescript_loader_error){}},70:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(63),__webpack_require__(8),__webpack_require__(724),__webpack_require__(25),__webpack_require__(10),__webpack_require__(169),__webpack_require__(9),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(19);var react=__webpack_require__(0),MapContainer=__webpack_require__(1330),TileLayer=__webpack_require__(354),LayersControl=__webpack_require__(1335),ScaleControl=__webpack_require__(2719),hooks=__webpack_require__(1332),SemanticMarkers=__webpack_require__(603),Rectangle=(__webpack_require__(1014),__webpack_require__(1886),__webpack_require__(207),__webpack_require__(76),__webpack_require__(152),__webpack_require__(41),__webpack_require__(2717)),Polyline=__webpack_require__(2787),latlon_geohash=__webpack_require__(604),leaflet_src=__webpack_require__(49),leaflet_src_default=__webpack_require__.n(leaflet_src),jsx_runtime=__webpack_require__(1);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var shape2geohash=__webpack_require__(1888);function CustomGridLayer(_ref){var zoomLevelToGeohashLevel=_ref.zoomLevelToGeohashLevel,map=Object(hooks.a)(),_useState2=_slicedToArray(Object(react.useState)([]),2),geohashes=_useState2[0],setGeohashes=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(null),2),mapBounds=_useState4[0],setMapBounds=_useState4[1],polylines=[],blinkers=[];if(Object(react.useEffect)((function(){if(null!=map)return updateMap(),map.on("resize dragend zoomend",updateMap),function(){map.off("resize dragend zoomend",updateMap)};function updateMap(){if(null!=map){var zoomLevel=map.getZoom(),geohashLevel=zoomLevelToGeohashLevel(zoomLevel),currentMapBounds=map.getBounds(),west=currentMapBounds.getWest(),east=currentMapBounds.getEast();if(east-west>360){var middle=(east+west)/2;east=middle+180,west=middle-180}for(var longitudeCorrection=0;west+longitudeCorrection>180;)longitudeCorrection-=360;for(;east+longitudeCorrection<-180;)longitudeCorrection+=360;setMapBounds(currentMapBounds);var shapes=west+longitudeCorrection>=-180&&east+longitudeCorrection<=180?[[[east+longitudeCorrection,currentMapBounds.getNorth()],[west+longitudeCorrection,currentMapBounds.getNorth()],[west+longitudeCorrection,currentMapBounds.getSouth()],[east+longitudeCorrection,currentMapBounds.getSouth()],[east+longitudeCorrection,currentMapBounds.getNorth()]]]:west+longitudeCorrection<-180?[[[[180,currentMapBounds.getNorth()],[west+longitudeCorrection+360,currentMapBounds.getNorth()],[west+longitudeCorrection+360,currentMapBounds.getSouth()],[180,currentMapBounds.getSouth()],[180,currentMapBounds.getNorth()]]],[[[-180,currentMapBounds.getNorth()],[east+longitudeCorrection,currentMapBounds.getNorth()],[east+longitudeCorrection,currentMapBounds.getSouth()],[-180,currentMapBounds.getSouth()],[-180,currentMapBounds.getNorth()]]]]:east+longitudeCorrection>180?[[[[180,currentMapBounds.getNorth()],[west+longitudeCorrection,currentMapBounds.getNorth()],[west+longitudeCorrection,currentMapBounds.getSouth()],[180,currentMapBounds.getSouth()],[180,currentMapBounds.getNorth()]]],[[[-180,currentMapBounds.getNorth()],[east+longitudeCorrection-360,currentMapBounds.getNorth()],[east+longitudeCorrection-360,currentMapBounds.getSouth()],[-180,currentMapBounds.getSouth()],[-180,currentMapBounds.getNorth()]]]]:[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];Promise.resolve(shape2geohash(shapes,{precision:geohashLevel})).then((function(value){setGeohashes(value)}))}}}),[map]),null!=mapBounds){var west=mapBounds.getWest(),east=mapBounds.getEast(),adjustedWest=west,adjustedEast=east,eastWestDiff=east-west;if(eastWestDiff>360){var middle=(east+west)/2;adjustedEast=middle+181,adjustedWest=middle-181;var wideRenderer=leaflet_src_default.a.svg({padding:2});blinkers=[Object(jsx_runtime.jsx)(Rectangle.a,{bounds:[[-90,east+1.5*eastWestDiff],[90,adjustedEast]],stroke:!1,color:"black",fillOpacity:.3,renderer:wideRenderer,interactive:!1},"east-blinker"),Object(jsx_runtime.jsx)(Rectangle.a,{bounds:[[-90,west-1.5*eastWestDiff],[90,adjustedWest]],stroke:!1,color:"black",fillOpacity:.3,renderer:wideRenderer,interactive:!1},"west-blinker")]}var lats=[],lons=[];geohashes.forEach((function(geohash){var latlon=latlon_geohash.a.bounds(geohash);lats.indexOf(latlon.ne.lat)<0&&lats.push(latlon.ne.lat),lats.indexOf(latlon.sw.lat)<0&&lats.push(latlon.sw.lat),lons.indexOf(latlon.ne.lon)<0&&lons.push(latlon.ne.lon),lons.indexOf(latlon.sw.lon)<0&&lons.push(latlon.sw.lon)}));var latLines=lats.map((function(lat,index){return Object(jsx_runtime.jsx)(Polyline.a,{color:"gray",positions:[[lat,adjustedEast],[lat,adjustedWest]],opacity:.8,weight:1,dashArray:[10],interactive:!1},"lat-"+lat+"-"+index)})),lonLines=lons.map((function(lon,index){for(var adjustedLon=lon,opacity=.8;adjustedLon>adjustedEast;)adjustedLon-=360,180==lon&&(opacity=0);for(;adjustedLon<adjustedWest;)adjustedLon+=360,-180==lon&&(opacity=0);return Object(jsx_runtime.jsx)(Polyline.a,{color:"gray",positions:[[mapBounds.getNorth(),adjustedLon],[mapBounds.getSouth(),adjustedLon]],opacity:opacity,weight:1,dashArray:[10],interactive:!1},"lon-"+adjustedLon+"-"+index)}));polylines=[].concat(_toConsumableArray(latLines),_toConsumableArray(lonLines))}return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[polylines,blinkers]})}try{CustomGridLayer.displayName="CustomGridLayer",CustomGridLayer.__docgenInfo={description:"Renders a custom grid layer made up of Polyline components that have boundaries associated\nwith the geohashes available in the current map boundaries.",displayName:"CustomGridLayer",props:{zoomLevelToGeohashLevel:{defaultValue:null,description:"",name:"zoomLevelToGeohashLevel",required:!0,type:{name:"(leafletZoomLevel: number) => number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/CustomGridLayer.tsx#CustomGridLayer"]={docgenInfo:CustomGridLayer.__docgenInfo,name:"CustomGridLayer",path:"src/map/CustomGridLayer.tsx#CustomGridLayer"})}catch(__react_docgen_typescript_loader_error){}var mouseModeConfig=[{name:"default",icon:"fa-mouse-pointer",description:"Default mouse mode"},{name:"magnification",icon:"fa-search",description:"Magnification mode: Mouse over a marker to magnify it"}];mouseModeConfig.map((function(mode){return mode.name}));function MouseTools(props){var buttons=mouseModeConfig.map((function(mode){return Object(jsx_runtime.jsx)("a",{role:"button",onClick:function onClick(){return props.onMouseModeChange?props.onMouseModeChange(mode.name):void 0},className:"mapveu-button"+(props.mouseMode===mode.name?" mapveu-button-selected":""),title:mode.description,children:Object(jsx_runtime.jsx)("i",{className:"fa "+mode.icon})},mode.name)}));return Object(jsx_runtime.jsx)("div",{className:"leaflet-control-container",children:Object(jsx_runtime.jsx)("div",{className:"leaflet-top leaflet-right",children:Object(jsx_runtime.jsx)("span",{className:"mouse-toolbar leaflet-bar mapveu-hori-bar leaflet-control leaflet-touch",children:buttons})})})}MouseTools.displayName="MouseTools";try{MouseTools.displayName="MouseTools",MouseTools.__docgenInfo={description:"",displayName:"MouseTools",props:{mouseMode:{defaultValue:null,description:"",name:"mouseMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"magnification"'}]}},onMouseModeChange:{defaultValue:null,description:"",name:"onMouseModeChange",required:!1,type:{name:'((mode: "default" | "magnification") => void)'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/MouseTools.tsx#MouseTools"]={docgenInfo:MouseTools.__docgenInfo,name:"MouseTools",path:"src/map/MouseTools.tsx#MouseTools"})}catch(__react_docgen_typescript_loader_error){}var Spinner=__webpack_require__(605),NoDataOverlay=__webpack_require__(610),dom_to_image=__webpack_require__(851),dom_to_image_default=__webpack_require__.n(dom_to_image),promise_utils=__webpack_require__(611);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function MapVEuMap_slicedToArray(arr,i){return function MapVEuMap_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MapVEuMap_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||MapVEuMap_unsupportedIterableToArray(arr,i)||function MapVEuMap_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MapVEuMap_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return MapVEuMap_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MapVEuMap_arrayLikeToArray(o,minLen):void 0}}function MapVEuMap_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var baseLayers={Street:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012",maxZoom:17},Terrain:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)',maxZoom:17},Satellite:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",noWrap:!1,maxZoom:17},OSM:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery  <a href="http://mapbox.com">Mapbox</a>'}};function MapVEuMap(props,ref){var viewport=props.viewport,height=props.height,width=props.width,style=props.style,onViewportChanged=props.onViewportChanged,onBoundsChanged=props.onBoundsChanged,markers=props.markers,animation=props.animation,_props$recenterMarker=props.recenterMarkers,recenterMarkers=void 0===_props$recenterMarker||_props$recenterMarker,showGrid=props.showGrid,zoomLevelToGeohashLevel=props.zoomLevelToGeohashLevel,showMouseToolbar=(props.minZoom,props.showMouseToolbar),baseLayer=props.baseLayer,onBaseLayerChanged=props.onBaseLayerChanged,flyToMarkers=props.flyToMarkers,flyToMarkersDelay=props.flyToMarkersDelay,showSpinner=props.showSpinner,showNoDataOverlay=props.showNoDataOverlay,_props$showScale=props.showScale,showScale=void 0===_props$showScale||_props$showScale,_props$showLayerSelec=props.showLayerSelector,showLayerSelector=void 0===_props$showLayerSelec||_props$showLayerSelec,_props$showAttributio=props.showAttribution,showAttribution=void 0===_props$showAttributio||_props$showAttributio,_props$showZoomContro=props.showZoomControl,showZoomControl=void 0===_props$showZoomContro||_props$showZoomContro,_props$scrollingEnabl=props.scrollingEnabled,scrollingEnabled=void 0===_props$scrollingEnabl||_props$scrollingEnabl,mouseMode=props.mouseMode,onMouseModeChange=props.onMouseModeChange,_props$interactive=props.interactive,interactive=void 0===_props$interactive||_props$interactive,_useState2=MapVEuMap_slicedToArray(Object(react.useState)(!1),2),isDragging=_useState2[0],mapRef=(_useState2[1],Object(react.useRef)()),sharedPlotCreation=Object(react.useMemo)((function(){return Object(promise_utils.a)((function(){return Promise.resolve()}))}),[]),onCreated=Object(react.useCallback)((function(map){mapRef.current=map,sharedPlotCreation.run()}),[sharedPlotCreation.run]);Object(react.useImperativeHandle)(ref,(function(){return{toImage:(_toImage=_asyncToGenerator(regeneratorRuntime.mark((function _callee(imageOpts){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,new Promise((function(res){return setTimeout(res,1e3)}));case 2:return _context.next=4,sharedPlotCreation.promise;case 4:if(mapRef.current){_context.next=6;break}throw new Error("Map not ready");case 6:return _context.abrupt("return",dom_to_image_default.a.toPng(mapRef.current.getContainer(),imageOpts));case 7:case"end":return _context.stop()}}),_callee)}))),function toImage(_x){return _toImage.apply(this,arguments)})};var _toImage}),[dom_to_image_default.a,mapRef]);var finalMarkers=Object(react.useMemo)((function(){return"magnification"!==mouseMode||isDragging?markers:markers.map((function(marker){return Object(react.cloneElement)(marker,{showPopup:!0})}))}),[markers,isDragging,mouseMode]);return Object(jsx_runtime.jsxs)(MapContainer.a,Object.assign({center:viewport.center,zoom:viewport.zoom,style:Object.assign({height:height,width:width},style),className:"magnification"===mouseMode?"cursor-zoom-in":"",minZoom:1,worldCopyJump:!1,whenCreated:onCreated,attributionControl:showAttribution,zoomControl:showZoomControl},interactive?{}:{dragging:!1,keyboard:!1,doubleClickZoom:!1,tap:!1,touchZoom:!1,boxZoom:!1},{children:[Object(jsx_runtime.jsx)(TileLayer.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Object(jsx_runtime.jsx)(SemanticMarkers.a,{onBoundsChanged:onBoundsChanged,markers:finalMarkers,animation:animation,recenterMarkers:recenterMarkers}),showMouseToolbar&&Object(jsx_runtime.jsx)(MouseTools,{mouseMode:mouseMode,onMouseModeChange:onMouseModeChange}),showGrid&&zoomLevelToGeohashLevel?Object(jsx_runtime.jsx)(CustomGridLayer,{zoomLevelToGeohashLevel:zoomLevelToGeohashLevel}):null,showLayerSelector&&Object(jsx_runtime.jsx)(LayersControl.a,{position:"topleft",children:Object.entries(baseLayers).map((function(_ref,i){var _ref2=MapVEuMap_slicedToArray(_ref,2),name=_ref2[0],layerProps=_ref2[1];return Object(jsx_runtime.jsx)(LayersControl.a.BaseLayer,{name:name,checked:baseLayer?name===baseLayer:0===i,children:Object(jsx_runtime.jsx)(TileLayer.a,Object.assign({},layerProps))},name)}))}),showSpinner&&Object(jsx_runtime.jsx)(Spinner.a,{}),showNoDataOverlay&&Object(jsx_runtime.jsx)(NoDataOverlay.a,{opacity:.9}),showScale&&Object(jsx_runtime.jsx)(ScaleControl.a,{position:"bottomright"}),flyToMarkers&&Object(jsx_runtime.jsx)(PerformFlyToMarkers,{markers:markers,flyToMarkers:flyToMarkers,flyToMarkersDelay:flyToMarkersDelay}),Object(jsx_runtime.jsx)(MapVEuMapEvents,{onViewportChanged:onViewportChanged,onBaseLayerChanged:onBaseLayerChanged}),Object(jsx_runtime.jsx)(MapScrollWheelZoom,{scrollingEnabled:scrollingEnabled})]}))}MapVEuMap.displayName="MapVEuMap";__webpack_exports__.a=Object(react.forwardRef)(MapVEuMap);function PerformFlyToMarkers(props){var markers=props.markers,flyToMarkers=props.flyToMarkers,flyToMarkersDelay=props.flyToMarkersDelay,map=Object(hooks.a)(),markersBounds=Object(react.useMemo)((function(){if(markers){var _step,minLat=90,maxLat=-90,minLng=180,maxLng=-180,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=MapVEuMap_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(markers);try{for(_iterator.s();!(_step=_iterator.n()).done;){var bounds=_step.value.props.bounds,ne=bounds.northEast,sw=bounds.southWest;ne.lat>maxLat&&(maxLat=ne.lat),ne.lat<minLat&&(minLat=ne.lat),ne.lng>maxLng&&(maxLng=ne.lng),ne.lng<minLng&&(minLng=ne.lng),sw.lat>maxLat&&(maxLat=sw.lat),sw.lat<minLat&&(minLat=sw.lat),sw.lng>maxLng&&(maxLng=sw.lng),sw.lng<minLng&&(minLng=sw.lng)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return{southWest:{lat:minLat,lng:minLng},northEast:{lat:maxLat,lng:maxLng}}}return null}),[markers]),performFlyToMarkers=Object(react.useCallback)((function(){if(markersBounds){var ne=markersBounds.northEast,sw=markersBounds.southWest,latBuffer=.1*(ne.lat-sw.lat),lngBuffer=.1*(ne.lng-sw.lng),boundingBox=new leaflet_src.LatLngBounds([[sw.lat-latBuffer,sw.lng-lngBuffer],[ne.lat+latBuffer,ne.lng+lngBuffer]]);map.fitBounds(boundingBox)}}),[markersBounds,map]);return Object(react.useEffect)((function(){var asyncEffect=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!flyToMarkersDelay){_context2.next=3;break}return _context2.next=3,new Promise((function(resolve){return setTimeout(resolve,flyToMarkersDelay)}));case 3:performFlyToMarkers();case 4:case"end":return _context2.stop()}}),_callee2)})));return function asyncEffect(){return _ref3.apply(this,arguments)}}();flyToMarkers&&markers.length>0&&asyncEffect()}),[markers,flyToMarkers,flyToMarkersDelay,performFlyToMarkers]),null}function MapVEuMapEvents(props){var onViewportChanged=props.onViewportChanged,onBaseLayerChanged=props.onBaseLayerChanged,mapEvents=Object(hooks.b)({zoomend:function zoomend(){onViewportChanged({center:[mapEvents.getCenter().lat,mapEvents.getCenter().lng],zoom:mapEvents.getZoom()})},moveend:function moveend(){onViewportChanged({center:[mapEvents.getCenter().lat,mapEvents.getCenter().lng],zoom:mapEvents.getZoom()})},baselayerchange:function baselayerchange(e){onBaseLayerChanged&&onBaseLayerChanged(e.name)}});return null}function MapScrollWheelZoom(props){var map=Object(hooks.a)();return props.scrollingEnabled?map.scrollWheelZoom.enable():map.scrollWheelZoom.disable(),null}try{MapVEuMap.displayName="MapVEuMap",MapVEuMap.__docgenInfo={description:"",displayName:"MapVEuMap",props:{viewport:{defaultValue:null,description:"Center lat/long and zoom level",name:"viewport",required:!0,type:{name:"Viewport"}},onViewportChanged:{defaultValue:null,description:"update handler",name:"onViewportChanged",required:!0,type:{name:"(viewport: Viewport) => void"}},height:{defaultValue:null,description:"Height and width of plot element",name:"height",required:!0,type:{name:"Height<string | number> | undefined"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"Width<string | number> | undefined"}},style:{defaultValue:null,description:"CSS styles for the map container other than height and width,\nwhich have their own dedicated props",name:"style",required:!1,type:{name:'Omit<CSSProperties, "width" | "height">'}},onBoundsChanged:{defaultValue:null,description:"callback for when viewport has changed, giving access to the bounding box",name:"onBoundsChanged",required:!0,type:{name:"(bvp: BoundsViewport) => void"}},markers:{defaultValue:null,description:"",name:"markers",required:!0,type:{name:"ReactElement<BoundsDriftMarkerProps, string | JSXElementConstructor<any>>[]"}},recenterMarkers:{defaultValue:null,description:"",name:"recenterMarkers",required:!1,type:{name:"boolean"}},sidebarOnClose:{defaultValue:null,description:"",name:"sidebarOnClose",required:!1,type:{name:"((value: SetStateAction<boolean>) => void)"}},animation:{defaultValue:null,description:"",name:"animation",required:!0,type:{name:"{ method: string; duration: number; animationFunction: AnimationFunction; } | null"}},showGrid:{defaultValue:null,description:"Should a geohash-based grid be shown?\nOptional. See also zoomLevelToGeohashLevel",name:"showGrid",required:!1,type:{name:"boolean"}},zoomLevelToGeohashLevel:{defaultValue:null,description:"A function to map from Leaflet zoom level to Geohash level\n\nOptional, but required for grid functionality if showGrid is true",name:"zoomLevelToGeohashLevel",required:!1,type:{name:"((leafletZoomLevel: number) => number)"}},minZoom:{defaultValue:null,description:"What's the minimum leaflet zoom level allowed? Default = 1",name:"minZoom",required:!1,type:{name:"number"}},showMouseToolbar:{defaultValue:null,description:"Should the mouse-mode (regular/magnifying glass) icons be shown and active?",name:"showMouseToolbar",required:!1,type:{name:"boolean"}},mouseMode:{defaultValue:null,description:"mouseMode control",name:"mouseMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"magnification"'}]}},onMouseModeChange:{defaultValue:null,description:"a function for changing mouseMode",name:"onMouseModeChange",required:!1,type:{name:'((value: "default" | "magnification") => void)'}},baseLayer:{defaultValue:null,description:"The name of the tile layer to use. If omitted, defaults to Street.",name:"baseLayer",required:!1,type:{name:"enum",value:[{value:'"Street"'},{value:'"Terrain"'},{value:'"Satellite"'},{value:'"OSM"'}]}},onBaseLayerChanged:{defaultValue:null,description:"Callback for when the base layer has changed",name:"onBaseLayerChanged",required:!1,type:{name:'((newBaseLayer: "Street" | "Terrain" | "Satellite" | "OSM") => void)'}},showLayerSelector:{defaultValue:null,description:"Show layers control, default true",name:"showLayerSelector",required:!1,type:{name:"boolean"}},showAttribution:{defaultValue:null,description:"Show attribution, default true",name:"showAttribution",required:!1,type:{name:"boolean"}},showZoomControl:{defaultValue:null,description:"Show zoom control, default true",name:"showZoomControl",required:!1,type:{name:"boolean"}},flyToMarkers:{defaultValue:null,description:"Whether to zoom and pan map to center on markers",name:"flyToMarkers",required:!1,type:{name:"boolean"}},flyToMarkersDelay:{defaultValue:null,description:"How long (in ms) after rendering to wait before flying to markers",name:"flyToMarkersDelay",required:!1,type:{name:"number"}},showSpinner:{defaultValue:null,description:"Whether to show a loading spinner",name:"showSpinner",required:!1,type:{name:"boolean"}},showNoDataOverlay:{defaultValue:null,description:'Whether to show the "No data" overlay',name:"showNoDataOverlay",required:!1,type:{name:"boolean"}},showScale:{defaultValue:null,description:"Whether to show the Scale in the map",name:"showScale",required:!1,type:{name:"boolean"}},interactive:{defaultValue:null,description:"Whether to allow any interactive control of map location (default: true)",name:"interactive",required:!1,type:{name:"boolean"}},scrollingEnabled:{defaultValue:null,description:"is map scroll and zoom allowed? default true; will be overridden by `interactive: false`",name:"scrollingEnabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/MapVEuMap.tsx#MapVEuMap"]={docgenInfo:MapVEuMap.__docgenInfo,name:"MapVEuMap",path:"src/map/MapVEuMap.tsx#MapVEuMap"})}catch(__react_docgen_typescript_loader_error){}},853:function(module){module.exports=JSON.parse('{"geohash_7":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svsk8x","count":72,"ltAvg":-17.531099999999995,"ltMin":-17.5311,"ltMax":-17.5311,"lnAvg":-149.5580000000002,"lnMin":-149.558,"lnMax":-149.558},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"88256cp","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":8},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":8,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vsf","count":8,"ltAvg":-17.771,"ltMin":-17.771,"ltMax":-17.771,"lnAvg":177.433,"lnMin":177.433,"lnMax":177.433},{"term":{"between":{"count":2},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":2,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vmr","count":2,"ltAvg":-17.768,"ltMin":-17.768,"ltMax":-17.768,"lnAvg":177.428,"lnMin":177.428,"lnMax":177.428},{"term":{"between":{"count":2},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":2,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vse","count":2,"ltAvg":-17.773,"ltMin":-17.773,"ltMax":-17.773,"lnAvg":177.434,"lnMin":177.434,"lnMax":177.434},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svekjr","count":1,"ltAvg":-17.68,"ltMin":-17.68,"ltMax":-17.68,"lnAvg":-149.58,"lnMin":-149.58,"lnMax":-149.58},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2th45k3","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4sg3","count":1,"ltAvg":-17.823,"ltMin":-17.823,"ltMax":-17.823,"lnAvg":177.398,"lnMin":177.398,"lnMax":177.398},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vyh","count":1,"ltAvg":-17.764,"ltMin":-17.764,"ltMax":-17.764,"lnAvg":177.446,"lnMin":177.446,"lnMax":177.446},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4yt2","count":1,"ltAvg":-17.769,"ltMin":-17.769,"ltMax":-17.769,"lnAvg":177.474,"lnMin":177.474,"lnMax":177.474}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_7"},"QTime":401,"status":0}},"geohash_6":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svsk8","count":72,"ltAvg":-17.531099999999995,"ltMin":-17.5311,"ltMax":-17.5311,"lnAvg":-149.5580000000002,"lnMin":-149.558,"lnMax":-149.558},{"term":{"between":{"count":10},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":10,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":2,"val":"ruy4vs","count":10,"ltAvg":-17.7714,"ltMin":-17.773,"ltMax":-17.771,"lnAvg":177.4332,"lnMin":177.433,"lnMax":177.434},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"88256c","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":2},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":2,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vm","count":2,"ltAvg":-17.768,"ltMin":-17.768,"ltMax":-17.768,"lnAvg":177.428,"lnMin":177.428,"lnMax":177.428},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svekj","count":1,"ltAvg":-17.68,"ltMin":-17.68,"ltMax":-17.68,"lnAvg":-149.58,"lnMin":-149.58,"lnMax":-149.58},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2th45k","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4sg","count":1,"ltAvg":-17.823,"ltMin":-17.823,"ltMax":-17.823,"lnAvg":177.398,"lnMin":177.398,"lnMax":177.398},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4vy","count":1,"ltAvg":-17.764,"ltMin":-17.764,"ltMax":-17.764,"lnAvg":177.446,"lnMin":177.446,"lnMax":177.446},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4yt","count":1,"ltAvg":-17.769,"ltMin":-17.769,"ltMax":-17.769,"lnAvg":177.474,"lnMin":177.474,"lnMax":177.474}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_6"},"QTime":82,"status":0}},"geohash_5":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svsk","count":72,"ltAvg":-17.531099999999995,"ltMin":-17.5311,"ltMax":-17.5311,"lnAvg":-149.5580000000002,"lnMin":-149.558,"lnMax":-149.558},{"term":{"between":{"count":13},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":13,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":4,"val":"ruy4v","count":13,"ltAvg":-17.77030769230769,"ltMin":-17.773,"ltMax":-17.764,"lnAvg":177.43338461538463,"lnMin":177.428,"lnMax":177.446},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"88256","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svek","count":1,"ltAvg":-17.68,"ltMin":-17.68,"ltMax":-17.68,"lnAvg":-149.58,"lnMin":-149.58,"lnMax":-149.58},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2th45","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4s","count":1,"ltAvg":-17.823,"ltMin":-17.823,"ltMax":-17.823,"lnAvg":177.398,"lnMin":177.398,"lnMax":177.398},{"term":{"between":{"count":1},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":1,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"ruy4y","count":1,"ltAvg":-17.769,"ltMin":-17.769,"ltMax":-17.769,"lnAvg":177.474,"lnMin":177.474,"lnMax":177.474}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_5"},"QTime":69,"status":0}},"geohash_4":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2svs","count":72,"ltAvg":-17.531099999999995,"ltMin":-17.5311,"ltMax":-17.5311,"lnAvg":-149.5580000000002,"lnMin":-149.558,"lnMax":-149.558},{"term":{"between":{"count":15},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":15,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":6,"val":"ruy4","count":15,"ltAvg":-17.77373333333333,"ltMin":-17.823,"ltMax":-17.764,"lnAvg":177.43373333333332,"lnMin":177.398,"lnMax":177.474},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"8825","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2sve","count":1,"ltAvg":-17.68,"ltMin":-17.68,"ltMax":-17.68,"lnAvg":-149.58,"lnMin":-149.58,"lnMax":-149.58},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2th4","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_4"},"QTime":65,"status":0}},"geohash_3":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":2,"val":"2sv","count":73,"ltAvg":-17.533139726027393,"ltMin":-17.68,"ltMax":-17.5311,"lnAvg":-149.55830136986322,"lnMin":-149.58,"lnMax":-149.558},{"term":{"between":{"count":15},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":15,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":6,"val":"ruy","count":15,"ltAvg":-17.77373333333333,"ltMin":-17.823,"ltMax":-17.764,"lnAvg":177.43373333333332,"lnMin":177.398,"lnMax":177.474},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"882","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2th","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_3"},"QTime":62,"status":0}},"geohash_2":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":2,"val":"2s","count":73,"ltAvg":-17.533139726027393,"ltMin":-17.68,"ltMax":-17.5311,"lnAvg":-149.55830136986322,"lnMin":-149.58,"lnMax":-149.558},{"term":{"between":{"count":15},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":15,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":6,"val":"ru","count":15,"ltAvg":-17.77373333333333,"ltMin":-17.823,"ltMax":-17.764,"lnAvg":177.43373333333332,"lnMin":177.398,"lnMax":177.474},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"88","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369},{"term":{"between":{"count":0},"after":{"count":0},"before":{"count":1},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"2t","count":1,"ltAvg":-16.5,"ltMin":-16.5,"ltMax":-16.5,"lnAvg":-151.73,"lnMin":-151.73,"lnMax":-151.73}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_2"},"QTime":4,"status":0}},"geohash_1":{"facets":{"geo":{"buckets":[{"term":{"between":{"count":72},"after":{"count":0},"before":{"count":2},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":60,"val":"2008-01-01T00:00:00Z"},{"count":12,"val":"2012-01-01T00:00:00Z"},{"count":0,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":3,"val":"2","count":74,"ltAvg":-17.519178378378374,"ltMin":-17.68,"ltMax":-16.5,"lnAvg":-149.58764864864887,"lnMin":-151.73,"lnMax":-149.558},{"term":{"between":{"count":15},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":15,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":6,"val":"r","count":15,"ltAvg":-17.77373333333333,"ltMin":-17.823,"ltMax":-17.764,"lnAvg":177.43373333333332,"lnMin":177.398,"lnMax":177.474},{"term":{"between":{"count":9},"after":{"count":0},"before":{"count":0},"buckets":[{"count":0,"val":"2000-01-01T00:00:00Z"},{"count":0,"val":"2004-01-01T00:00:00Z"},{"count":0,"val":"2008-01-01T00:00:00Z"},{"count":0,"val":"2012-01-01T00:00:00Z"},{"count":9,"val":"2016-01-01T00:00:00Z"}]},"atomicCount":1,"val":"8","count":9,"ltAvg":1.9840000000000002,"ltMin":1.984,"ltMax":1.984,"lnAvg":-157.369,"lnMin":-157.369,"lnMax":-157.369}]},"count":98},"response":{"docs":[],"start":0,"numFound":98},"responseHeader":{"params":{"wt":"json","rows":"0","sort":"id asc","json":"{\\n\\t\\t\\"filter\\": [\\n                  \\"bundle:pop_sample\\",\\n\\t\\t  \\"has_geodata:true\\",\\n                  \\"geolocations_cvterms:(\\\\\\"French Polynesia\\\\\\" OR Fiji OR Kiribati)\\"\\n                ],\\n\\t\\t\\"facet\\": {\\n\\t          \\"geo\\": {\\n\\t \\t    \\"type\\": \\"terms\\",\\n\\t\\t    \\"field\\": \\"${geo:geohash_3}\\",\\n\\t\\t    \\"limit\\": -1,\\n\\t\\t    \\"mincount\\": 1,\\n\\t\\t    \\"sort\\": {\\n\\t\\t\\t\\"count\\": \\"desc\\"\\n\\t\\t    },\\n\\t\\t    \\"facet\\": {\\n\\t\\t\\t\\"ltAvg\\": \\"avg(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMin\\": \\"min(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"ltMax\\": \\"max(geo_coords_ll_0_coordinate)\\",\\n\\t\\t\\t\\"lnAvg\\": \\"avg(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMin\\": \\"min(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\t\\"lnMax\\": \\"max(geo_coords_ll_1_coordinate)\\",\\n\\t\\t\\tatomicCount: \\"unique(${geomax:geohash_7})\\",\\n\\t\\t\\t\\"term\\": {\\n\\t\\t\\t\\t\\"type\\": \\"range\\",\\n\\t\\t\\t\\t\\"field\\": \\"${term:collection_date}\\",\\n\\t\\t\\t\\t\\"start\\": \\"2000-01-01T00:00:00Z\\",\\n                                \\"end\\": \\"2020-01-01T00:00:00Z\\",\\n                                \\"gap\\": \\"+4YEARS\\",\\n\\t\\t\\t\\t\\"mincount\\": 0,\\n                                \\"other\\": \\"all\\"\\n\\t\\t\\t}\\n\\t\\t    }\\n                 }\\n               }\\n            }","q":"*:*","geo":"geohash_1"},"QTime":549,"status":0}}}')},86:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return Tab})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Sidebar}));__webpack_require__(25),__webpack_require__(74),__webpack_require__(2640);var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),re_resizable__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(2641),__webpack_require__(1328)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),resizeRightOnly={top:!1,right:!0,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1};function Tab(props){var closeIcon,active=props.active?" active":"";if("string"==typeof props.closeIcon)closeIcon=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("i",{className:props.closeIcon});else if("object"==typeof props.closeIcon)closeIcon=props.closeIcon;else{var closecls="right"===props.position?"fas fa-caret-right":"fas fa-caret-left";closeIcon=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("i",{className:closecls})}return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{id:props.id,className:"leaflet-sidebar-pane"+active,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("h1",{className:"leaflet-sidebar-header",children:[props.header,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"leaflet-sidebar-close",onClick:props.onClose,children:closeIcon})]}),props.children]})}function Sidebar(props){function onClose(e){e.preventDefault(),e.stopPropagation(),props.onClose&&props.onClose()}function onOpen(e,tabid){e.preventDefault(),e.stopPropagation(),props.onOpen&&props.onOpen(tabid)}function renderTab(tab){var icon;"string"==typeof tab.props.icon?icon=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("i",{className:tab.props.icon}):"object"==typeof tab.props.icon&&(icon=tab.props.icon);var active=tab.props.id===props.selected?" active":"",disabled=tab.props.disabled?" disabled":"";return tab.props.disabled&&tab.props.divider?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"sidebartabs"+active+disabled,title:tab.props.header,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{href:"#"+tab.props.id,role:"tab",onClick:function onClick(e){return tab.props.disabled||onOpen(e,tab.props.id)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("img",{src:"./img/line-divider.png"})})},tab.props.id):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"sidebartabs"+active+disabled,title:tab.props.header,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{href:"#"+tab.props.id,role:"tab",onClick:function onClick(e){return tab.props.disabled||onOpen(e,tab.props.id)},children:icon})},tab.props.id)}var position=" leaflet-sidebar-"+(props.position||"left"),collapsed=props.collapsed?" collapsed":"",allTabs=react__WEBPACK_IMPORTED_MODULE_3___default.a.Children.toArray(props.children).filter((function(c){return!!c})),bottomtabs=allTabs.filter((function(tab){return"bottom"===tab.props.anchor})),toptabs=allTabs.filter((function(tab){return"bottom"!==tab.props.anchor}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{id:props.id,className:"leaflet-sidebar leaflet-touch"+position+collapsed,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"leaflet-sidebar-tabs",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("ul",{role:"tablist",children:[" ",toptabs.map((function(toptab){return renderTab(toptab)}))]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("ul",{role:"tablist",children:[" ",bottomtabs.map((function(bottomtab){return renderTab(bottomtab)}))]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(re_resizable__WEBPACK_IMPORTED_MODULE_5__.a,{className:"leaflet-sidebar-content",minWidth:420,enable:resizeRightOnly,children:[function renderPanes(children){return react__WEBPACK_IMPORTED_MODULE_3___default.a.Children.map(children,(function(p){return react__WEBPACK_IMPORTED_MODULE_3___default.a.cloneElement(p,{onClose:onClose,closeIcon:props.closeIcon,active:p.props.id===props.selected,position:props.position||"left"})}))}(allTabs),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"ui-resizable-e fas fa-grip-lines-vertical"})]})]})}Tab.displayName="Tab",Sidebar.displayName="Sidebar";try{Tab.displayName="Tab",Tab.__docgenInfo={description:"",displayName:"Tab",props:{divider:{defaultValue:null,description:"",name:"divider",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"Icon"}},anchor:{defaultValue:null,description:"",name:"anchor",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},closeIcon:{defaultValue:null,description:"",name:"closeIcon",required:!1,type:{name:"Icon"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/Sidebar.tsx#Tab"]={docgenInfo:Tab.__docgenInfo,name:"Tab",path:"src/map/Sidebar.tsx#Tab"})}catch(__react_docgen_typescript_loader_error){}try{Sidebar.displayName="Sidebar",Sidebar.__docgenInfo={description:"",displayName:"Sidebar",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},collapsed:{defaultValue:null,description:"",name:"collapsed",required:!0,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"string"}},closeIcon:{defaultValue:null,description:"",name:"closeIcon",required:!1,type:{name:"Icon"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"((id: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/map/Sidebar.tsx#Sidebar"]={docgenInfo:Sidebar.__docgenInfo,name:"Sidebar",path:"src/map/Sidebar.tsx#Sidebar"})}catch(__react_docgen_typescript_loader_error){}},92:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return PlotSpacingDefault})),__webpack_require__.d(__webpack_exports__,"g",(function(){return OrientationDefault})),__webpack_require__.d(__webpack_exports__,"f",(function(){return OpacityDefault})),__webpack_require__.d(__webpack_exports__,"l",(function(){return independentAxisLogScaleDefault})),__webpack_require__.d(__webpack_exports__,"c",(function(){return DependentAxisLogScaleDefault})),__webpack_require__.d(__webpack_exports__,"e",(function(){return MarkerScaleDefault})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ColorPaletteDefault})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ColorPaletteOrdinal})),__webpack_require__.d(__webpack_exports__,"i",(function(){return SequentialGradientColorscale})),__webpack_require__.d(__webpack_exports__,"d",(function(){return DivergingGradientColorscale})),__webpack_require__.d(__webpack_exports__,"k",(function(){return gradientSequentialColorscaleMap})),__webpack_require__.d(__webpack_exports__,"j",(function(){return gradientDivergingColorscaleMap}));__webpack_require__(25),__webpack_require__(8),__webpack_require__(121),__webpack_require__(151);var d3_scale__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(632),d3__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(94),d3_color__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(352),d3_color__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2729),PlotSpacingDefault={marginTop:100,marginRight:80,marginBottom:80,marginLeft:80,padding:0},OrientationDefault="vertical",OpacityDefault=.5,independentAxisLogScaleDefault=!1,DependentAxisLogScaleDefault=!1,MarkerScaleDefault=1,ColorPaletteDefault=["rgb(136,34,85)","rgb(136,204,238)","rgb(153,153,51)","rgb(51,34,136)","rgb(68,170,153)","rgb(221,204,119)","rgb(204,102,119)","rgb(17,119,51)"],ColorPaletteOrdinal=["rgb(136,34,85)","rgb(204,102,119)","rgb(153,153,51)","rgb(221,204,119)","rgb(68,170,153)","rgb(17,119,51)","rgb(136,204,238)","rgb(51,34,136)"],SequentialGradientColorscale=["rgb(215, 215, 216)","rgb(176, 185, 200)","rgb(144, 166, 201)","rgb(111, 146, 202)","rgb(78, 125, 199)","rgb(46, 98, 160)","rgb(27, 73, 117)","rgb(17, 48, 77)","rgb(11, 25, 39)","rgb(0, 1, 0)"],DivergingGradientColorscale=["rgb(1, 18, 97)","rgb(2, 37, 109)","rgb(2, 57, 122)","rgb(3, 78, 135)","rgb(16, 100, 150)","rgb(47, 125, 166)","rgb(83, 149, 183)","rgb(125, 176, 201)","rgb(166, 201, 218)","rgb(207, 225, 234)","rgb(235, 237, 233)","rgb(234, 225, 206)","rgb(220, 203, 168)","rgb(205, 181, 131)","rgb(190, 159, 95)","rgb(174, 136, 60)","rgb(159, 113, 28)","rgb(141, 87, 4)","rgb(126, 63, 1)","rgb(111, 41, 1)","rgb(97, 18, 0)"],ConvergingGradientColorscale=["rgb(158, 176, 255)","rgb(130, 173, 242)","rgb(98, 166, 224)","rgb(68, 151, 198)","rgb(50, 128, 166)","rgb(40, 104, 134)","rgb(32, 82, 106)","rgb(23, 60, 77)","rgb(17, 39, 50)","rgb(17, 22, 27)","rgb(25, 12, 9)","rgb(38, 13, 1)","rgb(55, 16, 0)","rgb(74, 21, 2)","rgb(97, 32, 11)","rgb(125, 52, 30)","rgb(150, 74, 54)","rgb(176, 98, 83)","rgb(202, 123, 113)","rgb(229, 149, 144)","rgb(255, 173, 173)"].map((function(color){return Object(d3_color__WEBPACK_IMPORTED_MODULE_6__.d)(Object(d3_color__WEBPACK_IMPORTED_MODULE_7__.a)(color).darker(-1)).toString()})),gradientSequentialColorscaleMap=Object(d3_scale__WEBPACK_IMPORTED_MODULE_4__.a)().domain(Object(d3__WEBPACK_IMPORTED_MODULE_5__.b)(SequentialGradientColorscale.length).map((function(a){return a/(SequentialGradientColorscale.length-1)}))).range(SequentialGradientColorscale).interpolate(d3__WEBPACK_IMPORTED_MODULE_5__.a),divergingColorscaleSteps=Math.floor(DivergingGradientColorscale.length/2),gradientDivergingColorscaleMap=Object(d3_scale__WEBPACK_IMPORTED_MODULE_4__.a)().domain(Object(d3__WEBPACK_IMPORTED_MODULE_5__.b)(-divergingColorscaleSteps,divergingColorscaleSteps+1).map((function(a){return a/divergingColorscaleSteps}))).range(DivergingGradientColorscale).interpolate(d3__WEBPACK_IMPORTED_MODULE_5__.a),convergingColorscaleSteps=Math.floor(ConvergingGradientColorscale.length/2);Object(d3_scale__WEBPACK_IMPORTED_MODULE_4__.a)().domain(Object(d3__WEBPACK_IMPORTED_MODULE_5__.b)(-convergingColorscaleSteps,convergingColorscaleSteps+1).map((function(a){return a/convergingColorscaleSteps}))).range(ConvergingGradientColorscale).interpolate(d3__WEBPACK_IMPORTED_MODULE_5__.a)},93:function(module,__webpack_exports__,__webpack_require__){"use strict";var _addOns__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(92);__webpack_require__.d(__webpack_exports__,"DependentAxisLogScaleDefault",(function(){return _addOns__WEBPACK_IMPORTED_MODULE_0__.c})),__webpack_require__.d(__webpack_exports__,"MarkerScaleDefault",(function(){return _addOns__WEBPACK_IMPORTED_MODULE_0__.e})),__webpack_require__.d(__webpack_exports__,"OpacityDefault",(function(){return _addOns__WEBPACK_IMPORTED_MODULE_0__.f})),__webpack_require__.d(__webpack_exports__,"OrientationDefault",(function(){return _addOns__WEBPACK_IMPORTED_MODULE_0__.g})),__webpack_require__.d(__webpack_exports__,"independentAxisLogScaleDefault",(function(){return _addOns__WEBPACK_IMPORTED_MODULE_0__.l}));__webpack_require__(1241),__webpack_require__(1242),__webpack_require__(1243),__webpack_require__(1244),__webpack_require__(1245),__webpack_require__(1246),__webpack_require__(1247),__webpack_require__(1248),__webpack_require__(1249)},95:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return NumberInput})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DateInput}));__webpack_require__(10),__webpack_require__(248),__webpack_require__(38),__webpack_require__(7),__webpack_require__(11),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(15),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_material_ui_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(200),_material_ui_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2728),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1336),_constants_colors__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(36),lodash__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(17),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function NumberInput(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(BaseInput,Object.assign({},props,{valueType:"number"}))}function DateInput(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(BaseInput,Object.assign({},props,{valueType:"date"}))}function BaseInput(_ref){var value=_ref.value,minValue=_ref.minValue,maxValue=_ref.maxValue,validator=_ref.validator,_ref$required=_ref.required,required=void 0!==_ref$required&&_ref$required,onValueChange=_ref.onValueChange,label=_ref.label,valueType=_ref.valueType,containerStyles=_ref.containerStyles,_ref$displayRangeViol=_ref.displayRangeViolationWarnings,displayRangeViolationWarnings=void 0===_ref$displayRangeViol||_ref$displayRangeViol,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled;validator&&(required||null!=minValue||null!=maxValue)&&console.log("WARNING: NumberInput or DateInput will ignore props required, minValue and/or maxValue because validator was provided.");var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(value),2),localValue=_useState2[0],setLocalValue=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(!1),2),setFocused=(_useState4[0],_useState4[1]),_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)({error:!1,helperText:""}),2),errorState=_useState6[0],setErrorState=_useState6[1],classes=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__.a)({root:{height:36.5,width:"date"===valueType?165:""}})(),debouncedOnChange=Object(react__WEBPACK_IMPORTED_MODULE_13__.useMemo)((function(){return Object(lodash__WEBPACK_IMPORTED_MODULE_18__.debounce)(onValueChange,500)}),[onValueChange]);Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){return debouncedOnChange.cancel}),[]);var _validator=null!=validator?validator:Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)((function(newValue){return null==newValue?{validity:!required,message:required?"Please enter a "+valueType+".":""}:null!=minValue&&newValue<minValue?{validity:!1,message:"Sorry, value can't go below "+minValue+"!"}:null!=maxValue&&newValue>maxValue?{validity:!1,message:"Sorry, value can't go above "+maxValue+"!"}:null!=minValue&&newValue===minValue&&null!=maxValue&&newValue===maxValue?{validity:!1,message:"Sorry, min and max values can't be the same!"}:{validity:!0,message:""}}),[required,minValue,maxValue]),boundsCheckedValue=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)((function(newValue){var _validator2=_validator(newValue),validity=_validator2.validity,message=_validator2.message;return setErrorState({error:""!==message,helperText:message}),validity}),[_validator]);Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){boundsCheckedValue(value),value!==localValue&&setLocalValue(value)}),[value,boundsCheckedValue]);var handleChange=Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)((function(event){var newValue=""===event.target.value?void 0:"number"===valueType?Number(event.target.value):String(event.target.value);setLocalValue(newValue),boundsCheckedValue(newValue)?debouncedOnChange(newValue):debouncedOnChange.flush()}),[boundsCheckedValue,debouncedOnChange]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("div",{style:Object.assign({},containerStyles),onMouseOver:function onMouseOver(){return setFocused(!0)},onMouseOut:function onMouseOut(){return setFocused(!1)},children:[label&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_14__.a,{variant:"button",style:{color:disabled?_constants_colors__WEBPACK_IMPORTED_MODULE_17__.k:_constants_colors__WEBPACK_IMPORTED_MODULE_17__.a},children:label}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_15__.a,{InputProps:{classes:classes},value:null==localValue?"":"number"===valueType?localValue:null==localValue?void 0:localValue.substr(0,10),type:valueType,variant:"outlined",onChange:handleChange,onFocus:function onFocus(event){return event.currentTarget.select()},error:errorState.error,helperText:displayRangeViolationWarnings&&errorState.helperText,disabled:disabled})})]})}NumberInput.displayName="NumberInput",DateInput.displayName="DateInput",BaseInput.displayName="BaseInput";try{NumberInput.displayName="NumberInput",NumberInput.__docgenInfo={description:"",displayName:"NumberInput",props:{value:{defaultValue:null,description:"Externally controlled value.",name:"value",required:!1,type:{name:"number"}},minValue:{defaultValue:null,description:"Minimum allowed value (inclusive)",name:"minValue",required:!1,type:{name:"number"}},maxValue:{defaultValue:null,description:"Maximum allowed value (inclusive)",name:"maxValue",required:!1,type:{name:"number"}},required:{defaultValue:null,description:"If true, warn about empty value. Default is false.",name:"required",required:!1,type:{name:"boolean"}},validator:{defaultValue:null,description:"Optional validator function. Should return {validity: true, message: ''} if value is allowed.\nIf provided, minValue and maxValue and required will have no effect.",name:"validator",required:!1,type:{name:"((newValue?: NumberOrDate) => { validity: boolean; message: string; })"}},onValueChange:{defaultValue:null,description:"Function to invoke when value changes.",name:"onValueChange",required:!0,type:{name:"(newValue?: NumberOrDate | undefined) => void"}},label:{defaultValue:null,description:"UI Label for the widget. Optional",name:"label",required:!1,type:{name:"string"}},containerStyles:{defaultValue:null,description:"Additional styles for component container. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},displayRangeViolationWarnings:{defaultValue:null,description:"Do not flag up value range violations",name:"displayRangeViolationWarnings",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Disabled? Default is false",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/NumberAndDateInputs.tsx#NumberInput"]={docgenInfo:NumberInput.__docgenInfo,name:"NumberInput",path:"src/components/widgets/NumberAndDateInputs.tsx#NumberInput"})}catch(__react_docgen_typescript_loader_error){}try{DateInput.displayName="DateInput",DateInput.__docgenInfo={description:"",displayName:"DateInput",props:{value:{defaultValue:null,description:"Externally controlled value.",name:"value",required:!1,type:{name:"string"}},minValue:{defaultValue:null,description:"Minimum allowed value (inclusive)",name:"minValue",required:!1,type:{name:"string"}},maxValue:{defaultValue:null,description:"Maximum allowed value (inclusive)",name:"maxValue",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"If true, warn about empty value. Default is false.",name:"required",required:!1,type:{name:"boolean"}},validator:{defaultValue:null,description:"Optional validator function. Should return {validity: true, message: ''} if value is allowed.\nIf provided, minValue and maxValue and required will have no effect.",name:"validator",required:!1,type:{name:"((newValue?: NumberOrDate) => { validity: boolean; message: string; })"}},onValueChange:{defaultValue:null,description:"Function to invoke when value changes.",name:"onValueChange",required:!0,type:{name:"(newValue?: NumberOrDate | undefined) => void"}},label:{defaultValue:null,description:"UI Label for the widget. Optional",name:"label",required:!1,type:{name:"string"}},containerStyles:{defaultValue:null,description:"Additional styles for component container. Optional.",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},displayRangeViolationWarnings:{defaultValue:null,description:"Do not flag up value range violations",name:"displayRangeViolationWarnings",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Disabled? Default is false",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/widgets/NumberAndDateInputs.tsx#DateInput"]={docgenInfo:DateInput.__docgenInfo,name:"DateInput",path:"src/components/widgets/NumberAndDateInputs.tsx#DateInput"})}catch(__react_docgen_typescript_loader_error){}}},[[1444,2,3]]]);